{"version":3,"sources":["config.js","redux/actions/login.js","modes/admin/components/header.js","redux/actions/sidebar.js","modes/admin/components/sidebar.js","utils/debounceUtil.js","components/basicChart/index.js","components/areaChart/index.js","components/barChart/index.js","components/dashboardHeader/index.js","utils/fetchChartData.js","utils/rankingListUtil.js","components/dataCard/index.js","components/dashboardChart/index.js","components/pageLoading/index.js","axios/$axios.js","redux/actions/monthData.js","redux/actions/yearData.js","redux/actions/periodData.js","pages/dashboard/index.js","redux/actions/weekData.js","redux/actions/product.js","redux/actions/form.js","components/verifyId/index.js","components/logo/index.js","pages/productPage/index.js","utils/productUtil.js","components/addSteps/components/addStepOne.js","components/addSteps/components/addStepTwo.js","components/addSteps/components/addStepThree.js","components/addSteps/index.js","pages/addProduct/index.js","pages/orderPage/index.js","components/alipay/index.js","components/wechatPay/index.js","components/paypal/index.js","pages/paymentPage/index.js","pages/mailPage/index.js","pages/themePage/index.js","pages/accountPage/index.js","pages/errorPage/error404.js","pages/errorPage/error500.js","router/routes.js","modes/admin/components/content.js","modes/admin/index.js","pages/mobilePage/index.js","modes/login/index.js","components/contact/index.js","utils/crypto.js","components/captcha/index.js","components/queryDialog/index.js","pages/shoppingPage/index.js","components/paymentDialog/index.js","modes/product/index.js","modes/install/components/wecomePage.js","modes/install/components/collectInfo.js","modes/install/index.js","utils/authUtil.js","router/index.js","redux/reducers/login.js","redux/reducers/sidebar.js","redux/reducers/weekData.js","redux/reducers/monthData.js","redux/reducers/yearData.js","redux/reducers/periodData.js","redux/reducers/product.js","redux/reducers/form.js","redux/store.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","devHost","prodHost","handleUserInfo","data","type","payload","confirm","Header","Meta","actionCreator","handleCollapse","connect","state","isCollapsed","sidebar","ordersByMonth","monthData","order","form","withRouter","props","useState","showMessage","setShowMessage","messageNumber","setMessageNumber","orders","setOrders","useEffect","date","Date","monthOrder","reverse","forEach","item","year","getFullYear","month","getMonth","push","ordersNumber","getDay","localStorage","getItem","length","handleLogout","removeItem","history","handleMessage","theme","MenuUnfoldOutlined","onClick","MenuFoldOutlined","LogoutOutlined","title","icon","ExclamationCircleOutlined","content","okText","okType","cancelText","onOk","onCancel","console","log","className","href","count","BellOutlined","style","width","actions","setItem","onMouseLeave","description","size","bordered","dataSource","map","email","time","productName","levelName","price","renderItem","Item","Sider","menuSelected","location","pathname","menuOpened","split","trigger","collapsible","collapsed","height","boxShadow","zIndex","src","alt","margin","float","fontSize","color","marginTop","fontWeight","mode","defaultOpenKeys","defaultSelectedKeys","selectedKeys","key","to","AccountBookOutlined","ShopOutlined","PayCircleOutlined","MailOutlined","SkinOutlined","DashboardOutlined","IdcardOutlined","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","setTimeout","apply","this","callNow","Chart","chart","initChart","bind","window","addEventListener","resize","nextProps","currentRange","dispose","el","setState","echarts","init","setOption","chartData","removeEventListener","ref","Component","backgroundColor","tooltip","axisPointer","padding","grid","top","left","right","bottom","containLabel","yAxis","show","name","axisTick","axisLabel","textStyle","AreaChart","series","smooth","symbol","symbolSize","showSymbol","lineStyle","normal","areaStyle","opacity","itemStyle","borderWidth","visitsByPeriod","xAxis","boundaryGap","period","formatter","BarChart","ordersByPeriod","label","position","barWidth","topColResponsiveProps","xs","sm","md","lg","xl","marginBottom","salesByPeriod","periodData","allSales","allVisits","allOrders","allProducts","product","alipay","wechatPay","paypal","diff","arr","i","Math","abs","sum","saleSum1","saleSum2","justify","gutter","value","parseInt","valueStyle","prefix","ArrowUpOutlined","ArrowDownOutlined","suffix","numeral","format","secretKey","mailPassword","target","rel","monthAxis","axis","dayAxis","maxDay","moment","daysInMonth","weekAxis","romanToChinese","num","Chinese","xAxisOption","range","seriesOption","catergory","barChartData","getRankingList","list","oldList","index","sort","a","b","indexArr","rankingList","total","splice","DataCard","rankingListData","week","dataByYear","dataByMonth","dataByWeek","TabPane","salesByYear","yearData","visitsByYear","ordersByYear","salesByMonth","visitsByMonth","salesByWeek","weekData","visitsByWeek","ordersByWeek","setCurrentRange","selectDate","bodyStyle","tabBarExtraContent","tabBarStyle","tab","paddingTop","textAlign","number","$axios","axios","create","baseURL","retry","retryDelay","interceptors","request","use","config","token","headers","Authorization","error","message","response","Promise","reject","authorization","status","warning","reload","handleSalesByMonth","handleVisitsByMonth","handleOrdersByMonth","handleSalesByYear","handleVisitsByYear","handleOrdersByYear","handleSalesByPeriod","handleVisitsByPeriod","handleOrdersByPeriod","handleAllSales","handleAllVisits","handleAllOrders","handlePeriod","handleFetchByPeriod","dispatch","day","historySales","historyVisits","historyOrders","handleFetchByYear","get","metadata","sales","visits","parseFloat","handleFetchByMonth","method","url","filter","handleFetchByWeek","getDate","slice","loading","setLoading","script","document","createElement","async","head","appendChild","addScript","handleProductInfo","handleFetchAllProduct","then","res","catch","handleFetchSetting","setting","handleForm","handleVerifyDialog","handleFetchOrder","handleFetchForm","all","responseArr","handleWechatPay","handlePaypal","handleEmail","handleUser","layout","labelCol","span","wrapperCol","tailLayout","offset","handleVerify","isShowDialog","isVerified","handleCancel","visible","footer","onFinish","values","post","success","rules","required","placeholder","htmlType","Logo","setUrl","handleChange","e","preventDefault","file","files","formData","FormData","append","productId","webkitURL","createObjectURL","id","onChange","event","accept","LoadingOutlined","PlusOutlined","Paragraph","handleAddProduct","lineHeight","rowKey","_id","hoverable","results","showConfirm","avatar","logo","ellipsis","rows","productInfo","restoreFormData","Object","assign","contact","join","levelName1","levelName2","levelName3","levelName4","levelDesc1","levelDesc","levelDesc2","levelDesc3","levelDesc4","levelPrice1","price1","levelPrice","unit1","unit","levelPrice2","price2","unit2","levelPrice3","price3","unit3","levelPrice4","price4","unit4","levelLimit1","levelLimit","levelLimit2","levelLimit3","levelLimit4","levelNote1","levelNote","levelNote2","levelNote3","levelNote4","parseFormData","productType","callbackUrl","memberLevel","onSale","undefined","Option","levels","setLevels","setOnSale","setFormData","setProductType","formRef","React","createRef","idArr","toString","isNaN","current","setFieldsValue","handleFormData","handleNext","initialValues","Group","TextArea","autoSize","minRows","maxRows","compact","noStyle","min","step","renderLevelDesc","AddStepTwo","column","xxl","renderLevelTable","handlePrev","marginRight","copy","require","setMode","setId","productLink","protocol","host","getProductId","information","marginLeft","extra","subTitle","userSelect","AddSteps","currentStep","next","prev","Step","setCurrent","ArrowLeftOutlined","err","Search","setData","refundLoading","setRefundLoading","refundIndex","setRefundIndex","selectedRowKeys","setSelectedRowKeys","handleRefund","orderId","rowSelection","columns","dataIndex","render","text","record","disabled","paymentStatus","activation","payment","enterButton","onSearch","searchResults","handleSearch","defaultValue","toLocaleDateString","filteredData","filterData","_d","querySelector","scroll","x","AlipayCircleOutlined","paymentName","WechatPay","WechatOutlined","borderLeft","IconFont","createFromIconfontCN","scriptUrl","Paypal","menuMap","selectedKey","setSelectedKey","selectKey","keys","renderChildren","cardList","cover","subDescription","themeOption","CheckOutlined","formItemLayoutWithOutLabel","formItemLayout","info","changeInfo","user","checkUpdate","version","Password","routes","path","component","Dashboard","ProductPage","AddProduct","OrderPage","PaymentPage","MailPage","ThemePage","AccountPage","Error404","Error500","isFirst","handleFirstLogin","ele","from","exact","MobilePage","addStyle","screen","FormItem","isForget","setIsforget","handleForget","bool","isMobile","remember","LockOutlined","UserOutlined","valuePropName","cursor","block","Contact","encrypt","word","CryptoJS","enc","Utf8","parse","srcs","AES","ECB","pad","Pkcs7","Captcha","vaptcha","vid","scene","container","offline_server","vaptchaObj","listen","handleQuery","Query","dialogVisible","setDialogVisible","allowQuery","setAllowQuery","orderInfo","setOrderInfo","activeTab","setActiveTab","handleCheck","showQueryModal","password","handleOk","code","defaultActiveKey","activeKey","JSON","decrypt","stringify","borderRadius","ShoppingPage","showContact","setShowContact","showQuery","setShowQuery","cssUrl","handleContact","CloseOutlined","display","note","handleDialog","renderProductInfo","antIcon","spin","checkPayment","PaymentDialog","qrUrl","setQrUrl","questNumber","setQuestNumber","failed","setFailed","clearInterval","chooseLevel","now","floor","random","setInterval","fgColor","indicator","tip","handleFetchProductInfo","showDialog","setShowDialog","setchooseLevel","pop","WelcomePage","setVisible","handleCurrent","formItemLayoutWithOutLabel1","formItemLayoutWithOutLabel2","formItemLayout1","formItemLayout2","CollectInfo","passwordAgain","steps","setCurrentStep","rest","isLogged","Router","Install","Login","Product","Admin","initState","userInfo","reducers","combineReducers","login","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.23f41089.chunk.js","sourcesContent":["module.exports = {\r\n  devHost: \"http://localhost:3001\",\r\n  prodHost: \"https://coodopay.herokuapp.com\",\r\n};\r\n","export const handleUserInfo = (data) => {\r\n  return {\r\n    type: \"HANDLE_USER_INFO\",\r\n    payload: data,\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Layout, Badge, Card, List, Modal } from \"antd\";\r\nimport {\r\n  BellOutlined,\r\n  LogoutOutlined,\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { handleUserInfo } from \"@/redux/actions/login\";\r\nimport { handleCollapse } from \"@/redux/actions/sidebar\";\r\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\r\nconst { confirm } = Modal;\r\nconst { Header } = Layout;\r\nconst { Meta } = Card;\r\nconst HeaderBar = (props) => {\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [messageNumber, setMessageNumber] = useState(null);\r\n  const [orders, setOrders] = useState(null);\r\n  useEffect(() => {\r\n    if (!props.order) {\r\n      return;\r\n    }\r\n    let date = new Date();\r\n    let monthOrder = [];\r\n\r\n    props.order.reverse().forEach((item) => {\r\n      if (\r\n        item.year === date.getFullYear() &&\r\n        item.month === date.getMonth() + 1\r\n      ) {\r\n        monthOrder.push(item);\r\n      }\r\n    });\r\n    setOrders(monthOrder);\r\n    let ordersNumber =\r\n      date.getDay() === 1 ? 0 : localStorage.getItem(\"ordersNumber\") || 0;\r\n    let length = monthOrder.length;\r\n    setMessageNumber(length - ordersNumber);\r\n  }, [props.order]);\r\n\r\n  const showConfirm = () => {\r\n    confirm({\r\n      title: \"退出\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: \"是否退出登录?\",\r\n      okText: \"退出\",\r\n      okType: \"danger\",\r\n      cancelText: \"取消\",\r\n      onOk: () => {\r\n        handleLogout();\r\n      },\r\n      onCancel() {\r\n        console.log(\"Cancel\");\r\n      },\r\n    });\r\n  };\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"jwt\");\r\n    props.history.push(\"/\");\r\n  };\r\n  const handleMessage = () => {\r\n    setShowMessage(!showMessage);\r\n  };\r\n\r\n  const handleClearMessage = () => {\r\n    setMessageNumber(0);\r\n    localStorage.setItem(\"ordersNumber\", orders.length);\r\n  };\r\n  const renderMessage = () => {\r\n    return orders.map((item) => {\r\n      return `${item.email} 于 ${item.date} ${item.time} 购买 ${item.productName}${item.levelName}，消费${item.price}元`;\r\n    });\r\n  };\r\n  return (\r\n    <Header theme=\"light\">\r\n      {props.isCollapsed ? (\r\n        <MenuUnfoldOutlined\r\n          onClick={() => {\r\n            props.handleCollapse(!props.isCollapsed);\r\n          }}\r\n        />\r\n      ) : (\r\n        <MenuFoldOutlined\r\n          onClick={() => {\r\n            props.handleCollapse(!props.isCollapsed);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <LogoutOutlined onClick={showConfirm} />\r\n      <div className=\"header-number\" onClick={handleMessage}>\r\n        {props.order ? (\r\n          <a href=\"#\" className=\"header-number-icon\">\r\n            <Badge count={messageNumber}></Badge>\r\n          </a>\r\n        ) : null}\r\n\r\n        <BellOutlined />\r\n      </div>\r\n      {showMessage ? (\r\n        <Card\r\n          style={{ width: 300 }}\r\n          actions={[<div onClick={handleClearMessage}>全部标记已读</div>]}\r\n          className=\"header-message-box\"\r\n          onMouseLeave={() => {\r\n            handleMessage();\r\n          }}\r\n        >\r\n          <Meta\r\n            title=\"本月交易提醒\"\r\n            description={\r\n              <div className=\"header-message-box-content-container\">\r\n                <List\r\n                  size=\"small\"\r\n                  bordered={false}\r\n                  dataSource={renderMessage()}\r\n                  renderItem={(item) => <List.Item>{item}</List.Item>}\r\n                  className=\"header-message-box-content\"\r\n                />\r\n              </div>\r\n            }\r\n          />\r\n        </Card>\r\n      ) : null}\r\n    </Header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isCollapsed: state.sidebar.isCollapsed,\r\n    ordersByMonth: state.monthData.ordersByMonth,\r\n    order: state.form.order,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleCollapse,\r\n  handleUserInfo,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(withRouter(HeaderBar));\r\n","export const handleCollapse = (data) => {\r\n  return {\r\n    type: \"HANLDE_COLLAPSE\",\r\n    payload: data,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { Layout, Menu } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { handleUserInfo } from \"@/redux/actions/login\";\r\nimport {\r\n  IdcardOutlined,\r\n  DashboardOutlined,\r\n  ShopOutlined,\r\n  PayCircleOutlined,\r\n  AccountBookOutlined,\r\n  MailOutlined,\r\n  SkinOutlined,\r\n} from \"@ant-design/icons\";\r\nconst { Sider } = Layout;\r\nconst Sidebar = (props) => {\r\n  const { isCollapsed } = props;\r\n  const menuSelected = props.history.location.pathname;\r\n  const menuOpened = `/${menuSelected.split(\"/\")[1]}`;\r\n  return (\r\n    <Sider\r\n      trigger={null}\r\n      collapsible\r\n      collapsed={isCollapsed}\r\n      width=\"218px\"\r\n      style={{\r\n        height: \"100%\",\r\n        boxShadow: \"0px 0px 6px rgba(0,0,0,0.09)\",\r\n        zIndex: \"10\",\r\n      }}\r\n      theme=\"light\"\r\n    >\r\n      <div className=\"logo\" style={{ width: \"100%\", height: \"92px\" }}>\r\n        <img\r\n          src=\"../assets/logo.svg\"\r\n          alt=\"\"\r\n          style={{\r\n            width: \"40px\",\r\n            margin: \"30px 10px 20px 24px\",\r\n            float: \"left\",\r\n          }}\r\n        />\r\n\r\n        {isCollapsed ? null : (\r\n          <span\r\n            style={{\r\n              fontSize: \"23px\",\r\n              color: \"rgba(72,72,72,1)\",\r\n              float: \"left\",\r\n              marginTop: \"40px\",\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            Coodo Pay\r\n          </span>\r\n        )}\r\n      </div>\r\n      <Menu\r\n        theme=\"light\"\r\n        mode=\"inline\"\r\n        defaultOpenKeys={[menuOpened]}\r\n        defaultSelectedKeys={[menuSelected]}\r\n        selectedKeys={[menuSelected]}\r\n      >\r\n        <Menu.Item key=\"/productList\">\r\n          <Link to=\"/productList\">\r\n            <AccountBookOutlined />\r\n            <span className=\"nav-text\">商品管理</span>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/order\">\r\n          <Link to=\"/order\">\r\n            <ShopOutlined />\r\n            <span className=\"nav-text\">订单管理</span>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/payment\">\r\n          <Link to=\"/payment\">\r\n            <PayCircleOutlined />\r\n            <span className=\"nav-text\">支付设置</span>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/mail\">\r\n          <Link to=\"/mail\">\r\n            <MailOutlined />\r\n            <span className=\"nav-text\">邮箱设置</span>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/theme\">\r\n          <Link to=\"/theme\">\r\n            <SkinOutlined />\r\n            <span className=\"nav-text\">主题设置</span>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/dashboard\">\r\n          <Link to=\"/dashboard\">\r\n            <DashboardOutlined />\r\n            <span className=\"nav-text\">统计数据</span>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/account\">\r\n          <Link to=\"/account\">\r\n            <IdcardOutlined />\r\n            <span className=\"nav-text\">账户中心</span>\r\n          </Link>\r\n        </Menu.Item>\r\n      </Menu>\r\n    </Sider>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isCollapsed: state.sidebar.isCollapsed,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleUserInfo,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(withRouter(Sidebar));\r\n","function debounce(func, wait, immediate) {\r\n  let timeout, args, context, timestamp, result;\r\n\r\n  const later = function() {\r\n    // 据上一次触发时间间隔\r\n    const last = +new Date() - timestamp;\r\n\r\n    // 上次被包装函数被调用时间间隔last小于设定时间间隔wait\r\n    if (last < wait && last > 0) {\r\n      timeout = setTimeout(later, wait - last);\r\n    } else {\r\n      timeout = null;\r\n      // 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用\r\n      if (!immediate) {\r\n        result = func.apply(context, args);\r\n        if (!timeout) context = args = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  return function(...args) {\r\n    context = this;\r\n    timestamp = +new Date();\r\n    const callNow = immediate && !timeout;\r\n    // 如果延时不存在，重新设定延时\r\n    if (!timeout) timeout = setTimeout(later, wait);\r\n    if (callNow) {\r\n      result = func.apply(context, args);\r\n      context = args = null;\r\n    }\r\n\r\n    return result;\r\n  };\r\n}\r\n\r\n// 数组去重\r\nconst unique = arr => {\r\n  const res = [];\r\n  const json = {};\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (!json[arr[i]]) {\r\n      res.push(arr[i]);\r\n      json[arr[i]] = 1;\r\n    }\r\n  }\r\n  return res;\r\n};\r\n\r\nexport { unique, debounce };\r\n","import React, { Component } from \"react\";\r\nimport { debounce } from \"@/utils/debounceUtil\";\r\nimport { connect } from \"react-redux\";\r\nclass Chart extends Component {\r\n  state = { chart: null };\r\n\r\n  componentDidMount() {\r\n    debounce(this.initChart.bind(this), 500)(); //初始化图表\r\n    window.addEventListener(\"resize\", () => this.resize()); // 监听窗口，变化时重置图表\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.isCollapsed !== this.props.isCollapsed) {\r\n      this.resize();\r\n    }\r\n    if (nextProps.currentRange !== this.props.currentRange) {\r\n      this.initChart();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.dispose();\r\n  }\r\n\r\n  // 重置图表\r\n  resize() {\r\n    const chart = this.state.chart;\r\n    if (chart) {\r\n      debounce(chart.resize.bind(this), 300)();\r\n    }\r\n  }\r\n\r\n  initChart() {\r\n    if (!this.el) return;\r\n    this.setState(\r\n      {\r\n        chart: window.echarts.init(this.el, \"macarons\"),\r\n      },\r\n      () => {\r\n        this.state.chart.setOption(this.props.chartData, true);\r\n      }\r\n    );\r\n  }\r\n\r\n  dispose() {\r\n    if (!this.state.chart) return;\r\n    window.removeEventListener(\"resize\", () => this.resize()); // 移除窗口，变化时重置图表\r\n    this.setState({ chart: null });\r\n  }\r\n  render() {\r\n    const { className, height, width, style } = this.props;\r\n    return (\r\n      <div\r\n        className={className}\r\n        ref={(el) => (this.el = el)}\r\n        style={{ ...style, height, width }}\r\n      />\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isCollapsed: state.sidebar.isCollapsed,\r\n  };\r\n};\r\nconst actionCreator = {};\r\nexport default connect(mapStateToProps, actionCreator)(Chart);\r\n","import React from \"react\";\r\nimport Chart from \"../basicChart\";\r\nconst chartData = {\r\n  backgroundColor: \"#fff\",\r\n  tooltip: {\r\n    trigger: \"axis\",\r\n    axisPointer: {\r\n      type: \"line\",\r\n    },\r\n    padding: [5, 10],\r\n  },\r\n  grid: {\r\n    top: 0,\r\n    left: \"0\",\r\n    right: \"0\",\r\n    bottom: \"0\",\r\n    containLabel: false,\r\n  },\r\n  // x轴\r\n\r\n  yAxis: [\r\n    {\r\n      show: false,\r\n      type: \"value\",\r\n      name: \"(%)\",\r\n      axisTick: {\r\n        show: false,\r\n      },\r\n      axisLabel: {\r\n        margin: 0,\r\n        textStyle: {\r\n          fontSize: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n};\r\n\r\nconst AreaChart = (props) => (\r\n  <Chart\r\n    chartData={{\r\n      ...chartData,\r\n      series: [\r\n        {\r\n          // name: \"A1\",\r\n          type: \"line\",\r\n          smooth: true,\r\n          symbol: \"circle\",\r\n          symbolSize: 0,\r\n          showSymbol: true,\r\n          lineStyle: {\r\n            normal: {\r\n              width: 0,\r\n            },\r\n          },\r\n          areaStyle: {\r\n            normal: {\r\n              color: \"#975FE4\",\r\n              opacity: 1,\r\n            },\r\n          },\r\n          itemStyle: {\r\n            normal: {\r\n              color: \"#975FE4\",\r\n              // borderColor: \"rgba(137,189,2,0.27)\",\r\n              borderWidth: 12,\r\n            },\r\n          },\r\n          data: props.visitsByPeriod,\r\n        },\r\n      ],\r\n      xAxis: [\r\n        {\r\n          show: false,\r\n          type: \"category\", //分类\r\n          boundaryGap: false,\r\n          data: props.period,\r\n          axisLabel: {\r\n            margin: 0,\r\n            textStyle: {\r\n              fontSize: 0,\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    }}\r\n    height={\"50px\"}\r\n    style={{ padding: 0 }}\r\n    {...props}\r\n  />\r\n);\r\n\r\nexport default AreaChart;\r\n","import React from \"react\";\r\nimport Chart from \"../basicChart\";\r\nconst chartData = {\r\n  backgroundColor: \"#fff\",\r\n  tooltip: {\r\n    trigger: \"axis\",\r\n  },\r\n  // tab\r\n\r\n  grid: {\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    containLabel: false,\r\n  },\r\n  // x轴\r\n\r\n  yAxis: [\r\n    {\r\n      type: \"value\",\r\n      show: false,\r\n      axisLabel: {\r\n        formatter: \"{value} mm\",\r\n      },\r\n    },\r\n  ],\r\n};\r\n\r\nconst BarChart = (props) => (\r\n  <Chart\r\n    chartData={{\r\n      ...chartData,\r\n      series: [\r\n        {\r\n          type: \"bar\",\r\n          data: props.ordersByPeriod,\r\n          itemStyle: {\r\n            normal: {\r\n              // 设置柱状图颜色\r\n              color: \"#40a9ff\",\r\n              // 以下为是否显示，显示位置和显示格式的设置了\r\n              label: {\r\n                show: false,\r\n                position: \"top\",\r\n                formatter: \"{c}\",\r\n                // formatter: '{b}\\n{c}'\r\n              },\r\n            },\r\n          },\r\n          // 设置柱的宽度，要是数据太少，柱子太宽不美观~\r\n          barWidth: 8,\r\n        },\r\n      ],\r\n      xAxis: [\r\n        {\r\n          type: \"category\", //分类\r\n          show: false,\r\n          data: props.period,\r\n        },\r\n      ],\r\n    }}\r\n    height={\"50px\"}\r\n    style={{ padding: 0 }}\r\n  />\r\n);\r\n\r\nexport default BarChart;\r\n","import React from \"react\";\r\nimport { Card, Col, Row, Statistic } from \"antd\";\r\nimport numeral from \"numeral\";\r\nimport \"./index.css\";\r\nimport AreaChart from \"../areaChart\";\r\nimport BarChart from \"../barChart\";\r\nimport { connect } from \"react-redux\";\r\nimport { ArrowUpOutlined, ArrowDownOutlined } from \"@ant-design/icons\";\r\nconst topColResponsiveProps = {\r\n  xs: 24,\r\n  sm: 12,\r\n  md: 12,\r\n  lg: 12,\r\n  xl: 6,\r\n  style: {\r\n    marginBottom: 24,\r\n  },\r\n};\r\nconst DashboardHeader = (props) => {\r\n  const diff = (arr) => {\r\n    let result = [];\r\n    for (let i = 0; i < arr.length - 1; i++) {\r\n      result.push(Math.abs(arr[i + 1] - arr[i]));\r\n    }\r\n    return result;\r\n  };\r\n  const sum = (arr) => {\r\n    let sum = 0;\r\n    arr.forEach((item) => {\r\n      sum += item;\r\n    });\r\n    return sum;\r\n  };\r\n  let saleSum1 = props.salesByPeriod[14] - props.salesByPeriod[7];\r\n  let saleSum2 = props.salesByPeriod[7] - props.salesByPeriod[0];\r\n  return (\r\n    <Row justify=\"center\" gutter={24} type=\"flex\">\r\n      <Col {...topColResponsiveProps}>\r\n        <Card>\r\n          <Statistic title=\"销售额\" value={props.allSales} />\r\n          <Statistic\r\n            title=\"周同比\"\r\n            value={parseInt(((saleSum2 - saleSum1) / saleSum1) * 100) || 0}\r\n            valueStyle={\r\n              saleSum2 / saleSum1 > 1\r\n                ? { color: \"#cf1322\" }\r\n                : { color: \"#3f8600\" }\r\n            }\r\n            prefix={\r\n              saleSum2 / saleSum1 > 1 ? (\r\n                <ArrowUpOutlined />\r\n              ) : (\r\n                <ArrowDownOutlined />\r\n              )\r\n            }\r\n            suffix=\"%\"\r\n          />\r\n          <Statistic\r\n            title=\"日同比\"\r\n            className=\"header-day-stats\"\r\n            value={\r\n              props.salesByPeriod[13] - props.salesByPeriod[12] === 0\r\n                ? 100\r\n                : parseInt(\r\n                    (props.salesByPeriod[14] +\r\n                      props.salesByPeriod[12] -\r\n                      2 * props.salesByPeriod[13]) /\r\n                      (props.salesByPeriod[13] - props.salesByPeriod[12])\r\n                  ) * 100 || 0\r\n            }\r\n            valueStyle={\r\n              (props.salesByPeriod[14] - props.salesByPeriod[13]) /\r\n                (props.salesByPeriod[13] - props.salesByPeriod[12]) >\r\n              1\r\n                ? { color: \"#cf1322\" }\r\n                : { color: \"#3f8600\" }\r\n            }\r\n            prefix={\r\n              (props.salesByPeriod[14] - props.salesByPeriod[13]) /\r\n                (props.salesByPeriod[13] - props.salesByPeriod[12]) >\r\n              1 ? (\r\n                <ArrowUpOutlined />\r\n              ) : (\r\n                <ArrowDownOutlined />\r\n              )\r\n            }\r\n            suffix=\"%\"\r\n          />\r\n\r\n          <p className=\"card-footer\">\r\n            今日销售额{\" \"}\r\n            {`￥${numeral(\r\n              props.salesByPeriod[props.salesByPeriod.length - 1] -\r\n                (props.salesByPeriod[props.salesByPeriod.length - 2] || 0) || 0\r\n            ).format(\"0,0\")}`}\r\n          </p>\r\n        </Card>\r\n      </Col>\r\n      <Col {...topColResponsiveProps}>\r\n        <Card>\r\n          <Statistic title=\"访问量\" value={props.allVisits} />\r\n\r\n          {sum(diff(props.visitsByPeriod)) === 0 ? (\r\n            <div className=\"header-chart-no-data\">\r\n              没有过去14天的访问数据\r\n              <div className=\"card-line\"></div>\r\n            </div>\r\n          ) : (\r\n            <AreaChart\r\n              visitsByPeriod={diff(props.visitsByPeriod)}\r\n              period={props.period}\r\n            />\r\n          )}\r\n\r\n          <p className=\"card-footer\">\r\n            今日访问量{\" \"}\r\n            {`${numeral(\r\n              props.visitsByPeriod[props.visitsByPeriod.length - 1] -\r\n                (props.visitsByPeriod[props.visitsByPeriod.length - 2] || 0) ||\r\n                0\r\n            ).format(\"0,0\")}`}\r\n          </p>\r\n        </Card>\r\n      </Col>\r\n\r\n      <Col {...topColResponsiveProps}>\r\n        <Card>\r\n          <Statistic title=\"订单数\" value={props.allOrders} />\r\n\r\n          {sum(diff(props.ordersByPeriod)) === 0 ? (\r\n            <div className=\"header-chart-no-data\">\r\n              没有过去14天的订单数据\r\n              <div className=\"card-line\"></div>\r\n            </div>\r\n          ) : (\r\n            <BarChart\r\n              ordersByPeriod={diff(props.ordersByPeriod)}\r\n              period={props.period}\r\n            />\r\n          )}\r\n\r\n          <p className=\"card-footer\">\r\n            今日订单数{\" \"}\r\n            {`${numeral(\r\n              props.ordersByPeriod[props.ordersByPeriod.length - 1] -\r\n                (props.ordersByPeriod[props.ordersByPeriod.length - 2] || 0) ||\r\n                0\r\n            ).format(\"0,0\")}`}\r\n          </p>\r\n        </Card>\r\n      </Col>\r\n      <Col {...topColResponsiveProps}>\r\n        <Card>\r\n          <p style={{ opacity: \"0.7\" }}>运行状态</p>\r\n          <p style={{ fontSize: \"30px\", color: \"\" }}>\r\n            {props.allProducts.length > 0 ? \"交易中\" : \"暂无上架\"}\r\n          </p>\r\n          <p\r\n            style={{\r\n              fontSize: \"15px\",\r\n              color: \"#13C2C2\",\r\n              marginTop: \"10px\",\r\n            }}\r\n          >\r\n            {props.alipay.secretKey === \" \" &&\r\n            props.wechatPay.secretKey === \" \" &&\r\n            props.alipay.secretKey === \" \"\r\n              ? \"暂未配置支付信息\"\r\n              : props.email.mailPassword === \" \"\r\n              ? \"暂未配置邮箱信息\"\r\n              : \"一切都已配置完成\"}\r\n          </p>\r\n          <div className=\"card-line\"></div>\r\n          <p className=\"card-footer\">\r\n            <a\r\n              href=\"https://www.jianshu.com/p/13e3ed3f7079\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              了解更多\r\n            </a>\r\n          </p>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    salesByPeriod: state.periodData.salesByPeriod,\r\n    visitsByPeriod: state.periodData.visitsByPeriod,\r\n    ordersByPeriod: state.periodData.ordersByPeriod,\r\n    allSales: state.periodData.allSales,\r\n    allVisits: state.periodData.allVisits,\r\n    allOrders: state.periodData.allOrders,\r\n    period: state.periodData.period,\r\n    allProducts: state.product.allProducts,\r\n    alipay: state.form.alipay,\r\n    wechatPay: state.form.wechatPay,\r\n    paypal: state.form.paypal,\r\n    email: state.form.email,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(DashboardHeader);\r\n","import moment from \"moment\";\r\nexport const monthAxis = () => {\r\n  let axis = [];\r\n  for (let i = 1; i <= 12; i++) {\r\n    axis.push(`${i}月`);\r\n  }\r\n  return axis;\r\n};\r\nexport const dayAxis = () => {\r\n  let maxDay = moment().daysInMonth();\r\n  let axis = [];\r\n  for (let i = 1; i <= maxDay; i++) {\r\n    axis.push(`${i}号`);\r\n  }\r\n  return axis;\r\n};\r\nexport const weekAxis = () => {\r\n  let axis = [];\r\n  for (let i = 1; i <= 7; i++) {\r\n    axis.push(`周${romanToChinese(i)}`);\r\n  }\r\n  return axis;\r\n};\r\nexport const romanToChinese = (num) => {\r\n  let Chinese = \"\";\r\n  switch (num) {\r\n    case 1:\r\n      Chinese = \"一\";\r\n      break;\r\n    case 2:\r\n      Chinese = \"二\";\r\n      break;\r\n    case 3:\r\n      Chinese = \"三\";\r\n      break;\r\n    case 4:\r\n      Chinese = \"四\";\r\n      break;\r\n    case 5:\r\n      Chinese = \"五\";\r\n      break;\r\n    case 6:\r\n      Chinese = \"六\";\r\n      break;\r\n    case 7:\r\n      Chinese = \"日\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return Chinese;\r\n};\r\nconst xAxisOption = (range) => {\r\n  return [\r\n    {\r\n      type: \"category\",\r\n      show: true,\r\n      data:\r\n        range === \"year\"\r\n          ? monthAxis()\r\n          : range === \"month\"\r\n          ? dayAxis()\r\n          : weekAxis(),\r\n    },\r\n  ];\r\n};\r\nconst seriesOption = (catergory, range, data) => {\r\n  return [\r\n    {\r\n      name:\r\n        catergory === \"sales\"\r\n          ? \"销售额\"\r\n          : catergory === \"visits\"\r\n          ? \"访问量\"\r\n          : \"订单数\",\r\n      type: \"bar\",\r\n      data: data,\r\n      itemStyle: {\r\n        normal: {\r\n          // 设置柱状图颜色\r\n          color: \"#58AFFF\",\r\n          // 以下为是否显示，显示位置和显示格式的设置了\r\n          label: {\r\n            show: false,\r\n            position: \"top\",\r\n            formatter: \"{c}\",\r\n            // formatter: '{b}\\n{c}'\r\n          },\r\n        },\r\n      },\r\n      barWidth:\r\n        range === \"week\"\r\n          ? 40\r\n          : range === \"month\"\r\n          ? 15\r\n          : range === \"year\"\r\n          ? 30\r\n          : null,\r\n    },\r\n    // 设置柱的宽度，要是数据太少，柱子太宽不美观~\r\n  ];\r\n};\r\nconst barChartData = {\r\n  backgroundColor: \"#fff\",\r\n  // title: {\r\n  //   top: 30,\r\n  //   text: \"柱状图\",\r\n  //   textStyle: {\r\n  //     fontWeight: \"normal\",\r\n  //     fontSize: 16,\r\n  //     color: \"#57617B\"\r\n  //   },\r\n  //   left: \"center\"\r\n  // },\r\n  tooltip: {\r\n    trigger: \"axis\",\r\n  },\r\n  grid: {\r\n    top: \"2%\",\r\n    left: \"0%\",\r\n    right: \"0.5%\",\r\n    bottom: \"0%\",\r\n    containLabel: true,\r\n    show: false,\r\n  },\r\n  // x轴\r\n  yAxis: [\r\n    {\r\n      type: \"value\",\r\n      show: true,\r\n      axisLabel: {\r\n        formatter: \"{value}\",\r\n      },\r\n    },\r\n  ],\r\n};\r\nexport function chartData(catergory, range, data) {\r\n  return {\r\n    ...barChartData,\r\n    xAxis: xAxisOption(range),\r\n    series: seriesOption(catergory, range, data),\r\n  };\r\n}\r\n","import { monthAxis, dayAxis, weekAxis } from \"./fetchChartData\";\r\nexport function getRankingList(list, range) {\r\n  let oldList = [];\r\n  list.forEach((item, index) => {\r\n    oldList.push({ key: index, value: item });\r\n  });\r\n  let arr = oldList.sort(function (a, b) {\r\n    return b.value - a.value;\r\n  });\r\n  let indexArr = [];\r\n\r\n  arr.forEach((item) => {\r\n    indexArr.push(item.key);\r\n  });\r\n  let rankingList = [];\r\n  indexArr.forEach((item) => {\r\n    rankingList.push({\r\n      title:\r\n        range === \"year\"\r\n          ? monthAxis()[item]\r\n          : range === \"week\"\r\n          ? weekAxis()[item]\r\n          : dayAxis()[item],\r\n      total: list[item],\r\n    });\r\n  });\r\n  return rankingList.splice(0, 7);\r\n}\r\n","import React from \"react\";\r\nimport { Col, Row } from \"antd\";\r\nimport numeral from \"numeral\";\r\nimport \"./index.css\";\r\nimport BasicChart from \"../basicChart\";\r\nimport { chartData } from \"@/utils/fetchChartData\";\r\nconst DataCard = (props) => {\r\n  const rankingListData =\r\n    props.currentRange === \"year\"\r\n      ? props.rankingListData.year\r\n      : props.currentRange === \"month\"\r\n      ? props.rankingListData.month\r\n      : props.rankingListData.week;\r\n  return (\r\n    <>\r\n      <Row type=\"flex\">\r\n        <Col xl={16} lg={12} md={12} sm={24} xs={24}>\r\n          <div className={\"salesBar\"}>\r\n            {props.currentRange === \"year\" ? (\r\n              <BasicChart\r\n                chartData={chartData(\r\n                  props.catergory,\r\n                  props.currentRange,\r\n                  props.dataByYear\r\n                )}\r\n                height={\"300px\"}\r\n                currentRange={props.currentRange}\r\n              />\r\n            ) : props.currentRange === \"month\" ? (\r\n              <BasicChart\r\n                chartData={chartData(\r\n                  props.catergory,\r\n                  props.currentRange,\r\n                  props.dataByMonth\r\n                )}\r\n                height={\"300px\"}\r\n                currentRange={props.currentRange}\r\n              />\r\n            ) : props.currentRange === \"week\" ? (\r\n              <BasicChart\r\n                chartData={chartData(\r\n                  props.catergory,\r\n                  props.currentRange,\r\n                  props.dataByWeek\r\n                )}\r\n                height={\"300px\"}\r\n                currentRange={props.currentRange}\r\n              />\r\n            ) : null}\r\n          </div>\r\n        </Col>\r\n        <Col xl={8} lg={12} md={12} sm={24} xs={24}>\r\n          <div className={\"salesRank\"}>\r\n            <h4 className={\"rankingTitle\"}>\r\n              {props.catergory === \"sales\"\r\n                ? \"销售额排行\"\r\n                : props.catergory === \"visits\"\r\n                ? \"访问量排行\"\r\n                : \"订单数排行\"}\r\n            </h4>\r\n            <ul className={\"rankingList\"}>\r\n              {rankingListData.map((item, i) => (\r\n                <li key={i}>\r\n                  <span\r\n                    className={`rankingItemNumber ${i < 3 ? \"active\" : \"\"}`}\r\n                  >\r\n                    {i + 1}\r\n                  </span>\r\n                  <span className={\"rankingItemTitle\"} title={item.title}>\r\n                    {item.title}\r\n                  </span>\r\n                  <span className={\"rankingItemValue\"}>\r\n                    {numeral(item.total).format(\"0,0\")}\r\n                  </span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DataCard;\r\n","import React, { useState } from \"react\";\r\nimport { Card, Tabs } from \"antd\";\r\nimport \"./index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { getRankingList } from \"@/utils/rankingListUtil\";\r\nimport DataCard from \"../dataCard\";\r\nconst { TabPane } = Tabs;\r\nconst DashboardChart = (props) => {\r\n  const [currentRange, setCurrentRange] = useState(\"year\");\r\n  const selectDate = (type) => {\r\n    setCurrentRange(type);\r\n  };\r\n  return (\r\n    <Card\r\n      bordered={false}\r\n      bodyStyle={{\r\n        padding: 0,\r\n      }}\r\n    >\r\n      <div className={\"salesCard\"}>\r\n        <Tabs\r\n          tabBarExtraContent={\r\n            <div className={\"salesExtraWrap\"}>\r\n              <div className={\"salesExtra\"}>\r\n                <a\r\n                  className={currentRange === \"week\" ? \"currentDate\" : \"\"}\r\n                  style={{ fontSize: \"15px\" }}\r\n                  onClick={() => selectDate(\"week\")}\r\n                >\r\n                  本周\r\n                </a>\r\n                <a\r\n                  className={currentRange === \"month\" ? \"currentDate\" : \"\"}\r\n                  style={{ fontSize: \"15px\" }}\r\n                  onClick={() => selectDate(\"month\")}\r\n                >\r\n                  本月\r\n                </a>\r\n                <a\r\n                  className={currentRange === \"year\" ? \"currentDate\" : \"\"}\r\n                  style={{ fontSize: \"15px\" }}\r\n                  onClick={() => selectDate(\"year\")}\r\n                >\r\n                  本年\r\n                </a>\r\n              </div>\r\n            </div>\r\n          }\r\n          size=\"large\"\r\n          tabBarStyle={{\r\n            marginBottom: 24,\r\n          }}\r\n          style={{ height: \"400px !important\" }}\r\n        >\r\n          <TabPane tab=\"销售额\" key=\"sales\">\r\n            <DataCard\r\n              dataByYear={props.salesByYear}\r\n              dataByMonth={props.salesByMonth}\r\n              dataByWeek={props.salesByWeek}\r\n              catergory=\"sales\"\r\n              currentRange={currentRange}\r\n              rankingListData={{\r\n                year: getRankingList(props.salesByYear, currentRange),\r\n                month: getRankingList(props.salesByMonth, currentRange),\r\n                week: getRankingList(props.salesByWeek, currentRange),\r\n              }}\r\n            />\r\n          </TabPane>\r\n          <TabPane tab=\"访问量\" key=\"visits\">\r\n            <DataCard\r\n              dataByYear={props.visitsByYear}\r\n              dataByMonth={props.visitsByMonth}\r\n              dataByWeek={props.visitsByWeek}\r\n              catergory=\"visits\"\r\n              currentRange={currentRange}\r\n              rankingListData={{\r\n                year: getRankingList(props.visitsByYear, currentRange),\r\n                month: getRankingList(props.visitsByMonth, currentRange),\r\n                week: getRankingList(props.visitsByWeek, currentRange),\r\n              }}\r\n            />\r\n          </TabPane>\r\n          <TabPane tab=\"订单数\" key=\"orders\">\r\n            <DataCard\r\n              dataByYear={props.ordersByYear}\r\n              dataByMonth={props.ordersByMonth}\r\n              dataByWeek={props.ordersByWeek}\r\n              catergory=\"orders\"\r\n              currentRange={currentRange}\r\n              rankingListData={{\r\n                year: getRankingList(props.ordersByYear, currentRange),\r\n                month: getRankingList(props.ordersByMonth, currentRange),\r\n                week: getRankingList(props.ordersByWeek, currentRange),\r\n              }}\r\n            />\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    salesByYear: state.yearData.salesByYear,\r\n    visitsByYear: state.yearData.visitsByYear,\r\n    ordersByYear: state.yearData.ordersByYear,\r\n    salesByMonth: state.monthData.salesByMonth,\r\n    visitsByMonth: state.monthData.visitsByMonth,\r\n    ordersByMonth: state.monthData.ordersByMonth,\r\n    salesByWeek: state.weekData.salesByWeek,\r\n    visitsByWeek: state.weekData.visitsByWeek,\r\n    ordersByWeek: state.weekData.ordersByWeek,\r\n  };\r\n};\r\nconst actionCreator = {};\r\n\r\nexport default connect(mapStateToProps, actionCreator)(DashboardChart);\r\n","import React from 'react';\r\nimport { Spin } from 'antd'; // loading components from code split\r\n// https://umijs.org/plugin/umi-plugin-react.html#dynamicimport\r\n\r\nexport default () => (\r\n  <div\r\n    style={{\r\n      paddingTop: 100,\r\n      textAlign: 'center',\r\n    }}\r\n  >\r\n    <Spin size=\"large\" />\r\n  </div>\r\n);\r\n","import axios from \"axios\";\r\nimport { message } from \"antd\";\r\nimport { devHost, prodHost } from \"../config\";\r\nlet number = 0;\r\nconst $axios = axios.create({\r\n  baseURL:\r\n    process.env.NODE_ENV === \"development\"\r\n      ? `${devHost}/api`\r\n      : `${prodHost}/api`,\r\n  timeout: 15000,\r\n  retry: 4,\r\n  retryDelay: 1000,\r\n});\r\n\r\n//请求拦截\r\n$axios.interceptors.request.use(\r\n  function (config) {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    config.headers = { Authorization: `Bearer ${token}` };\r\n    return config;\r\n  },\r\n  function (error) {\r\n    // 对请求错误做些什么\r\n    message.error(error.response.data.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 添加响应拦截器\r\n$axios.interceptors.response.use(\r\n  function (response) {\r\n    //获取更新的token\r\n    const { authorization } = response.headers;\r\n    //如果token存在则存在localStorage\r\n    authorization && localStorage.setItem(\"tokenName\", authorization);\r\n    return response;\r\n  },\r\n  function (error) {\r\n    if (error.response) {\r\n      const { status } = error.response;\r\n      //如果401或405则到登录页\r\n      if (status === 401 || status === 405) {\r\n        // history.push(\"/login\");\r\n        //解决多次提示重新登陆的问题\r\n        if (number === 1) {\r\n          return;\r\n        }\r\n        localStorage.removeItem(\"jwt\");\r\n        message.warning(\"请重新登陆\");\r\n        number++;\r\n        window.location.reload();\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default $axios;\r\n","import $axios from \"@/axios/$axios\";\r\nimport moment from \"moment\";\r\n\r\nexport function handleSalesByMonth(salesByMonth) {\r\n  return { type: \"HANDLE_SALES_BY_MONTH\", payload: salesByMonth };\r\n}\r\nexport function handleVisitsByMonth(visitsByMonth) {\r\n  return { type: \"HANDLE_VISITS_BY_MONTH\", payload: visitsByMonth };\r\n}\r\nexport function handleOrdersByMonth(ordersByMonth) {\r\n  return { type: \"HANDLE_ORDERS_BY_MONTH\", payload: ordersByMonth };\r\n}\r\n\r\nexport function handleFetchByMonth() {\r\n  return async (dispatch) => {\r\n    let salesByMonth = [];\r\n    let visitsByMonth = [];\r\n    let ordersByMonth = [];\r\n    let maxDay = moment().daysInMonth();\r\n    let date = new Date();\r\n    let metadata = await $axios({\r\n      method: \"get\",\r\n      url: `/todayData?year=${date.getFullYear()}&&month=${\r\n        date.getMonth() + 1\r\n      }`,\r\n    });\r\n    let monthData = metadata.data;\r\n    for (let i = 1; i <= maxDay; i++) {\r\n      let data = monthData.filter((item) => {\r\n        return item.day === i;\r\n      });\r\n      let sales = data.length !== 0 ? data[0].sales : 0;\r\n      let visits = data.length !== 0 ? data[0].visits : 0;\r\n      let orders = data.length !== 0 ? data[0].orders : 0;\r\n      salesByMonth.push(parseInt(sales));\r\n      visitsByMonth.push(parseInt(visits));\r\n      ordersByMonth.push(parseInt(orders));\r\n    }\r\n    dispatch(handleSalesByMonth(salesByMonth));\r\n    dispatch(handleVisitsByMonth(visitsByMonth));\r\n    dispatch(handleOrdersByMonth(ordersByMonth));\r\n  };\r\n}\r\n","import $axios from \"@/axios/$axios\";\r\nexport function handleSalesByYear(salesByYear) {\r\n  return { type: \"HANDLE_SALES_BY_YEAR\", payload: salesByYear };\r\n}\r\nexport function handleVisitsByYear(visitsByYear) {\r\n  return { type: \"HANDLE_VISITS_BY_YEAR\", payload: visitsByYear };\r\n}\r\nexport function handleOrdersByYear(ordersByYear) {\r\n  return { type: \"HANDLE_ORDERS_BY_YEAR\", payload: ordersByYear };\r\n}\r\n\r\nexport function handleFetchByYear(catergory) {\r\n  return async (dispatch) => {\r\n    let salesByYear = [];\r\n    let visitsByYear = [];\r\n    let ordersByYear = [];\r\n    let date = new Date();\r\n    let metadata = await $axios.get(`/todayData?year=${date.getFullYear()}`);\r\n    let yearData = metadata.data;\r\n    for (let i = 1; i <= 12; i++) {\r\n      let monthData = [];\r\n      yearData.forEach((item) => {\r\n        if (item.month === i) {\r\n          monthData.push(item);\r\n        }\r\n      });\r\n      let sales = 0;\r\n      let visits = 0;\r\n      let orders = 0;\r\n      if (monthData) {\r\n        monthData.forEach((item) => {\r\n          sales += parseFloat(item.sales);\r\n        });\r\n\r\n        monthData.forEach((item) => {\r\n          visits += parseFloat(item.visits);\r\n        });\r\n\r\n        monthData.forEach((item) => {\r\n          orders += parseFloat(item.orders);\r\n        });\r\n      }\r\n\r\n      salesByYear.push(parseInt(sales));\r\n      visitsByYear.push(parseInt(visits));\r\n      ordersByYear.push(parseInt(orders));\r\n    }\r\n    dispatch(handleSalesByYear(salesByYear));\r\n    dispatch(handleVisitsByYear(visitsByYear));\r\n    dispatch(handleOrdersByYear(ordersByYear));\r\n  };\r\n}\r\n","import $axios from \"@/axios/$axios\";\r\n\r\nexport function handleSalesByPeriod(salesByPeriod) {\r\n  return { type: \"HANDLE_SALES_BY_PERIOD\", payload: salesByPeriod };\r\n}\r\nexport function handleVisitsByPeriod(visitsByPeriod) {\r\n  return { type: \"HANDLE_VISITS_BY_PERIOD\", payload: visitsByPeriod };\r\n}\r\nexport function handleOrdersByPeriod(ordersByPeriod) {\r\n  return { type: \"HANDLE_ORDERS_BY_PERIOD\", payload: ordersByPeriod };\r\n}\r\nexport function handleAllSales(data) {\r\n  return { type: \"HANDLE_ALL_SALES\", payload: data };\r\n}\r\nexport function handleAllVisits(data) {\r\n  return { type: \"HANDLE_ALL_VISITS\", payload: data };\r\n}\r\nexport function handleAllOrders(data) {\r\n  return { type: \"HANDLE_ALL_ORDERS\", payload: data };\r\n}\r\nexport function handlePeriod(period) {\r\n  return { type: \"HANDLE_PERIOD\", payload: period };\r\n}\r\nexport function handleFetchByPeriod(catergory) {\r\n  return async (dispatch) => {\r\n    let salesByPeriod = [];\r\n    let visitsByPeriod = [];\r\n    let ordersByPeriod = [];\r\n    let period = [];\r\n    let data = await $axios(`/historyData`);\r\n    let periodData = data.data.splice(\r\n      data.data.length > 15 ? data.data.length - 15 : 0\r\n    );\r\n    for (let i = 0; i < periodData.length; i++) {\r\n      period.push(`${periodData[i].month}-${periodData[i].day}`);\r\n      salesByPeriod.push(parseInt(periodData[i].historySales));\r\n      visitsByPeriod.push(parseInt(periodData[i].historyVisits));\r\n      ordersByPeriod.push(parseInt(periodData[i].historyOrders));\r\n    }\r\n    dispatch(handlePeriod(period.splice(1, period.length)));\r\n    dispatch(handleSalesByPeriod(salesByPeriod));\r\n    dispatch(handleVisitsByPeriod(visitsByPeriod));\r\n    dispatch(handleOrdersByPeriod(ordersByPeriod));\r\n    dispatch(handleAllSales(salesByPeriod[salesByPeriod.length - 1] || \"0\"));\r\n    dispatch(handleAllVisits(visitsByPeriod[visitsByPeriod.length - 1] || \"0\"));\r\n    dispatch(handleAllOrders(ordersByPeriod[ordersByPeriod.length - 1] || \"0\"));\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DashboardHeader from \"@/components/dashboardHeader\";\r\nimport DashboardChart from \"@/components/dashboardChart\";\r\nimport PageLoading from \"../../components/pageLoading\";\r\nimport { handleFetchByWeek } from \"@/redux/actions/weekData\";\r\nimport { handleFetchByMonth } from \"@/redux/actions/monthData\";\r\nimport { handleFetchByYear } from \"@/redux/actions/yearData\";\r\nimport { handleFetchByPeriod } from \"@/redux/actions/periodData\";\r\nimport { connect } from \"react-redux\";\r\nconst Dashboard = (props) => {\r\n  const [loading, setLoading] = useState(\r\n    !(\r\n      props.salesByPeriod &&\r\n      props.visitsByPeriod &&\r\n      props.ordersByPeriod &&\r\n      props.allSales &&\r\n      props.allVisits &&\r\n      props.allOrders &&\r\n      props.salesByYear &&\r\n      props.visitsByYear &&\r\n      props.ordersByYear &&\r\n      props.salesByMonth &&\r\n      props.visitsByMonth &&\r\n      props.ordersByMonth &&\r\n      props.salesByWeek &&\r\n      props.visitsByWeek &&\r\n      props.ordersByWeek &&\r\n      props.period &&\r\n      props.alipay &&\r\n      props.wechatPay &&\r\n      props.paypal &&\r\n      props.email\r\n    )\r\n  );\r\n  const addScript = (url) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = url;\r\n    script.type = \"text/javascript\";\r\n    script.async = true;\r\n    document.head.appendChild(script);\r\n  };\r\n  useEffect(() => {\r\n    setLoading(\r\n      !(\r\n        props.salesByPeriod &&\r\n        props.visitsByPeriod &&\r\n        props.ordersByPeriod &&\r\n        props.allSales &&\r\n        props.allVisits &&\r\n        props.allOrders &&\r\n        props.salesByYear &&\r\n        props.visitsByYear &&\r\n        props.ordersByYear &&\r\n        props.salesByMonth &&\r\n        props.visitsByMonth &&\r\n        props.ordersByMonth &&\r\n        props.salesByWeek &&\r\n        props.visitsByWeek &&\r\n        props.ordersByWeek &&\r\n        props.period &&\r\n        props.alipay &&\r\n        props.wechatPay &&\r\n        props.paypal &&\r\n        props.email\r\n      )\r\n    );\r\n  }, [props]);\r\n  useEffect(() => {\r\n    const echartsUrl = \"/lib/echarts.min.js\";\r\n    addScript(echartsUrl);\r\n    props.handleFetchByPeriod();\r\n    props.handleFetchByYear();\r\n    props.handleFetchByMonth();\r\n    props.handleFetchByWeek();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <PageLoading />\r\n      ) : (\r\n        <div className=\"dahboard-container\" style={{ padding: \"20px\" }}>\r\n          <DashboardHeader />\r\n          <DashboardChart />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    salesByPeriod: state.periodData.salesByPeriod,\r\n    visitsByPeriod: state.periodData.visitsByPeriod,\r\n    ordersByPeriod: state.periodData.ordersByPeriod,\r\n    allSales: state.periodData.allSales,\r\n    allVisits: state.periodData.allVisits,\r\n    allOrders: state.periodData.allOrders,\r\n    period: state.periodData.period,\r\n    salesByYear: state.yearData.salesByYear,\r\n    visitsByYear: state.yearData.visitsByYear,\r\n    ordersByYear: state.yearData.ordersByYear,\r\n    salesByMonth: state.monthData.salesByMonth,\r\n    visitsByMonth: state.monthData.visitsByMonth,\r\n    ordersByMonth: state.monthData.ordersByMonth,\r\n    salesByWeek: state.weekData.salesByWeek,\r\n    visitsByWeek: state.weekData.visitsByWeek,\r\n    ordersByWeek: state.weekData.ordersByWeek,\r\n    alipay: state.form.alipay,\r\n    wechatPay: state.form.wechatPay,\r\n    paypal: state.form.paypal,\r\n    email: state.form.email,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleFetchByPeriod,\r\n  handleFetchByYear,\r\n  handleFetchByMonth,\r\n  handleFetchByWeek,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(Dashboard);\r\n","import $axios from \"@/axios/$axios\";\r\nimport moment from \"moment\";\r\n\r\nexport function handleSalesByWeek(salesByWeek) {\r\n  return { type: \"HANDLE_SALES_BY_WEEK\", payload: salesByWeek };\r\n}\r\nexport function handleVisitsByWeek(visitsByWeek) {\r\n  return { type: \"HANDLE_VISITS_BY_WEEK\", payload: visitsByWeek };\r\n}\r\nexport function handleOrdersByWeek(ordersByWeek) {\r\n  return { type: \"HANDLE_ORDERS_BY_WEEK\", payload: ordersByWeek };\r\n}\r\n\r\nexport function handleFetchByWeek(catergory) {\r\n  return async (dispatch) => {\r\n    let salesByMonth = [];\r\n    let visitsByMonth = [];\r\n    let ordersByMonth = [];\r\n    let maxDay = moment().daysInMonth();\r\n    let date = new Date();\r\n    let week = (date.getDay() + 6) % 7;\r\n    let day = date.getDate();\r\n\r\n    let metadata = await $axios({\r\n      method: \"get\",\r\n      url: `/todayData?year=${date.getFullYear()}&&month=${\r\n        date.getMonth() + 1\r\n      }`,\r\n    });\r\n    let monthData = metadata.data;\r\n    for (let i = 1; i <= maxDay; i++) {\r\n      let data = monthData.filter((item) => {\r\n        return item.day === i;\r\n      });\r\n      let sales = data.length !== 0 ? data[0].sales : 0;\r\n      let visits = data.length !== 0 ? data[0].visits : 0;\r\n      let orders = data.length !== 0 ? data[0].orders : 0;\r\n      salesByMonth.push(parseInt(sales));\r\n      visitsByMonth.push(parseInt(visits));\r\n      ordersByMonth.push(parseInt(orders));\r\n    }\r\n\r\n    dispatch(handleSalesByWeek(salesByMonth.slice(day - week - 1, day)));\r\n    dispatch(handleVisitsByWeek(visitsByMonth.slice(day - week - 1, day)));\r\n    dispatch(handleOrdersByWeek(ordersByMonth.slice(day - week - 1, day)));\r\n  };\r\n}\r\n","import $axios from \"@/axios/$axios\";\r\nimport { message } from \"antd\";\r\nexport const handleProductInfo = (data) => {\r\n  return {\r\n    type: \"HANLDE_PRODUCT_INFO\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleAllProducts = (data) => {\r\n  return {\r\n    type: \"HANLDE_ALL_PRODUCTS\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleSetting = (data) => {\r\n  return {\r\n    type: \"HANLDE_SETTING\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleFetchProductInfo = (productId) => {\r\n  return async (dispatch) => {\r\n    $axios\r\n      .get(`/product/${productId}`)\r\n      .then((res) => {\r\n        let productInfo = res.data;\r\n        dispatch(handleProductInfo(productInfo));\r\n      })\r\n      .catch(() => {\r\n        dispatch(handleProductInfo(404));\r\n        message.error(\"商品信息不存在\");\r\n      });\r\n  };\r\n};\r\nexport const handleFetchAllProduct = () => {\r\n  return async (dispatch) => {\r\n    $axios\r\n      .get(`/product/all`)\r\n      .then((res) => {\r\n        let allProducts = res.data || [];\r\n        dispatch(handleAllProducts(allProducts));\r\n      })\r\n      .catch(() => {\r\n        message.error(\"获取商品信息失败\");\r\n      });\r\n  };\r\n};\r\nexport const handleFetchSetting = () => {\r\n  return async (dispatch) => {\r\n    let metadata = await $axios.get(`/setting/`);\r\n    let setting = metadata.data || null;\r\n    dispatch(handleSetting(setting));\r\n  };\r\n};\r\n","import $axios from \"@/axios/$axios\";\r\nimport axios from \"axios\";\r\nimport { message } from \"antd\";\r\n\r\nexport const handleForm = (data) => {\r\n  return {\r\n    type: \"HANDLE_FORM_DATA\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleAlipay = (data) => {\r\n  return {\r\n    type: \"HANDLE_ALIPAY\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleWechatPay = (data) => {\r\n  return {\r\n    type: \"HANDLE_WECHAT_PAY\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handlePaypal = (data) => {\r\n  return {\r\n    type: \"HANDLE_PAYPAL\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleEmail = (data) => {\r\n  return {\r\n    type: \"HANDLE_EMAIL\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleUser = (data) => {\r\n  return {\r\n    type: \"HANDLE_USER\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleOrder = (data) => {\r\n  return {\r\n    type: \"HANDLE_ORDER\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleVerify = (data) => {\r\n  return {\r\n    type: \"HANDLE_VERIFY\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleVerifyDialog = (data) => {\r\n  return {\r\n    type: \"HANDLE_VERIFY_DIALOG\",\r\n    payload: data,\r\n  };\r\n};\r\nexport const handleFetchOrder = () => {\r\n  return async (dispatch) => {\r\n    const metadata = await $axios.get(\"/order/all\");\r\n    dispatch(handleOrder(metadata.data));\r\n  };\r\n};\r\nexport const handleFetchForm = () => {\r\n  return (dispatch) => {\r\n    axios\r\n      .all([\r\n        $axios(`/alipay`),\r\n        $axios(`/wechatPay`),\r\n        $axios(`/paypal`),\r\n        $axios(`/email`),\r\n        $axios(`/user`),\r\n      ])\r\n      .then((responseArr) => {\r\n        dispatch(handleAlipay(responseArr[0].data));\r\n        dispatch(handleWechatPay(responseArr[1].data));\r\n        dispatch(handlePaypal(responseArr[2].data));\r\n        dispatch(handleEmail(responseArr[3].data));\r\n        dispatch(handleUser(responseArr[4].data));\r\n      })\r\n      .catch(() => {\r\n        message.error(\"获取数据失败\");\r\n      });\r\n  };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Modal, message, Form, Input } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport {\r\n  handleForm,\r\n  handleVerify,\r\n  handleVerifyDialog,\r\n} from \"../../redux/actions/form\";\r\n\r\nconst layout = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 14 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 10, span: 16 },\r\n};\r\nconst VerifyId = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [visible, setVisible] = useState(false);\r\n  useEffect(() => {\r\n    props.handleForm(null);\r\n  }, []);\r\n\r\n  const handleCancel = () => {\r\n    props.handleVerifyDialog(false);\r\n  };\r\n  const onFinish = (values) => {\r\n    setLoading(true);\r\n\r\n    $axios\r\n      .post(\"/user/verify\", values)\r\n      .then(() => {\r\n        props.handleVerify(true);\r\n        props.handleVerifyDialog(false);\r\n        message.success(\"验证成功，请继续之前的操作\");\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        message.error(error.response.data.message);\r\n        setLoading(false);\r\n      });\r\n  };\r\n  return (\r\n    <Modal\r\n      visible={props.isShowDialog}\r\n      title=\"我们需要验证你的身份\"\r\n      // onOk={handleOk}\r\n      onCancel={handleCancel}\r\n      footer={[\r\n        <Button key=\"submit\" type=\"primary\" onClick={handleCancel}>\r\n          取消\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <Form {...layout} onFinish={onFinish}>\r\n        <Form.Item\r\n          label=\"问题一\"\r\n          name=\"answer1\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您就读小学的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您就读小学的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"问题二\"\r\n          name=\"answer2\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您最高学历就读学校的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您最高学历就读学校的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n            验证回答\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isShowDialog: state.form.isShowDialog,\r\n    isVerified: state.form.isVerified,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleForm,\r\n  handleVerify,\r\n  handleVerifyDialog,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(VerifyId);\r\n","import React, { useState } from \"react\";\r\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport { message } from \"antd\";\r\nimport \"./index.css\";\r\nimport $axios from \"../../axios/$axios\";\r\n\r\nconst Logo = (props) => {\r\n  const [url, setUrl] = useState(props.url ? props.url : null);\r\n  const [loading, setLoading] = useState(false);\r\n  const handleChange = async (e) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    const file = e.target.files[0];\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"id\", props.productId);\r\n    $axios\r\n      .post(\"/upload\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((result) => {\r\n        message.success(\"更换Logo成功\");\r\n        setLoading(false);\r\n        setUrl(window.webkitURL.createObjectURL(file));\r\n      })\r\n      .catch((error) => {\r\n        message.error(error.response.data.message);\r\n        setLoading(false);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"logo-container\">\r\n      <input\r\n        type=\"file\"\r\n        name=\"logo\"\r\n        id=\"logo\"\r\n        onChange={(event) => {\r\n          handleChange(event);\r\n        }}\r\n        className=\"logo-upload\"\r\n        accept=\"image/png, image/jpeg, image/gif, image/jpg, image/bmp\"\r\n      />\r\n      {url ? (\r\n        <img src={url} alt=\"\" className=\"logo-img\" />\r\n      ) : (\r\n        <div>\r\n          {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n          <div className=\"logo-text\">上传</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { useEffect } from \"react\";\r\nimport { PlusOutlined, ExclamationCircleOutlined } from \"@ant-design/icons\";\r\nimport { Button, Card, List, Typography, Modal, message } from \"antd\";\r\nimport \"./index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport { handleFetchAllProduct } from \"@/redux/actions/product\";\r\nimport { handleForm, handleVerifyDialog } from \"../../redux/actions/form\";\r\nimport VerifyId from \"../../components/verifyId\";\r\nimport Logo from \"../../components/logo\";\r\nconst { confirm } = Modal;\r\nconst { Paragraph } = Typography;\r\nconst ProductPage = (props) => {\r\n  useEffect(() => {\r\n    props.handleForm(null);\r\n  }, []);\r\n\r\n  const showConfirm = (index) => {\r\n    if (!props.isVerified) {\r\n      props.handleVerifyDialog(true);\r\n      return;\r\n    }\r\n    let { allProducts } = props;\r\n    let { handleFetchAllProduct } = props;\r\n    confirm({\r\n      title: \"是否删除此商品\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: \"删除之后，商品的购买链接将会失效，之前所有的销售数据仍会保留\",\r\n      okText: \"确认\",\r\n      okType: \"danger\",\r\n      cancelText: \"取消\",\r\n      onOk() {\r\n        return $axios\r\n          .post(`/product/delete/${allProducts[index - 1]._id}`)\r\n          .then((results) => {\r\n            message.success(\"删除成功\");\r\n            handleFetchAllProduct();\r\n          })\r\n          .catch(() => {\r\n            message.error(\"删除失败\");\r\n          });\r\n      },\r\n      onCancel() {},\r\n    });\r\n  };\r\n  const handleAddProduct = () => {\r\n    if (\r\n      props.alipay.secretKey === \" \" &&\r\n      props.wechatPay.secretKey === \" \" &&\r\n      props.alipay.secretKey === \" \"\r\n    ) {\r\n      message.warning(\"暂未配置支付信息\");\r\n    } else if (props.email.mailPassword === \" \") {\r\n      message.warning(\"暂未配置邮箱信息\");\r\n    } else {\r\n      props.history.push(\"/productAdd\");\r\n    }\r\n  };\r\n  const content = (\r\n    <div className={\"pageHeaderContent\"} style={{ padding: \"20px\" }}>\r\n      <div\r\n        style={{\r\n          fontSize: \"20px\",\r\n          fontWeight: \"500\",\r\n          marginTop: \"10px\",\r\n          color: \"#595959\",\r\n        }}\r\n      >\r\n        商品列表\r\n      </div>\r\n      <p style={{ lineHeight: \"35px\", fontSize: \"15px\", opacity: \"0.8\" }}>\r\n        在这里添加和编辑您希望出售的商品\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  const nullData = {};\r\n  return (\r\n    <div className=\"product-page-container\">\r\n      <div className=\"product-page-header\">{content}</div>\r\n      <VerifyId />\r\n      <div className={\"cardList\"} style={{ padding: \"20px\" }}>\r\n        <List\r\n          rowKey=\"id\"\r\n          grid={{\r\n            gutter: 24,\r\n            lg: 3,\r\n            md: 2,\r\n            sm: 1,\r\n            xs: 1,\r\n          }}\r\n          dataSource={[nullData, ...props.allProducts]}\r\n          renderItem={(item, index) => {\r\n            if (item && item._id) {\r\n              return (\r\n                <List.Item key={item._id}>\r\n                  <Card\r\n                    hoverable\r\n                    className={\"card\"}\r\n                    actions={[\r\n                      <Link to={`/productAdd/${index}`} key=\"edit\">\r\n                        编辑\r\n                      </Link>,\r\n                      <a\r\n                        key=\"delete\"\r\n                        onClick={() => {\r\n                          showConfirm(index);\r\n                        }}\r\n                      >\r\n                        删除\r\n                      </a>,\r\n                      <Link\r\n                        to={`/product/${\r\n                          props.allProducts[index - 1].productId\r\n                        }`}\r\n                        key=\"check\"\r\n                        target=\"_blank\"\r\n                      >\r\n                        查看\r\n                      </Link>,\r\n                    ]}\r\n                  >\r\n                    <Card.Meta\r\n                      avatar={<Logo productId={item._id} url={item.logo} />}\r\n                      title={<a href=\"/#\">{item.productName}</a>}\r\n                      description={\r\n                        <Paragraph\r\n                          className={\"item\"}\r\n                          ellipsis={{\r\n                            rows: 3,\r\n                          }}\r\n                        >\r\n                          {item.productInfo}\r\n                        </Paragraph>\r\n                      }\r\n                    />\r\n                  </Card>\r\n                </List.Item>\r\n              );\r\n            }\r\n\r\n            return (\r\n              <List.Item>\r\n                <Button\r\n                  type=\"dashed\"\r\n                  className={\"newButton\"}\r\n                  style={{ fontSize: \"15px\", height: \"200px\" }}\r\n                  onClick={handleAddProduct}\r\n                >\r\n                  <PlusOutlined /> 新增商品\r\n                </Button>\r\n              </List.Item>\r\n            );\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    allProducts: state.product.allProducts,\r\n    alipay: state.form.alipay,\r\n    wechatPay: state.form.wechatPay,\r\n    paypal: state.form.paypal,\r\n    email: state.form.email,\r\n    isVerified: state.form.isVerified,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleFetchAllProduct,\r\n  handleForm,\r\n  handleVerifyDialog,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(withRouter(ProductPage));\r\n","export function restoreFormData(productInfo) {\r\n  return Object.assign(productInfo, {\r\n    contact:\r\n      typeof productInfo.contact === \"string\"\r\n        ? productInfo.contact\r\n        : productInfo.contact.join(\"\\n\"),\r\n    levelName1: productInfo.levelName[0],\r\n    levelName2: productInfo.levelName[1],\r\n    levelName3: productInfo.levelName[2],\r\n    levelName4: productInfo.levelName[3],\r\n    levelDesc1: productInfo.levelDesc[0]\r\n      ? productInfo.levelDesc[0].join(\"\\n\")\r\n      : null,\r\n    levelDesc2: productInfo.levelDesc[1]\r\n      ? productInfo.levelDesc[1].join(\"\\n\")\r\n      : null,\r\n    levelDesc3: productInfo.levelDesc[2]\r\n      ? productInfo.levelDesc[2].join(\"\\n\")\r\n      : null,\r\n    levelDesc4: productInfo.levelDesc[3]\r\n      ? productInfo.levelDesc[3].join(\"\\n\")\r\n      : null,\r\n    levelPrice1: {\r\n      price1: productInfo.levelPrice[0].price,\r\n      unit1: productInfo.levelPrice[0].unit,\r\n    },\r\n    levelPrice2: productInfo.levelPrice[1]\r\n      ? {\r\n          price2: productInfo.levelPrice[1].price,\r\n          unit2: productInfo.levelPrice[1].unit,\r\n        }\r\n      : null,\r\n    levelPrice3: productInfo.levelPrice[2]\r\n      ? {\r\n          price3: productInfo.levelPrice[2].price,\r\n          unit3: productInfo.levelPrice[2].unit,\r\n        }\r\n      : null,\r\n    levelPrice4: productInfo.levelPrice[3]\r\n      ? {\r\n          price4: productInfo.levelPrice[3].price,\r\n          unit4: productInfo.levelPrice[3].unit,\r\n        }\r\n      : null,\r\n    levelLimit1: productInfo.levelLimit[0],\r\n    levelLimit2: productInfo.levelLimit[1],\r\n    levelLimit3: productInfo.levelLimit[2],\r\n    levelLimit4: productInfo.levelLimit[3],\r\n    levelNote1: productInfo.levelNote[0],\r\n    levelNote2: productInfo.levelNote[1],\r\n    levelNote3: productInfo.levelNote[2],\r\n    levelNote4: productInfo.levelNote[3],\r\n  });\r\n}\r\nexport function parseFormData(data, productId) {\r\n  return Object.assign(\r\n    {\r\n      productName: data.productName,\r\n      productType: data.productType,\r\n      callbackUrl: data.callbackUrl || \"未配置\",\r\n      productInfo: data.productInfo,\r\n      memberLevel: parseInt(data.memberLevel),\r\n      onSale: data.onSale,\r\n      theme: data.theme || \"default\",\r\n      productId: parseInt(productId) || 1,\r\n      contact: data.contact.split(\"\\n\"),\r\n    },\r\n    {\r\n      levelName: [\r\n        data.levelName1,\r\n        data.levelName2 !== undefined ? data.levelName2 : null,\r\n        data.levelName3 !== undefined ? data.levelName3 : null,\r\n        data.levelName4 !== undefined ? data.levelName4 : null,\r\n      ],\r\n      levelPrice: [\r\n        { price: data.levelPrice1.price1, unit: data.levelPrice1.unit1 },\r\n        data.levelPrice2 !== undefined\r\n          ? { price: data.levelPrice2.price2, unit: data.levelPrice2.unit2 }\r\n          : null,\r\n        data.levelPrice3 !== undefined\r\n          ? { price: data.levelPrice3.price3, unit: data.levelPrice3.unit3 }\r\n          : null,\r\n        data.levelPrice4 !== undefined\r\n          ? { price: data.levelPrice4.price4, unit: data.levelPrice4.unit4 }\r\n          : null,\r\n      ],\r\n      levelDesc: [\r\n        data.levelDesc1.split(\"\\n\"),\r\n        data.levelDesc2 !== undefined ? data.levelDesc2.split(\"\\n\") : null,\r\n        data.levelDesc3 !== undefined ? data.levelDesc3.split(\"\\n\") : null,\r\n        data.levelDesc4 !== undefined ? data.levelDesc4.split(\"\\n\") : null,\r\n      ],\r\n      levelLimit: [\r\n        data.levelLimit1,\r\n        data.levelLimit2 !== undefined ? data.levelLimit2 : null,\r\n        data.levelLimit3 !== undefined ? data.levelLimit3 : null,\r\n        data.levelLimit4 !== undefined ? data.levelLimit4 : null,\r\n      ],\r\n      levelNote: [\r\n        data.levelNote1,\r\n        data.levelNote2 !== undefined ? data.levelNote2 : null,\r\n        data.levelNote3 !== undefined ? data.levelNote3 : null,\r\n        data.levelNote4 !== undefined ? data.levelNote4 : null,\r\n      ],\r\n    }\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Input, Select, Button, Radio, InputNumber } from \"antd\";\r\nimport { handleForm } from \"@/redux/actions/form\";\r\nimport { connect } from \"react-redux\";\r\nimport { restoreFormData } from \"../../../utils/productUtil\";\r\nconst { Option } = Select;\r\nconst AddStepOne = (props) => {\r\n  const [levels, setLevels] = useState(\r\n    props.formData ? props.formData.memberLevel : 0\r\n  );\r\n  const [onSale, setOnSale] = useState(\"yes\");\r\n  const [formData, setFormData] = useState(\r\n    props.formData ? props.formData : null\r\n  );\r\n  const [productType, setProductType] = useState(\r\n    props.formData ? props.formData.productType : 1\r\n  );\r\n  let formRef = React.createRef();\r\n  useEffect(() => {\r\n    let url = document.location.toString();\r\n    let idArr = url.split(\"/\");\r\n    let id = idArr[idArr.length - 1];\r\n    if (!isNaN(parseInt(id))) {\r\n      //解决被调用两次的问题，导致productUitl报错\r\n      formRef.current.setFieldsValue(\r\n        restoreFormData(props.allProducts[id - 1])\r\n      );\r\n      setFormData(restoreFormData(props.allProducts[id - 1]));\r\n      setLevels(props.allProducts[id - 1].memberLevel);\r\n      setProductType(props.allProducts[id - 1].productType);\r\n    }\r\n  }, []);\r\n  const onLevelChange = (value) => {\r\n    setLevels(parseInt(value));\r\n  };\r\n\r\n  const onSaleChange = (e) => {\r\n    setOnSale(e.target.value);\r\n  };\r\n  const onTypeChange = (e) => {\r\n    setProductType(e.target.value);\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    props.handleFormData(values);\r\n    props.handleForm(values);\r\n    props.handleNext();\r\n    setFormData(values);\r\n  };\r\n\r\n  const renderLevelDesc = () => {\r\n    let arr = [];\r\n    for (let i = 1; i <= levels; i++) {\r\n      arr.push(i);\r\n    }\r\n    return arr.map((item) => {\r\n      return (\r\n        <div key={item}>\r\n          <Form.Item\r\n            name={`levelName${item}`}\r\n            label={`等级${item}名称`}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: `请输入等级${item}名称`,\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder={\"示例：高级版，年费会员，企业版\"} />\r\n          </Form.Item>\r\n          <Form.Item label={`等级${item}定价`}>\r\n            <Input.Group compact>\r\n              <Form.Item name={[`levelPrice${item}`, `price${item}`]} noStyle>\r\n                <InputNumber\r\n                  min={0}\r\n                  step={1}\r\n                  style={{\r\n                    width: \"calc(100% - 100px)\",\r\n                  }}\r\n                  placeholder={`请输入等级${item}定价`}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name={[`levelPrice${item}`, `unit${item}`]}\r\n                noStyle\r\n                rules={[\r\n                  { required: true, message: `请输入等级${item}定价单位` },\r\n                ]}\r\n              >\r\n                <Select\r\n                  style={{\r\n                    width: 100,\r\n                  }}\r\n                  placeholder=\"选择单位\"\r\n                >\r\n                  <Option value=\"每月\">每月</Option>\r\n                  <Option value=\"每3个月\">每3个月</Option>\r\n                  <Option value=\"每6个月\">每6个月</Option>\r\n                  <Option value=\"每年\">每年</Option>\r\n                  <Option value=\"终身\">终身</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Input.Group>\r\n          </Form.Item>\r\n          <Form.Item\r\n            name={`levelDesc${item}`}\r\n            label={`等级${item}特权描述`}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入会员特权描述\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input.TextArea\r\n              id=\"desc\"\r\n              placeholder=\"写完一条之后请换行\"\r\n              autoSize={{ minRows: 3, maxRows: 5 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item label={`等级${item}限购数量`} name={`levelLimit${item}`}>\r\n            <InputNumber\r\n              style={{ width: \"100%\" }}\r\n              min={0}\r\n              step={1}\r\n              placeholder=\"不限购请留空\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item name={`levelNote${item}`} label={`等级${item}备注`}>\r\n            <Input.TextArea\r\n              id=\"note\"\r\n              placeholder=\"没有请留空\"\r\n              autoSize={{ minRows: 3, maxRows: 5 }}\r\n            />\r\n          </Form.Item>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const formItemLayoutWithOutLabel = {\r\n    wrapperCol: {\r\n      xs: { span: 24, offset: 12 },\r\n      sm: { span: 20, offset: 11 },\r\n    },\r\n  };\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 8 },\r\n    },\r\n  };\r\n  return (\r\n    <div className=\"shadow-radius\" style={{ marginTop: \"50px\" }}>\r\n      <Form\r\n        {...formItemLayout}\r\n        onFinish={onFinish}\r\n        initialValues={formData ? formData : null}\r\n        ref={formRef}\r\n      >\r\n        <Form.Item\r\n          label=\"商品类型\"\r\n          name=\"productType\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请选择商品类型\",\r\n            },\r\n          ]}\r\n        >\r\n          <Radio.Group onChange={onTypeChange} value={productType}>\r\n            <Radio value={1}>会员码商品</Radio>\r\n            <Radio value={2}>非会员码商品</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <a\r\n          href=\"https://github.com/troyeguo/coodo-pay#开发理念\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <div\r\n            style={{ textAlign: \"center\", marginBottom: 20, marginTop: -20 }}\r\n          >\r\n            什么是会员码商品和非会员码商品\r\n          </div>\r\n        </a>\r\n        <Form.Item\r\n          label=\"商品名称\"\r\n          name=\"productName\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入商品名称\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入商品名称\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"productInfo\"\r\n          label=\"商品介绍\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入商品介绍\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            placeholder=\"请用不超过20个字介绍一下这个商品\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"会员等级数量\"\r\n          name=\"memberLevel\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入会员等级数量\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select placeholder=\"请选择会员等级数量\" onChange={onLevelChange}>\r\n            <Option value=\"1\">1</Option>\r\n            <Option value=\"2\">2</Option>\r\n            <Option value=\"3\">3</Option>\r\n            <Option value=\"4\">4</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        {renderLevelDesc()}\r\n        {productType === 1 ? null : (\r\n          <Form.Item\r\n            label=\"订单回调地址\"\r\n            name=\"callbackUrl\"\r\n            rules={[\r\n              {\r\n                type: \"url\",\r\n                required: productType === 1 ? false : true,\r\n                message: \"请输入订单回调地址\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入订单回调地址\" />\r\n          </Form.Item>\r\n        )}\r\n\r\n        <Form.Item\r\n          label=\"是否在售\"\r\n          name=\"onSale\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请选择是否在售\",\r\n            },\r\n          ]}\r\n        >\r\n          <Radio.Group onChange={onSaleChange} value={onSale}>\r\n            <Radio value=\"yes\">在售</Radio>\r\n            <Radio value=\"no\">停售</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name={`contact`}\r\n          label={`联系方式`}\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入联系方式\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            id=\"contact\"\r\n            placeholder=\"官方网站、微博、公众号、邮箱等，写完一条之后请换行\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayoutWithOutLabel}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            下一步\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    formData: state.form.formData,\r\n    allProducts: state.product.allProducts,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleForm,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(AddStepOne);\r\n","import React from \"react\";\r\nimport { Descriptions, Row, Button } from \"antd\";\r\nimport { parseFormData } from \"../../../utils/productUtil\";\r\n\r\nconst AddStepTwo = (props) => {\r\n  const { formData } = props;\r\n  const renderContact = (contact) => {\r\n    return contact.split(\"\\n\").map((item, index) => {\r\n      return <div key={index}>{item}</div>;\r\n    });\r\n  };\r\n  const renderLevelTable = (levels, data) => {\r\n    const {\r\n      levelName,\r\n      levelPrice,\r\n      levelDesc,\r\n      levelLimit,\r\n      levelNote,\r\n    } = parseFormData(data, null);\r\n    let arr = [];\r\n    for (let i = 1; i <= levels; i++) {\r\n      arr.push(i);\r\n    }\r\n    const renderLevelDesc = (descArr) => {\r\n      return descArr.map((item, index) => {\r\n        return <div key={index}>{item}</div>;\r\n      });\r\n    };\r\n    return arr.map((item) => {\r\n      return (\r\n        <Descriptions.Item label={`等级${item}方案`} span={3} key={item}>\r\n          等级{item}名称: {levelName[item - 1]}\r\n          <br />\r\n          等级{item}价格:{\" \"}\r\n          {`${levelPrice[item - 1].price}元/${levelPrice[item - 1].unit}`}\r\n          <br />\r\n          等级{item}特权描述:\r\n          <br />\r\n          {renderLevelDesc(levelDesc[item - 1])}\r\n          <br />\r\n          等级{item}限购数量: {levelLimit[item - 1]}\r\n          <br />\r\n          等级{item}备注: {levelNote[item - 1]}\r\n          <br />\r\n        </Descriptions.Item>\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"add-step-two\" style={{ padding: \"50px 150px\" }}>\r\n      <Descriptions\r\n        bordered\r\n        column={{ xxl: 4, xl: 3, lg: 3, md: 3, sm: 2, xs: 1 }}\r\n      >\r\n        <Descriptions.Item label=\"商品名称\">\r\n          {formData.productName}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"商品介绍\" span={2}>\r\n          {formData.productInfo}\r\n        </Descriptions.Item>\r\n        {renderLevelTable(formData.memberLevel, formData)}\r\n        {formData.productType === 1 ? null : (\r\n          <Descriptions.Item label=\"支付回调地址\" span={4}>\r\n            {formData.callbackUrl}\r\n          </Descriptions.Item>\r\n        )}\r\n\r\n        <Descriptions.Item label=\"是否在售\">在售</Descriptions.Item>\r\n        <Descriptions.Item label={`联系方式`}>\r\n          {renderContact(formData.contact)}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <Row justify=\"center\" style={{ marginTop: \"40px\" }}>\r\n        <Button onClick={props.handlePrev} style={{ marginRight: \"30px\" }}>\r\n          上一步\r\n        </Button>\r\n        <Button type=\"primary\" onClick={props.handleNext}>\r\n          提交\r\n        </Button>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddStepTwo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Result, Descriptions, message } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { handleFetchAllProduct } from \"@/redux/actions/product.js\";\r\nconst copy = require(\"copy-text-to-clipboard\");\r\n\r\nconst AddStepThree = (props) => {\r\n  const [mode, setMode] = useState(\"add\");\r\n  const [id, setId] = useState(null);\r\n  useEffect(() => {\r\n    let url = document.location.toString();\r\n    let idArr = url.split(\"/\");\r\n    let id = idArr[idArr.length - 1];\r\n    if (!isNaN(parseInt(id))) {\r\n      setMode(\"edit\");\r\n      setId(props.allProducts[id - 1]._id);\r\n    }\r\n  }, []);\r\n\r\n  const handleCopy = (link) => {\r\n    copy(link);\r\n    message.success(\"复制链接到剪切板\");\r\n  };\r\n  const getProductId = (id) => {\r\n    const product = props.allProducts.filter((item) => {\r\n      return item._id === id;\r\n    });\r\n    return product[0].productId;\r\n  };\r\n  const productLink = `${window.location.protocol}//${\r\n    window.location.host\r\n  }#/product/${\r\n    mode === \"edit\"\r\n      ? getProductId(id)\r\n      : props.allProducts[props.allProducts.length - 1].productId + 1\r\n  }`;\r\n  const information = (\r\n    <div className=\"information\">\r\n      <Descriptions column={1}>\r\n        <Descriptions.Item label=\"商品名称\">\r\n          {props.formData.productName}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"商品描述\">\r\n          {props.formData.productInfo}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"商品链接\">\r\n          <a href={productLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            {productLink}\r\n          </a>\r\n          <Button\r\n            onClick={() => {\r\n              handleCopy(productLink);\r\n            }}\r\n            style={{ marginLeft: \"20px\" }}\r\n          >\r\n            点击复制\r\n          </Button>\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n    </div>\r\n  );\r\n  const extra = (\r\n    <div>\r\n      <Link to=\"/productList\">\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={() => {\r\n            props.handleFetchAllProduct();\r\n          }}\r\n        >\r\n          返回商品列表\r\n        </Button>\r\n      </Link>\r\n    </div>\r\n  );\r\n  return (\r\n    <Result\r\n      status=\"success\"\r\n      title=\"添加成功\"\r\n      subTitle=\"\"\r\n      extra={extra}\r\n      className=\"result\"\r\n      style={{ marginTop: \"20px\", userSelect: \"text\" }}\r\n    >\r\n      {information}\r\n    </Result>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    formData: state.form.formData,\r\n    allProducts: state.product.allProducts,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleFetchAllProduct,\r\n};\r\n\r\nexport default connect(mapStateToProps, actionCreator)(AddStepThree);\r\n","//添加商品信息\r\nimport React, { useState } from \"react\";\r\nimport AddStepOne from \"./components/addStepOne\";\r\nimport AddStepTwo from \"./components/addStepTwo\";\r\nimport AddStepThree from \"./components/addStepThree\";\r\nimport \"./index.css\";\r\nconst AddSteps = (props) => {\r\n  const [formData, setFormData] = useState(null);\r\n  const getFormValue = (values) => {\r\n    setFormData(values);\r\n  };\r\n\r\n  return props.currentStep === 0 ? (\r\n    <AddStepOne\r\n      handleNext={props.next}\r\n      handleFormData={getFormValue.bind(this)}\r\n    />\r\n  ) : props.currentStep === 1 ? (\r\n    <AddStepTwo\r\n      handleNext={props.next}\r\n      handlePrev={props.prev}\r\n      formData={formData}\r\n    />\r\n  ) : (\r\n    <AddStepThree />\r\n  );\r\n};\r\n\r\nexport default AddSteps;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Card, Steps, Row, message } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ArrowLeftOutlined } from \"@ant-design/icons\";\r\nimport AddSteps from \"@/components/addSteps\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport \"./index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { handleFetchAllProduct } from \"@/redux/actions/product\";\r\nimport { parseFormData } from \"../../utils/productUtil\";\r\n\r\nconst { Step } = Steps;\r\nconst AddProduct = (props) => {\r\n  const [current, setCurrent] = useState(0);\r\n  const [mode, setMode] = useState(\"add\");\r\n  const [id, setId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let url = document.location.toString();\r\n    let idArr = url.split(\"/\");\r\n    let id = idArr[idArr.length - 1];\r\n    if (!isNaN(parseInt(id))) {\r\n      setMode(\"edit\");\r\n      setId(props.allProducts[id - 1]._id);\r\n    }\r\n  }, []);\r\n  const next = () => {\r\n    if (mode === \"add\") {\r\n      //添加商品时走这条分支\r\n      if (current === 0) {\r\n        setCurrent(current + 1);\r\n      } else {\r\n        $axios\r\n          .post(\r\n            \"/product\",\r\n            parseFormData(\r\n              props.formData,\r\n              props.allProducts.length !== 0\r\n                ? props.allProducts[props.allProducts.length - 1].productId + 1\r\n                : 1\r\n            )\r\n          )\r\n          .then((results) => {\r\n            setCurrent(current + 1);\r\n          })\r\n          .catch((err) => {\r\n            message.error(\"添加失败\");\r\n          });\r\n      }\r\n    } else {\r\n      //编辑商品时走这条分支\r\n      if (current === 0) {\r\n        setCurrent(current + 1);\r\n      } else {\r\n        $axios\r\n          .post(\r\n            `/product/update/${id}`,\r\n            parseFormData(props.formData, getProductId(id))\r\n          )\r\n          .then((results) => {\r\n            setCurrent(current + 1);\r\n          })\r\n          .catch((err) => {\r\n            message.error(\"添加失败\");\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const prev = () => {\r\n    setCurrent(current - 1);\r\n  };\r\n  const getProductId = (id) => {\r\n    const product = props.allProducts.filter((item) => {\r\n      return item._id === id;\r\n    });\r\n    return product[0].productId;\r\n  };\r\n  return (\r\n    <div className=\"product-add-page\">\r\n      <Link to=\"/productList\">\r\n        <span\r\n          className=\"product-add-return\"\r\n          onClick={() => {\r\n            props.handleFetchAllProduct();\r\n          }}\r\n        >\r\n          <ArrowLeftOutlined />\r\n          &nbsp; 返回商品列表\r\n        </span>\r\n      </Link>\r\n\r\n      <div className=\"product-add-header\">\r\n        <p style={{ fontSize: \"20px\", fontWeight: \"500\", marginTop: \"30px\" }}>\r\n          {mode === \"add\" ? \" 添加商品\" : \"编辑商品\"}\r\n        </p>\r\n        <p style={{ lineHeight: \"50px\", fontSize: \"15px\" }}>\r\n          将一个冗长或用户不熟悉的表单任务分成多个步骤，指导用户完成。\r\n        </p>\r\n        <div className={\"extraImg\"}>\r\n          <img\r\n            alt=\"这是一个标题\"\r\n            src=\"https://gw.alipayobjects.com/zos/rmsportal/RzwpdLnhmvDJToTdfDPe.png\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <Card bordered={false} style={{ margin: \"20px\" }}>\r\n        <Row justify=\"center\">\r\n          <Steps current={current}>\r\n            <Step key=\"1\" title=\"填写商品信息\"></Step>\r\n            <Step key=\"2\" title=\"确认商品信息\"></Step>\r\n            <Step key=\"3\" title=\"完成\"></Step>\r\n          </Steps>\r\n        </Row>\r\n        <AddSteps currentStep={current} next={next} prev={prev} />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    formData: state.form.formData,\r\n    allProducts: state.product.allProducts,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleFetchAllProduct,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(AddProduct);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Button, Input, DatePicker, Badge, message } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport { handleFetchOrder } from \"@/redux/actions/form\";\r\nconst dateFormat = \"YYYY-MM-DD\";\r\nconst { Search } = Input;\r\n\r\nconst OrderPage = (props) => {\r\n  const [data, setData] = useState(props.order);\r\n  const [loading, setLoading] = useState(true);\r\n  const [refundLoading, setRefundLoading] = useState(false);\r\n  const [refundIndex, setRefundIndex] = useState(-1);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  useEffect(() => {\r\n    if (props.order) {\r\n      setLoading(false);\r\n      setData(props.order);\r\n    }\r\n  }, [props.order]);\r\n  const filterData = (date = {}) => {\r\n    let filteredData = [];\r\n    props.order.forEach((item) => {\r\n      if (\r\n        item.year === date.year &&\r\n        item.month === date.month &&\r\n        item.day === date.day\r\n      ) {\r\n        filteredData.push(item);\r\n      }\r\n    });\r\n    setData(filteredData);\r\n  };\r\n\r\n  const onSelectedRowKeysChange = (selectedRowKeys) => {\r\n    setSelectedRowKeys(selectedRowKeys);\r\n  };\r\n  const handleSearch = (value) => {\r\n    let searchResults = [];\r\n    props.order.forEach((item) => {\r\n      if (item.email === value || item.orderId === value) {\r\n        searchResults.push(item);\r\n      }\r\n    });\r\n    setData(searchResults);\r\n  };\r\n  const handleReset = () => {\r\n    setData(props.order);\r\n    let inputBox = document.querySelector(\".ant-input\");\r\n    inputBox.value = \"\";\r\n  };\r\n  const onDateChange = (date) => {\r\n    date &&\r\n      filterData({\r\n        year: date._d.getFullYear(),\r\n        month: date._d.getMonth() + 1,\r\n        day: date._d.getDate(),\r\n      });\r\n  };\r\n  const handleRefund = async (orderId, index) => {\r\n    setRefundLoading(true);\r\n    setRefundIndex(index);\r\n    $axios\r\n      .post(\"/refund\", { orderId })\r\n      .then((res) => {\r\n        setRefundLoading(false);\r\n        message.success(\"退款成功\");\r\n        props.handleFetchOrder();\r\n        setRefundIndex(-1);\r\n      })\r\n      .catch((err) => {\r\n        setRefundLoading(false);\r\n        setRefundIndex(-1);\r\n        console.log(err);\r\n        message.error(\"退款失败\");\r\n      });\r\n  };\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectedRowKeysChange,\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"退款操作\",\r\n      dataIndex: \"orderId\",\r\n      key: \"orderId\",\r\n      width: 100,\r\n      render: (text, record, index) => (\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={() => {\r\n            handleRefund(record.orderId, index);\r\n          }}\r\n          size=\"small\"\r\n          loading={refundIndex === index && refundLoading}\r\n          disabled={record.paymentStatus !== \"已支付\"}\r\n        >\r\n          退款\r\n        </Button>\r\n      ),\r\n    },\r\n    {\r\n      title: \"订单号\",\r\n      dataIndex: \"orderId\",\r\n      key: \"orderId\",\r\n      width: 180,\r\n    },\r\n\r\n    {\r\n      title: \"商品名称\",\r\n      key: \"productName\",\r\n      dataIndex: \"productName\",\r\n      width: 100,\r\n    },\r\n    {\r\n      title: \"商品等级\",\r\n      key: \"levelName\",\r\n      dataIndex: \"levelName\",\r\n      width: 100,\r\n    },\r\n    {\r\n      title: \"支付状态\",\r\n      key: \"paymentStatus\",\r\n      dataIndex: \"paymentStatus\",\r\n      width: 100,\r\n      render: (paymentStatus) =>\r\n        paymentStatus === \"已支付\" ? (\r\n          <Badge status=\"success\" text={paymentStatus} />\r\n        ) : paymentStatus === \"已退款\" ? (\r\n          <Badge status=\"error\" text={paymentStatus} />\r\n        ) : (\r\n          <Badge status=\"warning\" text={paymentStatus} />\r\n        ),\r\n    },\r\n    {\r\n      title: \"会员码\",\r\n      key: \"code\",\r\n      dataIndex: \"code\",\r\n      width: 220,\r\n    },\r\n    {\r\n      title: \"激活状态\",\r\n      key: \"activation\",\r\n      dataIndex: \"activation\",\r\n      width: 140,\r\n      render: (activation) =>\r\n        activation === \"已激活\" ? (\r\n          <Badge status=\"success\" text={activation} />\r\n        ) : (\r\n          <Badge status=\"warning\" text={activation} />\r\n        ),\r\n    },\r\n    {\r\n      title: \"创建日期\",\r\n      dataIndex: \"date\",\r\n      key: \"date\",\r\n      width: 100,\r\n    },\r\n\r\n    {\r\n      title: \"价格\",\r\n      dataIndex: \"price\",\r\n      key: \"price\",\r\n      width: 100,\r\n      render: (price) => <span>{price}元</span>,\r\n    },\r\n    {\r\n      title: \"支付方式\",\r\n      dataIndex: \"payment\",\r\n      key: \"payment\",\r\n      width: 100,\r\n      render: (payment) =>\r\n        payment === \"alipay\" ? <span>支付宝</span> : <span>其他</span>,\r\n    },\r\n    {\r\n      title: \"邮箱\",\r\n      dataIndex: \"email\",\r\n      key: \"email\",\r\n      width: 200,\r\n    },\r\n  ];\r\n  const date = new Date();\r\n  return (\r\n    <div className=\"shadow-radius\">\r\n      <div\r\n        className=\"order-page-header\"\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          height: \"100px\",\r\n          padding: \"30px 20px\",\r\n        }}\r\n      >\r\n        <div style={{ fontSize: \"20px\", fontWeight: \"500\" }}>订单管理</div>\r\n        <p style={{ lineHeight: \"35px\", fontSize: \"15px\", opacity: \"0.8\" }}>\r\n          在这里查找，管理以往所有的订单和会员码\r\n        </p>\r\n      </div>\r\n      <div\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          height: \"80px\",\r\n          margin: \"20px 20px 0 20px\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            marginLeft: \"20px\",\r\n            float: \"left\",\r\n            lineHeight: \"80px\",\r\n            fontSize: \"18px\",\r\n          }}\r\n        >\r\n          搜索订单\r\n        </div>\r\n        <Search\r\n          placeholder=\"搜索订单号、Email\"\r\n          enterButton=\"搜索\"\r\n          style={{\r\n            width: 300,\r\n            margin: \"25px 10px 25px 10px\",\r\n            float: \"left\",\r\n            height: \"20px\",\r\n            fontSize: \"25px\",\r\n          }}\r\n          onSearch={(value) => {\r\n            handleSearch(value);\r\n          }}\r\n        />\r\n        <DatePicker\r\n          defaultValue={moment(`${date.toLocaleDateString()}`, dateFormat)}\r\n          format={dateFormat}\r\n          onChange={onDateChange}\r\n          style={{\r\n            width: 200,\r\n            margin: \"25px 20px\",\r\n            float: \"left\",\r\n          }}\r\n        />\r\n        <Button\r\n          onClick={handleReset}\r\n          style={{\r\n            margin: \"25px 10px\",\r\n            float: \"left\",\r\n            color: \"#40A9FF !important\",\r\n          }}\r\n        >\r\n          重置\r\n        </Button>\r\n      </div>\r\n      <div\r\n        className=\"order-page-body\"\r\n        style={{ backgroundColor: \"white\", margin: \"0px 20px\" }}\r\n      >\r\n        <Table\r\n          columns={columns}\r\n          dataSource={data}\r\n          rowKey={(record) => record}\r\n          rowSelection={rowSelection}\r\n          style={{ userSelect: \"text\" }}\r\n          scroll={{ x: 800 }}\r\n          loading={loading}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    order: state.form.order,\r\n  };\r\n};\r\nconst actionCreator = { handleFetchOrder };\r\nexport default connect(mapStateToProps, actionCreator)(OrderPage);\r\n","//添加支付宝当面付的支付信息\r\nimport React, { useState } from \"react\";\r\nimport { Form, Input, Button, Row, message } from \"antd\";\r\nimport { AlipayCircleOutlined } from \"@ant-design/icons\";\r\nimport \"./index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { handleFetchForm, handleVerifyDialog } from \"@/redux/actions/form\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport VerifyId from \"../../components/verifyId\";\r\nexport const Alipay = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const formItemLayoutWithOutLabel = {\r\n    wrapperCol: {\r\n      xs: { span: 24, offset: 2 },\r\n      sm: { span: 16, offset: 4 },\r\n    },\r\n  };\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      sm: { span: 3 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 10, offset: 0 },\r\n    },\r\n  };\r\n  const formRef = React.createRef();\r\n  const handleVerify = () => {\r\n    if (props.isVerified) {\r\n      formRef.current.setFieldsValue(props.formData);\r\n    } else {\r\n      props.handleVerifyDialog(true);\r\n    }\r\n  };\r\n  const onFinish = (values) => {\r\n    setLoading(true);\r\n    if (!props.isVerified) {\r\n      props.handleVerifyDialog(true);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    $axios\r\n      .post(`/alipay/${props.formData._id}`, {\r\n        ...values,\r\n        paymentName: \"支付宝\",\r\n      })\r\n      .then(() => {\r\n        message.success(\"保存成功\");\r\n        setLoading(false);\r\n        props.handleFetchForm();\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        message.error(error.response.data.message);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"alipay-container\" style={{ position: \"relative\" }}>\r\n      <VerifyId />\r\n      <Row justify=\"center\" style={{ marginTop: \"20px\" }}>\r\n        <AlipayCircleOutlined className=\"alipay-icon\" />\r\n        <p className=\"alipay-title\">添加支付宝当面付</p>\r\n      </Row>\r\n      <div className=\"alipay-page-message\">\r\n        <p className=\"alipay-message-title\">注意事项： </p>\r\n        <p>\r\n          支付宝当面付需要到支付宝开发者平台提交申请，\r\n          <br />\r\n          <br />\r\n          审核通过了才能使用，具体介绍可以参考如下链接\r\n          <br />\r\n          <br />\r\n          <a\r\n            href=\"https://51.ruyo.net/12354.html\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            点我前往\r\n          </a>\r\n        </p>\r\n      </div>\r\n      <Form\r\n        {...formItemLayout}\r\n        onFinish={onFinish}\r\n        ref={formRef}\r\n        name=\"control-ref\"\r\n        initialValues={\r\n          props.isVerified && props.formData ? props.formData : null\r\n        }\r\n        style={{ marginTop: \"40px\" }}\r\n      >\r\n        <Form.Item label=\"支付名称\" name=\"paymentName\">\r\n          <Input placeholder=\"请输入支付名称\" defaultValue=\"支付宝\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"应用ID\"\r\n          name=\"appId\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您申请的应用ID\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您申请的应用ID\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"publicKey\"\r\n          label=\"支付宝公匙\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入支付宝公匙\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            placeholder=\"请输入支付宝公匙（注意不是应用公匙）\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"secretKey\"\r\n          label=\"应用私匙\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入应用私匙\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            placeholder=\"请输入RSA2(SHA256)私匙\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"服务器域名\"\r\n          name=\"notifyUrl\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您的服务器域名\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您的服务器域名，请带上http或https\" />\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayoutWithOutLabel}>\r\n          <Button onClick={handleVerify} style={{ marginRight: \"10px\" }}>\r\n            显示表单数据\r\n          </Button>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n            保存\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isVerified: state.form.isVerified };\r\n};\r\nconst actionCreator = {\r\n  handleFetchForm,\r\n  handleVerifyDialog,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(Alipay);\r\n","import React, { useState } from \"react\";\r\nimport { Form, Input, Button, Row, Select, message } from \"antd\";\r\nimport { WechatOutlined } from \"@ant-design/icons\";\r\nimport \"./index.css\";\r\nimport $axios from \"@/axios/$axios\";\r\nconst { Option } = Select;\r\nconst WechatPay = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onFinish = (values) => {\r\n    setLoading(true);\r\n\r\n    $axios\r\n      .post(`/wechatPay/${props.formData._id}`, values)\r\n      .then(() => {\r\n        message.success(\"保存成功\");\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        message.error(\"保存失败\");\r\n        setLoading(false);\r\n      });\r\n  };\r\n  const formItemLayoutWithOutLabel = {\r\n    wrapperCol: {\r\n      xs: { span: 24, offset: 2 },\r\n      sm: { span: 16, offset: 7 },\r\n    },\r\n  };\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      sm: { span: 3 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 10, offset: 0 },\r\n    },\r\n  };\r\n  return (\r\n    <div className=\"wechat-container\" style={{ position: \"relative\" }}>\r\n      <Row justify=\"center\" style={{ marginTop: \"20px\" }}>\r\n        <WechatOutlined className=\"wechat-icon\" />\r\n        <p className=\"wechat-title\">添加微信扫码支付</p>\r\n      </Row>\r\n      <div\r\n        className=\"alipay-page-message\"\r\n        style={{ borderLeft: \"4px solid #00bb0d\" }}\r\n      >\r\n        <p className=\"alipay-message-title\">注意事项： </p>\r\n        <p>\r\n          微信支付功能暂未开发，\r\n          <br />\r\n          <br />\r\n          您可以前往Github star 本项目，鼓励开发者尽早开发\r\n          <br />\r\n          <br />\r\n          <a href=\"https://\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            点我前往\r\n          </a>\r\n        </p>\r\n      </div>\r\n      <Form\r\n        {...formItemLayout}\r\n        onFinish={onFinish}\r\n        // initialValues={props.formData ? props.formData : null}\r\n        style={{ marginTop: \"40px\" }}\r\n      >\r\n        <Form.Item label=\"支付名称\" name=\"paymentName\">\r\n          <Input placeholder=\"请输入支付名称\" defaultValue=\"微信支付\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"公众账号ID\"\r\n          name=\"accountID\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入公众账号ID\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入公众账号ID\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"商户ID\"\r\n          name=\"bussinessId\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您的商户ID\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            placeholder=\"请输入您的商户ID\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"secretKey\"\r\n          label=\"密匙\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入密匙\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            placeholder=\"请输入密匙\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"signMethod\"\r\n          label=\"签名方式\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"选择签名方式\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select placeholder=\"选择签名方式\">\r\n            <Option value=\"MD5\">MD5</Option>\r\n            <Option value=\"SHA256\">SHA256</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"问题一\"\r\n          name=\"answer1\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您就读小学的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您就读小学的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"问题二\"\r\n          name=\"answer2\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您最高学历就读学校的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您最高学历就读学校的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayoutWithOutLabel}>\r\n          <Button type=\"primary\" htmlType=\"submit\" disabled loading={loading}>\r\n            保存\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WechatPay;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Input, Button, Row, Select, message } from \"antd\";\r\nimport { createFromIconfontCN } from \"@ant-design/icons\";\r\nimport \"./index.css\";\r\nimport $axios from \"@/axios/$axios\";\r\nconst IconFont = createFromIconfontCN({\r\n  scriptUrl: \"//at.alicdn.com/t/font_1693087_csjervhanqr.js\",\r\n});\r\nconst Paypal = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const onFinish = (values) => {\r\n    setLoading(true);\r\n    $axios\r\n      .post(`/paypal/${props.formData._id}`, values)\r\n      .then(() => {\r\n        message.success(\"保存成功\");\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        message.error(\"保存失败\");\r\n        setLoading(false);\r\n      });\r\n  };\r\n  const formItemLayoutWithOutLabel = {\r\n    wrapperCol: {\r\n      xs: { span: 24, offset: 2 },\r\n      sm: { span: 16, offset: 7 },\r\n    },\r\n  };\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      sm: { span: 3 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 10, offset: 0 },\r\n    },\r\n  };\r\n  return (\r\n    <div className=\"paypal-container\" style={{ position: \"relative\" }}>\r\n      <Row justify=\"center\" style={{ marginTop: \"20px\" }}>\r\n        <IconFont type=\"icon-social-paypal\" className=\"paypal-icon\" />\r\n        <p className=\"paypal-title\">添加 Paypal</p>\r\n      </Row>\r\n      <div\r\n        className=\"alipay-page-message\"\r\n        style={{ borderLeft: \"4px solid #113984\" }}\r\n      >\r\n        <p className=\"alipay-message-title\">注意事项： </p>\r\n        <p>\r\n          Paypal 支付功能暂未开发，\r\n          <br />\r\n          <br />\r\n          您可以前往Github star 本项目，鼓励开发者尽早开发\r\n          <br />\r\n          <br />\r\n          <a href=\"https://\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            点我前往\r\n          </a>\r\n        </p>\r\n      </div>\r\n      <Form\r\n        {...formItemLayout}\r\n        onFinish={onFinish}\r\n        // initialValues={props.formData ? props.formData : null}\r\n        style={{ marginTop: \"40px\" }}\r\n      >\r\n        <Form.Item label=\"支付名称\" name=\"paymentName\">\r\n          <Input placeholder=\"请输入支付名称\" defaultValue=\"Paypal\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"ClientID\"\r\n          name=\"clientID\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您申请的ClientID\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            placeholder=\"请输入您申请的ClientID\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"secretKey\"\r\n          label=\"Paypal 私匙\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入 Paypal 私匙\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea\r\n            placeholder=\"请输入 Paypal 私匙\"\r\n            autoSize={{ minRows: 3, maxRows: 5 }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"兑换汇率\"\r\n          name=\"exchangeRate\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入兑换汇率\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入兑换汇率\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"mode\"\r\n          label=\"工作模式\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"选择工作模式\",\r\n            },\r\n          ]}\r\n        >\r\n          <Select placeholder=\"选择模式\">\r\n            <Select.Option value=\"生产模式\">生产模式</Select.Option>\r\n            <Select.Option value=\"沙盒模式\">沙盒模式</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"问题一\"\r\n          name=\"answer1\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您就读小学的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您就读小学的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"问题二\"\r\n          name=\"answer2\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您最高学历就读学校的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您最高学历就读学校的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayoutWithOutLabel}>\r\n          <Button type=\"primary\" htmlType=\"submit\" disabled loading={loading}>\r\n            保存\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paypal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Menu } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport Alipay from \"../../components/alipay\";\r\nimport WechatPay from \"../../components/wechatPay\";\r\nimport Paypal from \"../../components/paypal\";\r\nimport \"./index.css\";\r\nconst { Item } = Menu;\r\nconst menuMap = {\r\n  alipay: \"支付宝\",\r\n  wechatPay: \"微信支付\",\r\n  paypal: \"Paypal\",\r\n};\r\nlet main;\r\nconst PaymentPage = (props) => {\r\n  const [mode, setMode] = useState(\"inline\");\r\n  const [selectedKey, setSelectedKey] = useState(\"alipay\");\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", resize);\r\n    resize();\r\n    return window.removeEventListener(\"resize\", resize);\r\n  });\r\n\r\n  const getMenu = () => {\r\n    return Object.keys(menuMap).map((item) => (\r\n      <Item key={item}>{menuMap[item]}</Item>\r\n    ));\r\n  };\r\n\r\n  const selectKey = (key) => {\r\n    setSelectedKey(key);\r\n  };\r\n\r\n  const resize = () => {\r\n    if (!main) {\r\n      return;\r\n    }\r\n\r\n    requestAnimationFrame(() => {\r\n      if (!main) {\r\n        return;\r\n      }\r\n\r\n      let mode = \"inline\";\r\n      const { offsetWidth } = main;\r\n\r\n      if (main.offsetWidth < 641 && offsetWidth > 400) {\r\n        mode = \"horizontal\";\r\n      }\r\n\r\n      if (window.innerWidth < 768 && offsetWidth > 400) {\r\n        mode = \"horizontal\";\r\n      }\r\n\r\n      setMode(mode);\r\n    });\r\n  };\r\n\r\n  const renderChildren = () => {\r\n    switch (selectedKey) {\r\n      case \"alipay\":\r\n        return <Alipay formData={props.alipay} />;\r\n\r\n      case \"wechatPay\":\r\n        return <WechatPay formData={props.wechatPay} />;\r\n\r\n      case \"paypal\":\r\n        return <Paypal formData={props.paypal} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return null;\r\n  };\r\n  return (\r\n    <div className={\"main\"}>\r\n      <div className={\"leftMenu\"}>\r\n        <Menu\r\n          mode={mode}\r\n          selectedKeys={[selectedKey]}\r\n          onClick={({ key }) => selectKey(key)}\r\n          className=\"payment-page\"\r\n          style={{\r\n            marginTop: \"10px\",\r\n          }}\r\n        >\r\n          {getMenu()}\r\n        </Menu>\r\n      </div>\r\n      <div className={\"right\"}>{renderChildren()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alipay: state.form.alipay,\r\n    wechatPay: state.form.wechatPay,\r\n    paypal: state.form.paypal,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  // handleFetchForm\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(PaymentPage);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Input, Button, message } from \"antd\";\r\nimport \"./index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport { handleFetchForm, handleVerifyDialog } from \"@/redux/actions/form\";\r\nimport VerifyId from \"../../components/verifyId\";\r\nconst MailPage = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  let formRef = React.createRef();\r\n  const onFinish = (values) => {\r\n    setLoading(true);\r\n    if (!props.isVerified) {\r\n      props.handleVerifyDialog(true);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    $axios\r\n      .post(`/email/${props.email._id}`, values)\r\n      .then(() => {\r\n        message.success(\"保存成功\");\r\n        props.handleFetchForm();\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        message.error(\"验证失败\");\r\n        setLoading(false);\r\n      });\r\n  };\r\n  const handleVerify = () => {\r\n    if (props.isVerified) {\r\n      formRef.current.setFieldsValue(props.email);\r\n    } else {\r\n      props.handleVerifyDialog(true);\r\n    }\r\n  };\r\n  const formItemLayoutWithOutLabel = {\r\n    wrapperCol: {\r\n      xs: { span: 24, offset: 2 },\r\n      sm: { span: 16, offset: 5 },\r\n    },\r\n  };\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      sm: { span: 4 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 8, offset: 0 },\r\n    },\r\n  };\r\n  return (\r\n    <div className=\"mail-page-container\">\r\n      <VerifyId />\r\n      <div\r\n        className=\"order-page-header\"\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          height: \"100px\",\r\n          padding: \"30px 20px\",\r\n        }}\r\n      >\r\n        <div style={{ fontSize: \"20px\", fontWeight: \"500\" }}>邮箱设置</div>\r\n        <p style={{ lineHeight: \"35px\", fontSize: \"15px\", opacity: \"0.8\" }}>\r\n          当用户完成下单，会通过邮件的方式向用户发送订单信息，在这里填写您用于发送订单的邮箱\r\n        </p>\r\n      </div>\r\n      <div\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          margin: \"20px 20px 0 20px\",\r\n          padding: \"20px\",\r\n        }}\r\n        className=\"mail-page-setting\"\r\n      >\r\n        <div className=\"mail-page-message\">\r\n          <p className=\"mail-message-title\">注意事项： </p>\r\n          <p>\r\n            目前发送邮件功能仅支持使用QQ邮箱发送，\r\n            <br />\r\n            <br />\r\n            QQ邮箱授权码获取方式可以参考如下链接\r\n            <br />\r\n            <br />\r\n            <a\r\n              href=\"https://service.mail.qq.com/cgi-bin/help?subtype=1&&no=1001256&&id=28\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              点我前往\r\n            </a>\r\n          </p>\r\n        </div>\r\n        <Form\r\n          {...formItemLayout}\r\n          ref={formRef}\r\n          name=\"control-ref\"\r\n          onFinish={onFinish}\r\n          initialValues={props.isVerified && props.email ? props.email : null}\r\n          style={{ marginTop: \"40px\" }}\r\n        >\r\n          <Form.Item\r\n            label=\"QQ邮箱地址\"\r\n            name=\"mailAddress\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入QQ邮箱地址\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入QQ邮箱地址\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"QQ邮箱授权码\"\r\n            name=\"mailPassword\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入QQ邮箱授权码\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入QQ邮箱授权码\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"发件人昵称\"\r\n            name=\"sendName\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入发件人昵称\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入发件人昵称\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item {...formItemLayoutWithOutLabel}>\r\n            <Button\r\n              onClick={handleVerify}\r\n              // disabled={props.isVerified}\r\n            >\r\n              显示表单数据\r\n            </Button>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              loading={loading}\r\n              style={{ marginLeft: \"10px\" }}\r\n            >\r\n              保存\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    email: state.form.email,\r\n    isVerified: state.form.isVerified,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleFetchForm,\r\n  handleVerifyDialog,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(MailPage);\r\n","import React from \"react\";\r\nimport { Card, List, message } from \"antd\";\r\nimport \"./index.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport { CheckOutlined } from \"@ant-design/icons\";\r\nconst ThemePage = (props) => {\r\n  const handleApply = (theme) => {\r\n    $axios\r\n      .post(`/setting/${props.setting._id}`, {\r\n        ...props.setting,\r\n        themeOption: theme,\r\n      })\r\n      .then(() => {\r\n        message.success(\"应用成功，快去商品页查看效果吧\");\r\n      })\r\n      .catch(() => {\r\n        message.error(\"应用失败，请稍后重试\");\r\n      });\r\n  };\r\n  const cardList = (\r\n    <List\r\n      rowKey=\"id\"\r\n      // loading={loading}\r\n      grid={{\r\n        gutter: 24,\r\n        xl: 4,\r\n        lg: 3,\r\n        md: 3,\r\n        sm: 2,\r\n        xs: 1,\r\n      }}\r\n      dataSource={[\r\n        {\r\n          id: \"default\",\r\n          title: \"默认主题\",\r\n          cover: \"/assets/default.svg\",\r\n          href: \"\",\r\n          subDescription: \"没有你，良辰美景更与何人说！\",\r\n        },\r\n        {\r\n          id: \"tech\",\r\n          title: \"科技主题\",\r\n          cover: \"/assets/tech.svg\",\r\n          href: \"\",\r\n          subDescription: \"城镇中有那么多的酒馆，她却偏偏走进了我的酒馆\",\r\n        },\r\n        {\r\n          id: \"nostalgic\",\r\n          title: \"复古主题\",\r\n          cover: \"/assets/nostalgic.svg\",\r\n          href: \"\",\r\n          subDescription: \"人生就像一盒巧克力，你永远不知道下一颗是什么味道。\",\r\n        },\r\n      ]}\r\n      renderItem={(item, index) => (\r\n        <List.Item>\r\n          <Card\r\n            className={\"theme-card\"}\r\n            hoverable\r\n            cover={\r\n              <img\r\n                alt={item.title}\r\n                src={item.cover}\r\n                className=\"theme-card-cover\"\r\n              />\r\n            }\r\n            actions={[\r\n              <div\r\n                key=\"apply\"\r\n                onClick={() => {\r\n                  handleApply(item.id);\r\n                }}\r\n              >\r\n                <CheckOutlined />\r\n                &nbsp; 应用主题\r\n              </div>,\r\n            ]}\r\n          >\r\n            <Card.Meta title={item.title} description={item.subDescription} />\r\n          </Card>\r\n        </List.Item>\r\n      )}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className={\"coverCardList\"} style={{ margin: \"20px\" }}>\r\n      <div className={\"cardList\"} style={{ margin: \"20px 0px\" }}>\r\n        {cardList}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    setting: state.product.setting,\r\n  };\r\n};\r\nconst actionCreator = {};\r\nexport default connect(mapStateToProps, actionCreator)(withRouter(ThemePage));\r\n","import React, { useState } from \"react\";\r\nimport { Menu, Form, Input, Button, Descriptions, message, Modal } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport $axios from \"@/axios/$axios\";\r\nconst { Item } = Menu;\r\nconst formItemLayoutWithOutLabel = {\r\n  wrapperCol: {\r\n    xs: { span: 24, offset: 12 },\r\n    sm: { span: 16, offset: 8 },\r\n  },\r\n};\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    sm: { span: 8 },\r\n  },\r\n  wrapperCol: {\r\n    sm: { span: 12, offset: 0 },\r\n  },\r\n};\r\nconst menuMap = {\r\n  info: \"账户信息\",\r\n  changeInfo: \"更改账户\",\r\n  // notification: \"New Message Notification\"\r\n};\r\nconst AccountPage = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedKey, setSelectedKey] = useState(\"info\");\r\n  const info = () => {\r\n    Modal.info({\r\n      title: \"检查到新版本\",\r\n      content: (\r\n        <div>\r\n          <p>快去 Github 更新吧！</p>\r\n        </div>\r\n      ),\r\n      onOk: () => {\r\n        setLoading(false);\r\n      },\r\n    });\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    setLoading(true);\r\n    $axios\r\n      .post(`/user/update/${props.user._id}`, values)\r\n      .then(() => {\r\n        message.success(\"保存成功\");\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        message.error(\"保存失败\");\r\n        setLoading(false);\r\n      });\r\n  };\r\n  const checkUpdate = async () => {\r\n    setLoading(true);\r\n\r\n    await $axios\r\n      .get(\"/setting\")\r\n      .then((result) => {\r\n        if (result.data.version > props.setting.version) {\r\n          info();\r\n        } else {\r\n          message.success(\"暂无版本更新\");\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        message.error(\"检查更新失败\");\r\n        setLoading(false);\r\n      });\r\n  };\r\n  const getMenu = () => {\r\n    return Object.keys(menuMap).map((item) => (\r\n      <Item key={item}>{menuMap[item]}</Item>\r\n    ));\r\n  };\r\n  const selectKey = (key) => {\r\n    setSelectedKey(key);\r\n  };\r\n  const renderAccountInfo = () => {\r\n    return (\r\n      <Descriptions title=\"账户信息\">\r\n        <Descriptions.Item label=\"邮箱\">{props.user.email}</Descriptions.Item>\r\n        <Descriptions.Item label=\"注册日期\">\r\n          {props.user.date}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"当前版本\">\r\n          {props.setting.version}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"检查更新\">\r\n          <Button type=\"primary\" onClick={checkUpdate} loading={loading}>\r\n            检查更新\r\n          </Button>\r\n          <a\r\n            href=\"https://github.com/troyeguo/coodo-pay\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            &nbsp;&nbsp;&nbsp;更新地址\r\n          </a>\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n    );\r\n  };\r\n  const renderChangeInfo = () => {\r\n    return (\r\n      <Form\r\n        {...formItemLayout}\r\n        onFinish={onFinish}\r\n        initialValues={props.formData ? props.formData : null}\r\n        style={{ marginTop: \"40px\" }}\r\n      >\r\n        <Form.Item\r\n          label=\"邮箱\"\r\n          name=\"email\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入邮箱\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入邮箱\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入密码\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password placeholder=\"请输入密码\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"您就读小学的所在城市\"\r\n          name=\"answer1\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您就读小学的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您就读小学的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"您最高学历就读学校的所在城市\"\r\n          name=\"answer2\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入您最高学历就读学校的所在城市\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"请输入您最高学历就读学校的所在城市\" />\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayoutWithOutLabel}>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n            保存\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  };\r\n\r\n  const renderChildren = () => {\r\n    switch (selectedKey) {\r\n      case \"info\":\r\n        return renderAccountInfo();\r\n\r\n      case \"changeInfo\":\r\n        return renderChangeInfo();\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return null;\r\n  };\r\n  return (\r\n    <div className=\"main\" style={{ height: \"100%\" }}>\r\n      <div className={\"leftMenu\"}>\r\n        <Menu\r\n          mode=\"inline\"\r\n          selectedKeys={[selectedKey]}\r\n          onClick={({ key }) => selectKey(key)}\r\n          className=\"payment-page\"\r\n          style={{\r\n            marginTop: \"10px\",\r\n          }}\r\n        >\r\n          {getMenu()}\r\n        </Menu>\r\n      </div>\r\n      <div className={\"right\"}>{renderChildren()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.form.user,\r\n    setting: state.product.setting,\r\n  };\r\n};\r\nconst actionCreator = {};\r\nexport default connect(mapStateToProps, actionCreator)(withRouter(AccountPage));\r\n","import React from \"react\";\r\nimport { Button, Row, Col } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./error.scss\";\r\n\r\nconst Error404 = props => {\r\n  const goback = () => {\r\n    props.history.push(\"/productList\");\r\n  };\r\n  return (\r\n    <Row gutter={24} className=\"wrap-404\">\r\n      <Col offset={4} sm={8} className=\"img-box\" xs={10} />\r\n      <Col offset={1} sm={10} className=\"content-error\" xs={20}>\r\n        <h1>404</h1>\r\n        <p className=\"desc\">抱歉，你访问的页面不存在</p>\r\n        <div>\r\n          <Button onClick={goback} type=\"primary\">\r\n            返回首页\r\n          </Button>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default withRouter(Error404);\r\n","import React from \"react\";\r\nimport { Button, Row, Col } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./error.scss\";\r\n\r\nconst Error500 = props => {\r\n  const goback = () => {\r\n    props.history.push(\"/productList\");\r\n  };\r\n  return (\r\n    <Row gutter={24} className=\"wrap-500\">\r\n      <Col offset={4} sm={8} className=\"img-box\" xs={15} />\r\n      <Col offset={1} sm={10} className=\"content-error\" xs={20}>\r\n        <h1>500</h1>\r\n        <p className=\"desc\">抱歉，服务器错误</p>\r\n        <div>\r\n          <Button onClick={goback} type=\"primary\">\r\n            返回首页\r\n          </Button>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default withRouter(Error500);\r\n","import Dashboard from \"../pages/dashboard\";\r\nimport ProductPage from \"../pages/productPage\";\r\nimport AddProduct from \"../pages/addProduct\";\r\nimport OrderPage from \"../pages/orderPage\";\r\nimport PaymentPage from \"../pages/paymentPage\";\r\nimport MailPage from \"../pages/mailPage\";\r\nimport ThemePage from \"../pages/themePage\";\r\nimport AccountPage from \"../pages/accountPage\";\r\nimport Error404 from \"../pages/errorPage/error404\";\r\nimport Error500 from \"../pages/errorPage/error500\";\r\n\r\nexport const routes = [\r\n  { path: \"/dashboard\", component: Dashboard },\r\n  { path: \"/productList\", component: ProductPage },\r\n  { path: \"/productAdd\", component: AddProduct },\r\n  { path: \"/order\", component: OrderPage },\r\n  { path: \"/payment\", component: PaymentPage },\r\n  { path: \"/mail\", component: MailPage },\r\n  { path: \"/theme\", component: ThemePage },\r\n  { path: \"/account\", component: AccountPage },\r\n  { path: \"/error/404\", component: Error404 },\r\n  { path: \"/error/500\", component: Error500 }\r\n];\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, withRouter, Route, Switch } from \"react-router-dom\";\r\nimport { routes } from \"@/router/routes\";\r\nimport $axios from \"@/axios/$axios\";\r\nconst MainContent = (props) => {\r\n  const handleFirstLogin = async () => {\r\n    const { setting } = props;\r\n    if (setting.isFirst === \"yes\") {\r\n      await $axios.post(`/setting/${setting._id}`, { isFirst: \"no\" });\r\n    }\r\n  };\r\n  handleFirstLogin();\r\n  const date = new Date();\r\n  return (\r\n    <div className=\"content-container\" style={{ height: \"calc(100% - 61px)\" }}>\r\n      <Switch>\r\n        {routes.map((ele) => (\r\n          <Route\r\n            render={() => <ele.component />}\r\n            key={ele.path}\r\n            path={ele.path}\r\n          />\r\n        ))}\r\n        <Redirect from=\"/\" exact to=\"/productList\" />\r\n        <Redirect to=\"/error/404\" />\r\n      </Switch>\r\n      <div className=\"default-footer\">\r\n        Supported by\r\n        <a\r\n          href=\"https://github.com/troyeguo/coodo-pay\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          {\" \"}\r\n          Coodo Pay\r\n        </a>\r\n        , Copyright © {date.getFullYear()}\r\n        <a\r\n          href=\"https://github.com/troyeguo\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          {\" \"}\r\n          App by Troye\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({ setting: state.product.setting });\r\nexport default withRouter(connect(mapStateToProps)(MainContent));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Layout, Row } from \"antd\";\r\nimport Header from \"./components/header\";\r\nimport Sidebar from \"./components/sidebar\";\r\nimport Content from \"./components/content\";\r\nimport \"./index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport Pageloading from \"../../components/pageLoading\";\r\n// import { handleFetchByWeek } from \"@/redux/actions/weekData\";\r\n// import { handleFetchByMonth } from \"@/redux/actions/monthData\";\r\n// import { handleFetchByYear } from \"@/redux/actions/yearData\";\r\n// import { handleFetchByPeriod } from \"@/redux/actions/periodData\";\r\nimport {\r\n  handleFetchAllProduct,\r\n  handleFetchSetting,\r\n} from \"@/redux/actions/product\";\r\nimport { handleFetchForm, handleFetchOrder } from \"@/redux/actions/form\";\r\nconst App = (props) => {\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    props.handleFetchAllProduct();\r\n    props.handleFetchForm();\r\n    props.handleFetchSetting();\r\n    // props.handleFetchByPeriod();\r\n    // props.handleFetchByYear();\r\n    // props.handleFetchByMonth();\r\n    // props.handleFetchByWeek();\r\n    // props.handleFetchOrder();\r\n  }, []);\r\n  useEffect(() => {\r\n    props.handleFetchOrder();\r\n  }, [loading]);\r\n  useEffect(() => {\r\n    setLoading(!(props.allProducts && props.setting && props.user));\r\n  }, [props.allProducts, props.setting, props.user]);\r\n  const renderFetchMask = () => {\r\n    return (\r\n      <div className=\"fetching-data-mask\">\r\n        <img src=\"/assets/default.svg\" alt=\"\" className=\"login-mask-image\" />\r\n        <Row justify=\"center\" className=\"login-mask-title\">\r\n          Coodo Pay\r\n        </Row>\r\n        <Row justify=\"center\" className=\"login-mask-subtitle\">\r\n          <span>👏</span> 欢迎使用可道支付\r\n        </Row>\r\n        <Pageloading />\r\n        <Row justify=\"center\" style={{ lineHeight: \"40px\" }}>\r\n          正在为您加载数据\r\n        </Row>\r\n        <Row className=\"login-title\" justify=\"center\">\r\n          <div style={{ width: \"150px\" }}>\r\n            <img\r\n              src=\"../assets/logo.svg\"\r\n              alt=\"\"\r\n              className=\"login-logo\"\r\n              style={{\r\n                width: \"30px\",\r\n                marginTop: \"30px\",\r\n              }}\r\n            />\r\n\r\n            <span className=\"login-mask-text\">Coodo Pay</span>\r\n          </div>\r\n        </Row>\r\n        <Row justify=\"center\"></Row>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"admin-container\" style={{ height: \"100%\" }}>\r\n      {loading ? (\r\n        renderFetchMask()\r\n      ) : (\r\n        <Layout style={{ height: \"100%\" }}>\r\n          <Sidebar />\r\n          <Layout>\r\n            <Header />\r\n            <Content />\r\n          </Layout>\r\n        </Layout>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    allProducts: state.product.allProducts,\r\n    user: state.form.user,\r\n    setting: state.product.setting,\r\n    order: state.form.order,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  // handleFetchByPeriod,\r\n  // handleFetchByYear,\r\n  // handleFetchByMonth,\r\n  // handleFetchByWeek,\r\n  handleFetchForm,\r\n  handleFetchSetting,\r\n  handleFetchOrder,\r\n  handleFetchAllProduct,\r\n};\r\n\r\nexport default connect(mapStateToProps, actionCreator)(App);\r\n","import React, { useEffect } from \"react\";\r\nimport \"./index.css\";\r\n\r\nconst MobilePage = (props) => {\r\n  const addStyle = (url) => {\r\n    const style = document.createElement(\"link\");\r\n    style.href = url;\r\n    style.rel = \"stylesheet\";\r\n    // style.async = true;\r\n    document.head.appendChild(style);\r\n  };\r\n  const { productInfo } = props;\r\n  useEffect(() => {\r\n    const cssUrl = `/assets/css/${props.theme}.css`;\r\n    addStyle(cssUrl);\r\n  }, []);\r\n  return (\r\n    <div\r\n      className=\"mobile-page-container\"\r\n      style={{ height: window.screen.height }}\r\n    >\r\n      <img src={`/assets/${props.theme}.svg`} alt=\"\" className=\"mobile-bg\" />\r\n\r\n      <div className=\"mobile-warning\">\r\n        <div\r\n          style={\r\n            props.theme === \"tech\"\r\n              ? { color: \"white\" }\r\n              : { color: \"rgba(72, 72, 72, 1)\" }\r\n          }\r\n        >\r\n          <div style={{ fontSize: 30, margin: 20, fontWeight: 500 }}>\r\n            {productInfo.productName}\r\n          </div>\r\n          <div\r\n            style={{\r\n              fontSize: \"calc(0.2rem + 1em)\",\r\n              margin: 20,\r\n              fontWeight: 500,\r\n            }}\r\n          >\r\n            移动端暂未开发\r\n          </div>\r\n          <div style={{ width: \"70vw\" }}>\r\n            <div style={{ opacity: 0.8 }}>\r\n              为了更好的用户体验，请使用电脑端访问，给您带来的不便敬请谅解\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MobilePage;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Input, Button, Row, Col, Checkbox, message } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { handleUserInfo } from \"@/redux/actions/login\";\r\nimport \"./index.css\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport MobilePage from \"@/pages/mobilePage\";\r\nimport { isMobile } from \"react-device-detect\";\r\nconst FormItem = Form.Item;\r\nconst Login = (props) => {\r\n  const [isForget, setIsforget] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const onFinish = (values) => {\r\n    setLoading(true);\r\n    if (isForget) {\r\n      $axios\r\n        .post(\"/user/forget\", values)\r\n        .then(() => {\r\n          message.success(\"修改成功，请使用新密码登录\");\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.response.data.message);\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      $axios\r\n        .post(\"/user/login\", values)\r\n        .then((res) => {\r\n          localStorage.setItem(\"jwt\", res.data);\r\n          props.history.push(\"/productList\");\r\n          message.success(\"登录成功\");\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          message.error(\"登录失败\");\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleForget = (bool) => {\r\n    setIsforget(bool);\r\n  };\r\n  if (isMobile) {\r\n    return (\r\n      <MobilePage productInfo={{ productName: \"Coodo Pay\" }} theme=\"default\" />\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"login-container\">\r\n      <img src=\"assets/login.svg\" alt=\"\" className=\"login-image\" />\r\n      <Row className=\"login-title\" justify=\"center\">\r\n        <div style={{ width: \"400px\" }}>\r\n          <img\r\n            src=\"../assets/logo.svg\"\r\n            alt=\"\"\r\n            className=\"login-logo\"\r\n            style={{ width: \"50px\", marginTop: \"70px\", marginLeft: \"70px\" }}\r\n          />\r\n\r\n          <span className=\"login-logo-text\">Coodo Pay</span>\r\n        </div>\r\n      </Row>\r\n\r\n      <Row span={12} justify=\"center\" className=\"login-subtitle\">\r\n        一个基于 React 和 Koa2 开发的在线支付系统\r\n      </Row>\r\n      <Row justify=\"center\" span={8}>\r\n        <div className=\"login-form\">\r\n          <Form\r\n            className=\"login-form\"\r\n            initialValues={{\r\n              remember: true,\r\n            }}\r\n            onFinish={onFinish}\r\n          >\r\n            {isForget ? (\r\n              <div>\r\n                <FormItem\r\n                  name=\"answer1\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"请输入您就读小学的所在城市\",\r\n                    },\r\n                  ]}\r\n                  style={{ marginBottom: \"20px\" }}\r\n                >\r\n                  <Input\r\n                    placeholder=\"请输入您就读小学的所在城市\"\r\n                    className=\"login-input\"\r\n                  />\r\n                </FormItem>\r\n                <FormItem\r\n                  name=\"answer2\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"请输入您最高学历就读学校的所在城市！\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input\r\n                    placeholder=\"请输入您最高学历就读学校的所在城市！\"\r\n                    className=\"login-input\"\r\n                  />\r\n                </FormItem>\r\n                <FormItem\r\n                  name=\"password\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"请输入新密码\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input.Password\r\n                    placeholder=\"请输入新密码\"\r\n                    className=\"login-input\"\r\n                    prefix={<LockOutlined />}\r\n                  />\r\n                </FormItem>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <FormItem\r\n                  name=\"email\"\r\n                  rules={[{ required: true, message: \"请输入邮箱！\" }]}\r\n                >\r\n                  <Input\r\n                    placeholder=\"邮箱\"\r\n                    className=\"login-input\"\r\n                    prefix={<UserOutlined />}\r\n                    value=\"coodo@102410.xyz\"\r\n                  />\r\n                </FormItem>\r\n                <FormItem\r\n                  name=\"password\"\r\n                  rules={[{ required: true, message: \"请输入密码！\" }]}\r\n                  style={{ marginBottom: \"20px\" }}\r\n                >\r\n                  <Input.Password\r\n                    placeholder=\"密码\"\r\n                    prefix={<LockOutlined />}\r\n                    className=\"login-input\"\r\n                    value=\"123456\"\r\n                  />\r\n                </FormItem>\r\n                <Row justify=\"space-between\">\r\n                  <Col style={{ height: \"50px\" }}>\r\n                    <Form.Item name=\"remember\" valuePropName=\"checked\">\r\n                      <Checkbox>Remember me</Checkbox>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col\r\n                    style={{\r\n                      height: \"30px\",\r\n                      lineHeight: \"35px\",\r\n                      color: \"#40a9ff\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    onClick={() => {\r\n                      handleForget(true);\r\n                    }}\r\n                  >\r\n                    忘记密码\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            )}\r\n\r\n            <FormItem>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                block\r\n                size=\"large\"\r\n                loading={loading}\r\n              >\r\n                {isForget ? \"提交\" : \"登录\"}\r\n              </Button>\r\n              {isForget ? (\r\n                <Button\r\n                  size=\"large\"\r\n                  style={{ marginTop: \"20px\" }}\r\n                  onClick={() => {\r\n                    handleForget(false);\r\n                  }}\r\n                >\r\n                  返回\r\n                </Button>\r\n              ) : null}\r\n            </FormItem>\r\n          </Form>\r\n        </div>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => state;\r\nconst actionCreator = {\r\n  handleUserInfo,\r\n};\r\nexport default connect(mapStateToProps, actionCreator)(Login);\r\n","import React from \"react\";\r\nimport \"./index.css\";\r\nconst Contact = (props) => {\r\n  const renderContact = () => {\r\n    return props.productInfo.contact.map((item, index) => {\r\n      return (\r\n        <div className=\"contact-info\" key={index}>\r\n          {item}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"contact-container\">\r\n      <div className=\"contact-talk\">联系我们</div>\r\n      {renderContact()}\r\n      <img src=\"/assets/contact-header.png\" alt=\"\" className=\"contact-header\" />\r\n      <img src=\"/assets/contact-footer.png\" alt=\"\" className=\"contact-footer\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import CryptoJS from \"crypto-js\";\r\n/**\r\n * 加密（需要先加载lib/aes/aes.min.js文件）\r\n */\r\nexport const encrypt = word => {\r\n  var key = CryptoJS.enc.Utf8.parse(\"46cc793c53dc451b\");\r\n  var srcs = CryptoJS.enc.Utf8.parse(word);\r\n  var encrypted = CryptoJS.AES.encrypt(srcs, key, {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  return encrypted.toString();\r\n};\r\n/**\r\n * 解密\r\n */\r\nexport const decrypt = word => {\r\n  var key = CryptoJS.enc.Utf8.parse(\"46cc793c53dc451b\");\r\n  var decrypt = CryptoJS.AES.decrypt(word, key, {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  return CryptoJS.enc.Utf8.stringify(decrypt).toString();\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport \"./index.css\";\r\nconst Captcha = (props) => {\r\n  useEffect(() => {\r\n    window\r\n      .vaptcha({\r\n        vid: \"5eac198c33cb1801abf079ab\", // 验证单元id\r\n        type: \"click\", // 显示类型 点击式\r\n        scene: 0, // 场景值 默认0\r\n        container: \"#vaptchaContainer\", // 容器，可为Element 或者 selector\r\n        offline_server: \"\", //离线模式服务端地址，若尚未配置离线模式，请填写任意地址即可。\r\n        //可选参数\r\n        // lang: 'zh-CN', // 语言 默认zh-CN,可选值zh-CN,en,zh-TW,jp\r\n        // https: true, // 使用https 默认 true\r\n        //style: 'dark' //按钮样式 默认dark，可选值 dark,light\r\n        //color: '#57ABFF' //按钮颜色 默认值#57ABFF\r\n      })\r\n      .then((vaptchaObj) => {\r\n        vaptchaObj.render(); // 调用验证实例 vpObj 的 render 方法加载验证按钮\r\n        //获取token的方式一：\r\n        //vaptchaObj.renderTokenInput('.login-form')//以form的方式提交数据时，使用此函数向表单添加token值\r\n        //获取token的方式二：\r\n        vaptchaObj.listen(\"pass\", () => {\r\n          // 验证成功进行后续操作\r\n          props.handleQuery();\r\n        });\r\n        //关闭验证弹窗时触发\r\n        vaptchaObj.listen(\"close\", function () {\r\n          //验证弹窗关闭触发\r\n        });\r\n      });\r\n  });\r\n  return (\r\n    <div\r\n      id=\"vaptchaContainer\"\r\n      style={{ width: 200, height: 36, marginLeft: 150 }}\r\n    >\r\n      <div className=\"vaptcha-init-main\">\r\n        <div className=\"vaptcha-init-loading\">\r\n          <a href=\"/\" target=\"_blank\">\r\n            <img\r\n              src=\"https://r.vaptcha.net/public/img/vaptcha-loading.gif\"\r\n              alt=\"loading\"\r\n            />\r\n          </a>\r\n          <span className=\"vaptcha-text\">Vaptcha启动中...</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Captcha;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Tabs, Modal, Button, Form, Input, message } from \"antd\";\r\nimport \"./index.css\";\r\nimport { decrypt } from \"../../utils/crypto\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport Captcha from \"../captcha\";\r\nconst { TabPane } = Tabs;\r\nconst Query = (props) => {\r\n  const [dialogVisible, setDialogVisible] = useState(false);\r\n  const [allowQuery, setAllowQuery] = useState(\"forbid\");\r\n  const [orderInfo, setOrderInfo] = useState(null);\r\n  const [formData, setFormData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(1);\r\n\r\n  const handleCheck = async () => {\r\n    setLoading(true);\r\n    if (formData.orderId !== undefined) {\r\n      $axios(`/order/query?orderId=${formData.orderId}`)\r\n        .then((result) => {\r\n          setOrderInfo(result.data);\r\n          setLoading(false);\r\n          showQueryModal();\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          message.warning(\"未找到订单，请确认查询条件是否正确\");\r\n        });\r\n    } else {\r\n      $axios(\r\n        `/order/query?email=${formData.email}&&password=${formData.password}`\r\n      )\r\n        .then((result) => {\r\n          setOrderInfo(result.data);\r\n          showQueryModal();\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          message.warning(\"未找到订单，请确认查询条件是否正确\");\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n  const showQueryModal = () => {\r\n    setDialogVisible(true);\r\n    setAllowQuery(\"forbid\");\r\n  };\r\n  const showLocalModal = () => {\r\n    if (localStorage.getItem(\"orderInfo\")) {\r\n      setOrderInfo(JSON.parse(decrypt(localStorage.getItem(\"orderInfo\"))));\r\n    } else {\r\n      message.warning(\"未查询到订单信息\");\r\n      return;\r\n    }\r\n    setDialogVisible(true);\r\n    setAllowQuery(\"forbid\");\r\n  };\r\n\r\n  const handleOk = (e) => {\r\n    setDialogVisible(false);\r\n    setOrderInfo(null);\r\n  };\r\n\r\n  const handleCancel = (e) => {\r\n    setDialogVisible(false);\r\n    setOrderInfo(null);\r\n  };\r\n  const handleChange = (key) => {\r\n    setActiveTab(parseInt(key));\r\n  };\r\n  const handleQuery = () => {\r\n    setAllowQuery(\"allow\");\r\n  };\r\n  const onFinish = (values) => {\r\n    setFormData(values);\r\n  };\r\n  useEffect(() => {\r\n    formData && handleCheck();\r\n  }, [formData]);\r\n  return (\r\n    <div className=\"query-container\">\r\n      {dialogVisible ? (\r\n        <Modal\r\n          title=\"订单信息\"\r\n          visible={dialogVisible}\r\n          onOk={handleOk}\r\n          onCancel={handleCancel}\r\n          style={{ userSelect: \"text\" }}\r\n          footer={[\r\n            <Button key=\"confirm\" type=\"primary\" onClick={handleOk}>\r\n              确认\r\n            </Button>,\r\n          ]}\r\n        >\r\n          <p>订单号：{orderInfo.orderId}</p>\r\n          <p>购买日期：{orderInfo.date}</p>\r\n          <p>\r\n            商品信息：{orderInfo.productName}\r\n            {orderInfo.levelName}\r\n          </p>\r\n          <p>金额：{orderInfo.price}</p>\r\n          <p>会员码：{orderInfo.code}</p>\r\n        </Modal>\r\n      ) : null}\r\n      <p className=\"query-alert\">仅能查询最近一次购买记录</p>\r\n      <Tabs\r\n        defaultActiveKey=\"1\"\r\n        className=\"query-box-container\"\r\n        onChange={(activeKey) => {\r\n          handleChange(activeKey);\r\n        }}\r\n      >\r\n        <TabPane tab=\"本机查询\" key=\"1\" className=\"query-by-local\">\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={showLocalModal}\r\n            size=\"medium\"\r\n            loading={loading}\r\n          >\r\n            获取订单信息\r\n          </Button>\r\n\r\n          <div>本方法仅对下单的浏览器有效</div>\r\n        </TabPane>\r\n        <TabPane tab=\"订单号查询\" key=\"2\">\r\n          <Form onFinish={onFinish}>\r\n            <Form.Item\r\n              // label=\"查询邮箱\"\r\n              name=\"orderId\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"请输入订单号\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                placeholder=\"请输入订单号\"\r\n                className=\"query-input-box\"\r\n                style={{ borderRadius: \"5px\" }}\r\n              />\r\n            </Form.Item>\r\n            {activeTab === 2 ? <Captcha handleQuery={handleQuery} /> : null}\r\n\r\n            <Form.Item>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                disabled={allowQuery === \"forbid\"}\r\n                size=\"medium\"\r\n                style={{ marginTop: \"10px\" }}\r\n                loading={loading}\r\n              >\r\n                获取订单信息\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </TabPane>\r\n        <TabPane tab=\"邮箱查询\" key=\"3\">\r\n          <Form onFinish={onFinish}>\r\n            <Form.Item\r\n              // label=\"查询邮箱\"\r\n              name=\"email\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"请输入查询邮箱\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                placeholder=\"请输入查询邮箱\"\r\n                className=\"query-input-mail\"\r\n                style={{ borderRadius: \"5px\" }}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              // label=\"查询密码\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"请输入查询密码\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                placeholder=\"请输入查询密码\"\r\n                className=\"query-input-mail\"\r\n                style={{ borderRadius: \"5px\" }}\r\n              />\r\n            </Form.Item>\r\n            {activeTab === 3 ? <Captcha handleQuery={handleQuery} /> : null}\r\n            <Form.Item>\r\n              <Button\r\n                className=\"\"\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                size=\"medium\"\r\n                disabled={allowQuery === \"forbid\"}\r\n                style={{ marginTop: \"10px\" }}\r\n                loading={loading}\r\n              >\r\n                获取订单信息\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Query;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./index.css\";\r\nimport { CheckOutlined } from \"@ant-design/icons\";\r\nimport Contact from \"../../components/contact\";\r\nimport Query from \"../../components/queryDialog\";\r\nimport { message } from \"antd\";\r\nimport { CloseOutlined } from \"@ant-design/icons\";\r\n\r\nconst ShoppingPage = (props) => {\r\n  const [showContact, setShowContact] = useState(false);\r\n  const [showQuery, setShowQuery] = useState(false);\r\n  useEffect(() => {\r\n    const cssUrl = `/assets/css/${props.theme}.css`;\r\n\r\n    addStyle(cssUrl);\r\n  }, []);\r\n  const addStyle = (url) => {\r\n    const style = document.createElement(\"link\");\r\n    style.href = url;\r\n    style.rel = \"stylesheet\";\r\n    // style.async = true;\r\n    document.head.appendChild(style);\r\n  };\r\n  const handleContact = (bool) => {\r\n    setShowContact(bool);\r\n  };\r\n  const handleQuery = (bool) => {\r\n    setShowQuery(bool);\r\n  };\r\n  const date = new Date();\r\n  const { productInfo } = props;\r\n  const renderLevelDesc = (desc) => {\r\n    return desc.map((item, index) => {\r\n      return (\r\n        <li key={index}>\r\n          <span>{item}</span>\r\n          <CheckOutlined\r\n            className=\"level-desc-check\"\r\n            style={{ float: \"right\", lineHeight: \"30px\" }}\r\n          />\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n  const renderProductInfo = (product) => {\r\n    let arr = [];\r\n    for (let i = 0; i < product.memberLevel; i++) {\r\n      arr.push({\r\n        levelName: product.levelName[i],\r\n        levelPrice: product.levelPrice[i],\r\n        levelDesc: product.levelDesc[i],\r\n        levelLimit: product.levelLimit[i],\r\n        levelNote: product.levelNote[i],\r\n      });\r\n    }\r\n    return arr.map((item, index) => {\r\n      return (\r\n        <div\r\n          className={`default-level-container level-theme${index}`}\r\n          key={index}\r\n        >\r\n          {item.levelLimit ? (\r\n            <div className=\"default-remain\">\r\n              <span className=\"default-remain-amount\">{item.levelLimit}</span>\r\n              <span className=\"default-remain-text\">\r\n                剩余\r\n                <br />\r\n                名额\r\n              </span>\r\n              <img\r\n                className=\"default-remain-bg\"\r\n                src=\"/assets/remain.svg\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          ) : null}\r\n          {item.note ? (\r\n            <div className=\"default-remain\">\r\n              <span>{item.note}</span>\r\n            </div>\r\n          ) : null}\r\n          <ul>\r\n            <li className=\"default-theme-level-name\">{item.levelName}</li>\r\n            <li className=\"default-theme-level-price\">\r\n              <span style={{ fontSize: \"25px\", opacity: \"0.6\" }}>￥</span>\r\n              <span style={{ fontSize: \"50px\" }}>{item.levelPrice.price}</span>\r\n              <span style={{ fontSize: \"20px\" }}>/{item.levelPrice.unit}</span>\r\n            </li>\r\n            <li className=\"default-theme-level-note\">{item.levelNote}</li>\r\n            <li className=\"default-theme-level-desc\">\r\n              <ul>{renderLevelDesc(item.levelDesc)}</ul>\r\n            </li>\r\n            <li\r\n              className=\"default-theme-level-payment\"\r\n              onClick={() => {\r\n                if ((item.levelLimit = 0)) {\r\n                  message.warning(\"该商品已售罄\");\r\n                  return;\r\n                }\r\n                props.handleDialog(true, item);\r\n              }}\r\n            >\r\n              选择方案\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"default-theme-container\">\r\n      {showContact || showQuery ? (\r\n        <CloseOutlined\r\n          className=\"contact-close\"\r\n          onClick={() => {\r\n            handleContact(false);\r\n            handleQuery(false);\r\n          }}\r\n        />\r\n      ) : null}\r\n\r\n      {showContact ? <Contact productInfo={productInfo} /> : null}\r\n      {showQuery ? <Query /> : null}\r\n      <div\r\n        style={\r\n          showContact\r\n            ? {\r\n                position: \"fixed\",\r\n                width: \"calc(100% - 17px)\",\r\n              }\r\n            : {}\r\n        }\r\n      >\r\n        <div\r\n          className=\"contact-container-mask\"\r\n          style={showContact || showQuery ? {} : { display: \"none\" }}\r\n        ></div>\r\n        <img src={`/assets/${props.theme}.svg`} alt=\"\" className=\"default-bg\" />\r\n        <div className=\"default-header\">\r\n          {productInfo.logo ? (\r\n            <img\r\n              src={productInfo.logo}\r\n              alt=\"\"\r\n              className=\"default-header-logo\"\r\n            />\r\n          ) : null}\r\n          <span className=\"default-header-name\">{productInfo.productName}</span>\r\n          <span className=\"default-header-info\">{productInfo.productInfo}</span>\r\n\r\n          <span\r\n            className=\"default-header-contact\"\r\n            onClick={() => {\r\n              handleContact(true);\r\n            }}\r\n          >\r\n            联系我们\r\n          </span>\r\n\r\n          <span\r\n            className=\"default-header-query\"\r\n            onClick={() => {\r\n              handleQuery(true);\r\n            }}\r\n          >\r\n            查询订单\r\n          </span>\r\n        </div>\r\n        <p className=\"default-choose-title\">选择您需要的会员方案</p>\r\n        <div className=\"default-body\">{renderProductInfo(productInfo)}</div>\r\n        <div className=\"default-footer\">\r\n          Supported by\r\n          <a\r\n            href=\"https://github.com/troyeguo/coodo-pay\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            {\" \"}\r\n            Coodo Pay\r\n          </a>\r\n          , Copyright © {date.getFullYear()}\r\n          <a\r\n            href=\"https://github.com/troyeguo\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            {\" \"}\r\n            App by Troye\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShoppingPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  AlipayCircleOutlined,\r\n  WechatOutlined,\r\n  createFromIconfontCN,\r\n  CloseOutlined,\r\n  LoadingOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { encrypt } from \"../../utils/crypto\";\r\nimport QRCode from \"qrcode.react\";\r\nimport $axios from \"@/axios/$axios\";\r\nimport {\r\n  Result,\r\n  Spin,\r\n  Col,\r\n  Row,\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Radio,\r\n  message,\r\n} from \"antd\";\r\nimport \"./index.css\";\r\nconst IconFont = createFromIconfontCN({\r\n  scriptUrl: \"//at.alicdn.com/t/font_1701775_ulwzj52gr7s.js\",\r\n});\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\nlet checkPayment = null;\r\nconst PaymentDialog = (props) => {\r\n  const [qrUrl, setQrUrl] = useState(null);\r\n  const [formData, setFormData] = useState(null);\r\n  const [orderInfo, setOrderInfo] = useState(null);\r\n  const [questNumber, setQuestNumber] = useState(0);\r\n  const [failed, setFailed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (orderInfo || questNumber > 20) {\r\n      clearInterval(checkPayment);\r\n    }\r\n    questNumber > 20 && message.error(\"我们暂时无法处理您的请求，请稍后重试\");\r\n  }, [orderInfo, questNumber]);\r\n\r\n  const { chooseLevel } = props;\r\n  const formItemLayoutWithOutLabel = {\r\n    wrapperCol: {\r\n      xs: { span: 24, offset: 12 },\r\n      sm: { span: 20, offset: 4 },\r\n    },\r\n  };\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      sm: { span: 24 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 24 },\r\n    },\r\n  };\r\n  const onFinish = async (values) => {\r\n    let orderId = Date.now().toString() + Math.floor(Math.random() * 9999) + 1;\r\n    setFormData(values);\r\n\r\n    await $axios\r\n      .post(\"/order\", {\r\n        ...values,\r\n        price: props.chooseLevel.levelPrice.price,\r\n        productId: props.productInfo.productId,\r\n        orderId: orderId,\r\n        productName: props.productInfo.productName,\r\n        productType: props.productInfo.productType,\r\n        levelName: props.chooseLevel.levelName,\r\n      })\r\n      .then((res) => {\r\n        setQrUrl(res.data);\r\n        let num = 0;\r\n        checkPayment = setInterval(async () => {\r\n          let metadata = await $axios(`/order/fetch/${orderId}`);\r\n          let orderInfo = metadata.data;\r\n          num++;\r\n          setQuestNumber(num);\r\n          if (orderInfo.paymentStatus === \"已支付\") {\r\n            setOrderInfo(orderInfo);\r\n            localStorage.setItem(\r\n              \"orderInfo\",\r\n              encrypt(JSON.stringify(orderInfo))\r\n            );\r\n          }\r\n          if (orderInfo.paymentStatus === \"订单异常\") {\r\n            setOrderInfo(orderInfo);\r\n            setFailed(true);\r\n            localStorage.setItem(\r\n              \"orderInfo\",\r\n              encrypt(JSON.stringify(orderInfo))\r\n            );\r\n          }\r\n        }, 2000);\r\n      })\r\n      .catch((error) => {\r\n        message.error(error.response.data.message);\r\n        setFormData(null);\r\n      });\r\n  };\r\n  const closeDialog = () => {\r\n    props.handleDialog(false, null);\r\n    clearInterval(checkPayment);\r\n  };\r\n  return (\r\n    <div className=\"product-payment-container\">\r\n      <CloseOutlined\r\n        className=\"product-payment-close\"\r\n        onClick={() => {\r\n          closeDialog();\r\n        }}\r\n      />\r\n      <Row justify=\"center\" className=\"product-payment-title\">\r\n        创建订单\r\n      </Row>\r\n      <Row justify=\"center\" className=\"product-payment-message\">\r\n        {props.productInfo.productType === 1\r\n          ? `支付完成后，您将获得一个${chooseLevel.levelName}会员的激活码，邮箱密码仅用于查询激活码，如果您有任何订单问题，请点击右上角的联系我们，与我们取得联系`\r\n          : `请输入您的${props.productInfo.productName}邮箱和密码，支付完成后，您的账户就会自动获得${chooseLevel.levelName}会员，如果您有任何问题，请点击右上角的联系我们，与我们取得联系`}\r\n      </Row>\r\n      {orderInfo ? (\r\n        failed ? (\r\n          <Result\r\n            status=\"error\"\r\n            title=\"购买失败\"\r\n            subTitle=\"支付成功，但更新订单状态失败，请尽快与技术人员取得联系，以下是您的订单信息\"\r\n            extra={[\r\n              <div className=\"product-payment-results-detail\" key={\"orderInfo\"}>\r\n                <p>订单号：{orderInfo.orderId}</p>\r\n                <p>购买日期：{orderInfo.date}</p>\r\n                <p>\r\n                  商品信息：{orderInfo.productName}\r\n                  {orderInfo.levelName}\r\n                </p>\r\n                <p>金额：{orderInfo.price}元</p>\r\n                <p>邮箱：{orderInfo.email}</p>\r\n              </div>,\r\n            ]}\r\n            className=\"product-payment-results\"\r\n          />\r\n        ) : (\r\n          <Result\r\n            status=\"success\"\r\n            title=\"购买成功\"\r\n            extra={[\r\n              <div className=\"product-payment-results-detail\" key={\"orderInfo\"}>\r\n                <p>订单号：{orderInfo.orderId}</p>\r\n                <p>购买日期：{orderInfo.date}</p>\r\n                <p>\r\n                  商品信息：{orderInfo.productName}\r\n                  {orderInfo.levelName}\r\n                </p>\r\n                <p>金额：{orderInfo.price}元</p>\r\n                <p>会员码：{orderInfo.code}</p>\r\n              </div>,\r\n            ]}\r\n            className=\"product-payment-results\"\r\n          />\r\n        )\r\n      ) : (\r\n        <Row justify=\"center\">\r\n          <Col>\r\n            <Row justify=\"center\" style={{ marginTop: \"20px\" }}>\r\n              <span className=\"product-payment-member\">\r\n                购买{chooseLevel.levelName}会员\r\n              </span>\r\n              <span className=\"product-payment-price\">\r\n                {chooseLevel.levelPrice.price}元\r\n              </span>\r\n            </Row>\r\n            <Row>\r\n              <Col className=\"product-payment-prefix\">\r\n                <div>邮箱</div>\r\n                <div>密码</div>\r\n\r\n                <div>支付方式</div>\r\n              </Col>\r\n              <Col>\r\n                <Form {...formItemLayout} onFinish={onFinish}>\r\n                  <Form.Item\r\n                    // label=\"查询邮箱\"\r\n                    name=\"email\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"请输入邮箱\",\r\n                      },\r\n                    ]}\r\n                    style={{ width: \"200px\" }}\r\n                  >\r\n                    <Input\r\n                      placeholder={\r\n                        props.productInfo.productType === 1\r\n                          ? `用于接收${props.productInfo.productName}会员码`\r\n                          : `请输入您的${props.productInfo.productName}账号`\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    name=\"password\"\r\n                    // label=\"查询密码\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"请输入密码\",\r\n                      },\r\n                    ]}\r\n                    style={{ width: \"200px\" }}\r\n                  >\r\n                    <Input\r\n                      placeholder={\r\n                        props.productInfo.productType === 1\r\n                          ? `用于查询${props.productInfo.productName}会员码`\r\n                          : `请输入您的${props.productInfo.productName}密码`\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n\r\n                  <Form.Item\r\n                    // label=\"支付方式\"\r\n                    name=\"payment\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"请选择支付方式\",\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Radio.Group defaultValue=\"alipay\">\r\n                      <Radio value=\"alipay\">\r\n                        <AlipayCircleOutlined className=\"product-ailpay-icon\" />\r\n                      </Radio>\r\n                      <Radio value=\"wechatPay\" disabled>\r\n                        <WechatOutlined className=\"product-wechat-icon\" />\r\n                      </Radio>\r\n                      <Radio value=\"paypal\" disabled>\r\n                        <IconFont\r\n                          type=\"icon-paypal\"\r\n                          className=\"product-paypal-icon\"\r\n                        />\r\n                      </Radio>\r\n                    </Radio.Group>\r\n                  </Form.Item>\r\n\r\n                  <Form.Item {...formItemLayoutWithOutLabel}>\r\n                    <Button\r\n                      className=\"product-payment-next-button\"\r\n                      type=\"primary\"\r\n                      htmlType=\"submit\"\r\n                    >\r\n                      下一步\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          {formData && (\r\n            <Col>\r\n              {formData.payment !== \"paypal\" ? (\r\n                <div className=\"product-payment-qrcode-container\">\r\n                  {qrUrl ? (\r\n                    <a href={qrUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      <QRCode\r\n                        value={qrUrl} //value参数为生成二维码的链接\r\n                        size={150} //二维码的宽高尺寸\r\n                        fgColor=\"#000000\" //二维码的颜色\r\n                        className=\"product-payment-qrcode\"\r\n                      />\r\n                    </a>\r\n                  ) : (\r\n                    <Spin\r\n                      indicator={antIcon}\r\n                      tip=\"二维码生成中...\"\r\n                      className=\"product-payment-qrcode-spin\"\r\n                    />\r\n                  )}\r\n\r\n                  <div className=\"product-payment-qrcode-text\">\r\n                    {formData.payment === \"alipay\" ? \"使用支付宝\" : \"使用微信\"}{\" \"}\r\n                    扫一扫\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"product-payment-paypal\">\r\n                  <Button\r\n                    className=\"product-payment-paypal-button\"\r\n                    type=\"primary\"\r\n                  >\r\n                    点此前往 Paypal 支付\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentDialog;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  handleFetchProductInfo,\r\n  handleFetchSetting,\r\n} from \"@/redux/actions/product\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport ShoppingPage from \"@/pages/shoppingPage\";\r\nimport MobilePage from \"@/pages/mobilePage\";\r\nimport \"./index.css\";\r\nimport PaymentDialog from \"@/components/paymentDialog\";\r\nimport PageLoading from \"@/components/pageLoading\";\r\nimport { isMobile } from \"react-device-detect\";\r\nconst Product = (props) => {\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [chooseLevel, setchooseLevel] = useState(null);\r\n  useEffect(() => {\r\n    let url = document.location.toString();\r\n    let idArr = url.split(\"/\");\r\n    let id = idArr.pop();\r\n    props.handleFetchProductInfo(id);\r\n    props.handleFetchSetting();\r\n  }, []);\r\n  const handleDialog = (bool, chooseLevel) => {\r\n    setShowDialog(bool);\r\n    setchooseLevel(chooseLevel);\r\n  };\r\n  const { productInfo, setting } = props;\r\n  if (!setting || !productInfo) {\r\n    return <PageLoading />;\r\n  }\r\n  if (productInfo === 404) {\r\n    return <Redirect to=\"/error/404\" />;\r\n  }\r\n  return (\r\n    <div className=\"product-theme-container\">\r\n      {showDialog ? (\r\n        <PaymentDialog\r\n          productInfo={productInfo}\r\n          chooseLevel={chooseLevel}\r\n          handleDialog={handleDialog}\r\n          showDialog={showDialog}\r\n        />\r\n      ) : null}\r\n      {isMobile ? (\r\n        <MobilePage\r\n          productInfo={productInfo}\r\n          handleDialog={handleDialog}\r\n          theme={setting.themeOption}\r\n        />\r\n      ) : (\r\n        <ShoppingPage\r\n          productInfo={productInfo}\r\n          handleDialog={handleDialog}\r\n          theme={setting.themeOption}\r\n        />\r\n      )}\r\n      <img\r\n        src=\"/assets/contact-header.png\"\r\n        alt=\"\"\r\n        style={{ display: \"none\" }}\r\n      />\r\n      <img\r\n        src=\"/assets/contact-footer.png\"\r\n        alt=\"\"\r\n        style={{ display: \"none\" }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    productInfo: state.product.productInfo,\r\n    setting: state.product.setting,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleFetchProductInfo,\r\n  handleFetchSetting,\r\n};\r\n\r\nexport default connect(mapStateToProps, actionCreator)(Product);\r\n","import React, { useState } from \"react\";\r\nimport { Row, Button, Modal } from \"antd\";\r\nconst WelcomePage = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  };\r\n  const handleOk = () => {\r\n    props.handleCurrent(\"collectInfo\");\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <img src=\"/assets/tech.svg\" alt=\"\" className=\"welcome-bg\" />\r\n      <Row justify=\"center\" className=\"welcome-title\">\r\n        欢迎使用 Coodo Pay\r\n      </Row>\r\n      <Row justify=\"center\" className=\"welcome-subtitle\">\r\n        一个基于 React 和 Koa2 开发的在线支付系统\r\n      </Row>\r\n      <Row justify=\"center\" className=\"welcome-info\">\r\n        因为这是您第一次使用 Coodo Pay，\r\n        <br />\r\n        我们需要向您收集和确认一些信息，这只需要花费几分钟\r\n      </Row>\r\n      <Row justify=\"center\" className=\"welcome-button\">\r\n        <Button type=\"primary\" onClick={showModal} size=\"large\">\r\n          好的，开始吧\r\n        </Button>\r\n      </Row>\r\n\r\n      <Modal\r\n        visible={visible}\r\n        title=\"开始之前\"\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={[\r\n          <Button key=\"back\" onClick={handleCancel}>\r\n            算了吧\r\n          </Button>,\r\n          <Button key=\"submit\" type=\"primary\" onClick={handleOk}>\r\n            继续\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <p>\r\n          Coodo Pay\r\n          是一个免费开源的个人项目，初衷是为独立开发者提供一套会员支付的解决方案，本项目严禁一切淫秽、涉赌、政治、钓鱼、诈骗、理财、借贷、封建迷信等非法网站使用，点击继续表明您同意以上条款\r\n        </p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WelcomePage;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Steps,\r\n  Button,\r\n  message,\r\n  Row,\r\n  Form,\r\n  Input,\r\n  Checkbox,\r\n  Result,\r\n} from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport $axios from \"@/axios/$axios\";\r\nconst { Step } = Steps;\r\nconst formItemLayoutWithOutLabel1 = {\r\n  wrapperCol: {\r\n    xs: { span: 24, offset: 12 },\r\n    sm: { span: 16, offset: 11 },\r\n  },\r\n};\r\nconst formItemLayoutWithOutLabel2 = {\r\n  wrapperCol: {\r\n    xs: { span: 24, offset: 12 },\r\n    sm: { span: 16, offset: 5 },\r\n  },\r\n};\r\nconst formItemLayout1 = {\r\n  labelCol: {\r\n    sm: { span: 6, offset: 0 },\r\n  },\r\n  wrapperCol: {\r\n    sm: { span: 16, offset: 0 },\r\n  },\r\n};\r\nconst formItemLayout2 = {\r\n  labelCol: {\r\n    sm: { span: 0, offset: 1 },\r\n  },\r\n  wrapperCol: {\r\n    sm: { span: 20, offset: 2 },\r\n  },\r\n};\r\nconst CollectInfo = (props) => {\r\n  const [current, setCurrent] = useState(0);\r\n  const [formData, setFormData] = useState(null);\r\n\r\n  const onFinish = (values) => {\r\n    if (values.password === values.passwordAgain) {\r\n      setFormData({ ...formData, ...values });\r\n      if (current === 1) {\r\n        $axios\r\n          .post(\"/user\", formData)\r\n          .then(() => {\r\n            next();\r\n          })\r\n          .catch(() => {\r\n            message.error(\"出现错误，请稍后再试\");\r\n          });\r\n      } else {\r\n        next();\r\n      }\r\n    } else {\r\n      message.warning(\"两次输入密码不一致\");\r\n    }\r\n  };\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n  };\r\n  const prev = () => {\r\n    setCurrent(current - 1);\r\n  };\r\n  const steps = [\r\n    {\r\n      title: \"完善个人信息\",\r\n      content: (\r\n        <Form\r\n          onFinish={onFinish}\r\n          initialValues={formData ? formData : null}\r\n          style={{ marginTop: \"40px\" }}\r\n          defaultValue={formData}\r\n          {...formItemLayout1}\r\n        >\r\n          <Form.Item\r\n            label=\"邮箱\"\r\n            name=\"email\"\r\n            rules={[\r\n              {\r\n                type: \"email\",\r\n                message: \"The input is not valid E-mail!\",\r\n              },\r\n              {\r\n                required: true,\r\n                message: \"请输入邮箱\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入邮箱\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"密码\"\r\n            name=\"password\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入密码\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input.Password placeholder=\"请输入密码\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"再次输入\"\r\n            name=\"passwordAgain\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请再次输入密码\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input.Password placeholder=\"请再次输入密码\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item {...formItemLayoutWithOutLabel1}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              下一步\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      ),\r\n    },\r\n    {\r\n      title: \"设置安全问题\",\r\n      content: (\r\n        <Form\r\n          onFinish={onFinish}\r\n          initialValues={formData ? formData : null}\r\n          style={{ marginTop: \"40px\" }}\r\n          {...formItemLayout2}\r\n        >\r\n          <Form.Item\r\n            name=\"safeCheck\"\r\n            label=\"安全问题对于保护您的账户非常重要，请认真填写\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请确认您已知晓安全问题的重要性\",\r\n              },\r\n            ]}\r\n          >\r\n            <Checkbox.Group>\r\n              <Checkbox value=\"我知道了\" style={{ lineHeight: \"32px\" }}>\r\n                我知道了\r\n              </Checkbox>\r\n            </Checkbox.Group>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"您就读小学的所在城市\"\r\n            name=\"answer1\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入您就读小学的所在城市\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入您就读小学的所在城市\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"您最高学历就读学校的所在城市\"\r\n            name=\"answer2\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"您最高学历就读学校的所在城市\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"您最高学历就读学校的所在城市\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item {...formItemLayoutWithOutLabel2}>\r\n            <Button type=\"primary\" htmlType=\"submit\" className=\"collect-finish\">\r\n              完成注册\r\n            </Button>\r\n          </Form.Item>\r\n          <Button\r\n            onClick={() => {\r\n              prev();\r\n            }}\r\n            className=\"collect-prev\"\r\n          >\r\n            上一步\r\n          </Button>\r\n        </Form>\r\n      ),\r\n    },\r\n    {\r\n      title: \"完成注册\",\r\n      content: (\r\n        <Result\r\n          status=\"success\"\r\n          title=\"注册成功\"\r\n          subTitle=\"\"\r\n          extra={\r\n            <div>\r\n              <Link to=\"/\">\r\n                <Button type=\"primary\" size=\"large\">\r\n                  前往登录\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          }\r\n          className=\"result\"\r\n          style={{ marginTop: \"20px\" }}\r\n        ></Result>\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <div>\r\n      <img src=\"/assets/tech.svg\" alt=\"\" className=\"welcome-bg\" />\r\n      <Row justify=\"center\" className=\"collect-steps-container\">\r\n        <Steps current={current} className=\"collect-steps\">\r\n          {steps.map((item) => (\r\n            <Step key={item.title} title={item.title} />\r\n          ))}\r\n        </Steps>\r\n        <div className=\"steps-content\" className=\"collect-steps-box\">\r\n          {steps[current].content}\r\n        </div>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectInfo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport WelcomePage from \"./components/wecomePage\";\r\nimport CollectInfo from \"./components/collectInfo\";\r\nimport \"./index.css\";\r\nimport { handleFetchSetting } from \"@/redux/actions/product\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst Install = (props) => {\r\n  const [currentStep, setCurrentStep] = useState(\"welcome\");\r\n  useEffect(() => {\r\n    props.handleFetchSetting();\r\n  });\r\n  const handleCurrent = (currentStep) => {\r\n    setCurrentStep(currentStep);\r\n  };\r\n  const { setting } = props;\r\n  return (\r\n    <div>\r\n      {setting &&\r\n        (setting.isFirst === \"yes\" ? (\r\n          currentStep === \"welcome\" ? (\r\n            <WelcomePage handleCurrent={handleCurrent} />\r\n          ) : (\r\n            <CollectInfo handleCurrent={handleCurrent} />\r\n          )\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    setting: state.product.setting,\r\n  };\r\n};\r\nconst actionCreator = {\r\n  handleFetchSetting,\r\n};\r\n\r\nexport default connect(mapStateToProps, actionCreator)(Install);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst AuthRouter = ({ component: Component, ...rest }) => {\r\n  const isLogged = localStorage.getItem(\"jwt\") ? true : false;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isLogged ? <Component {...props} /> : <Redirect to={\"/login\"} />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(AuthRouter);\r\n","import React from \"react\";\r\nimport { Route, Switch, HashRouter } from \"react-router-dom\";\r\nimport Admin from \"@/modes/admin\";\r\nimport Login from \"@/modes/login\";\r\nimport Product from \"@/modes/product\";\r\nimport Install from \"@/modes/install\";\r\nimport AuthRouter from \"@/utils/authUtil\";\r\nimport Error404 from \"../pages/errorPage/error404\";\r\nimport Error500 from \"../pages/errorPage/error500\";\r\n\r\nconst Router = () => {\r\n  return (\r\n    <HashRouter>\r\n      <Switch>\r\n        <Route component={Install} exact path=\"/install\" />\r\n        <Route component={Login} exact path=\"/login\" />\r\n        <Route component={Product} path=\"/product\" />\r\n        <Route component={Error404} path=\"/error/404\" />\r\n        <Route component={Error500} path=\"/error/500\" />\r\n        <AuthRouter path=\"/\" component={Admin} />\r\n      </Switch>\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","const initState = {\r\n  userInfo: null,\r\n};\r\nexport const login = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"HANDLE_USER_INFO\":\r\n      return { ...state, userInfo: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initState = {\r\n  isCollapsed: false,\r\n};\r\nexport const sidebar = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"HANLDE_COLLAPSE\":\r\n      return {\r\n        ...state,\r\n        isCollapsed: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initState = {\r\n  salesByWeek: null,\r\n  visitsByWeek: null,\r\n  ordersByWeek: null,\r\n};\r\nexport function weekData(state = initState, action) {\r\n  switch (action.type) {\r\n    case \"HANDLE_SALES_BY_WEEK\":\r\n      return {\r\n        ...state,\r\n        salesByWeek: action.payload,\r\n      };\r\n    case \"HANDLE_VISITS_BY_WEEK\":\r\n      return {\r\n        ...state,\r\n        visitsByWeek: action.payload,\r\n      };\r\n    case \"HANDLE_ORDERS_BY_WEEK\":\r\n      return {\r\n        ...state,\r\n        ordersByWeek: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initState = {\r\n  salesByMonth: null,\r\n  visitsByMonth: null,\r\n  ordersByMonth: null,\r\n};\r\nexport function monthData(state = initState, action) {\r\n  switch (action.type) {\r\n    case \"HANDLE_SALES_BY_MONTH\":\r\n      return {\r\n        ...state,\r\n        salesByMonth: action.payload,\r\n      };\r\n    case \"HANDLE_VISITS_BY_MONTH\":\r\n      return {\r\n        ...state,\r\n        visitsByMonth: action.payload,\r\n      };\r\n    case \"HANDLE_ORDERS_BY_MONTH\":\r\n      return {\r\n        ...state,\r\n        ordersByMonth: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initState = {\r\n  salesByYear: null,\r\n  visitsByYear: null,\r\n  ordersByYear: null,\r\n};\r\nexport function yearData(state = initState, action) {\r\n  switch (action.type) {\r\n    case \"HANDLE_SALES_BY_YEAR\":\r\n      return {\r\n        ...state,\r\n        salesByYear: action.payload,\r\n      };\r\n    case \"HANDLE_VISITS_BY_YEAR\":\r\n      return {\r\n        ...state,\r\n        visitsByYear: action.payload,\r\n      };\r\n    case \"HANDLE_ORDERS_BY_YEAR\":\r\n      return {\r\n        ...state,\r\n        ordersByYear: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initState = {\r\n  salesByPeriod: null,\r\n  visitsByPeriod: null,\r\n  ordersByPeriod: null,\r\n  allSales: null,\r\n  allVisits: null,\r\n  allOrders: null,\r\n  period: null,\r\n};\r\nexport function periodData(state = initState, action) {\r\n  switch (action.type) {\r\n    case \"HANDLE_SALES_BY_PERIOD\":\r\n      return {\r\n        ...state,\r\n        salesByPeriod: action.payload,\r\n      };\r\n    case \"HANDLE_VISITS_BY_PERIOD\":\r\n      return {\r\n        ...state,\r\n        visitsByPeriod: action.payload,\r\n      };\r\n    case \"HANDLE_ORDERS_BY_PERIOD\":\r\n      return {\r\n        ...state,\r\n        ordersByPeriod: action.payload,\r\n      };\r\n    case \"HANDLE_ALL_SALES\":\r\n      return {\r\n        ...state,\r\n        allSales: action.payload,\r\n      };\r\n    case \"HANDLE_ALL_VISITS\":\r\n      return {\r\n        ...state,\r\n        allVisits: action.payload,\r\n      };\r\n    case \"HANDLE_ALL_ORDERS\":\r\n      return {\r\n        ...state,\r\n        allOrders: action.payload,\r\n      };\r\n    case \"HANDLE_PERIOD\":\r\n      return {\r\n        ...state,\r\n        period: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initState = {\r\n  productInfo: null,\r\n  allProducts: null,\r\n  setting: null,\r\n};\r\nexport const product = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"HANLDE_PRODUCT_INFO\":\r\n      return {\r\n        ...state,\r\n        productInfo: action.payload,\r\n      };\r\n    case \"HANLDE_ALL_PRODUCTS\":\r\n      return {\r\n        ...state,\r\n        allProducts: action.payload,\r\n      };\r\n    case \"HANLDE_SETTING\":\r\n      return {\r\n        ...state,\r\n        setting: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initState = {\r\n  formData: null,\r\n  alipay: null,\r\n  wechatPay: null,\r\n  paypal: null,\r\n  email: null,\r\n  user: null,\r\n  isVerified: false,\r\n  isShowDialog: false,\r\n  order: null,\r\n};\r\nexport const form = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"HANDLE_FORM_DATA\":\r\n      return { ...state, formData: action.payload };\r\n    case \"HANDLE_ALIPAY\":\r\n      return { ...state, alipay: action.payload };\r\n    case \"HANDLE_WECHAT_PAY\":\r\n      return { ...state, wechatPay: action.payload };\r\n    case \"HANDLE_PAYPAL\":\r\n      return { ...state, paypal: action.payload };\r\n    case \"HANDLE_EMAIL\":\r\n      return { ...state, email: action.payload };\r\n    case \"HANDLE_USER\":\r\n      return { ...state, user: action.payload };\r\n    case \"HANDLE_VERIFY\":\r\n      return { ...state, isVerified: action.payload };\r\n    case \"HANDLE_ORDER\":\r\n      return { ...state, order: action.payload };\r\n    case \"HANDLE_VERIFY_DIALOG\":\r\n      return { ...state, isShowDialog: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { login } from \"./reducers/login\";\r\nimport { sidebar } from \"./reducers/sidebar\";\r\nimport { weekData } from \"./reducers/weekData\";\r\nimport { monthData } from \"./reducers/monthData\";\r\nimport { yearData } from \"./reducers/yearData\";\r\nimport { periodData } from \"./reducers/periodData\";\r\nimport { product } from \"./reducers/product\";\r\nimport { form } from \"./reducers/form\";\r\nimport { combineReducers } from \"redux\";\r\nconst reducers = combineReducers({\r\n  login,\r\n  sidebar,\r\n  weekData,\r\n  monthData,\r\n  yearData,\r\n  periodData,\r\n  form,\r\n  product,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  process.env.NODE_ENV === \"development\"\r\n    ? composeEnhancers(applyMiddleware(thunk))\r\n    : composeEnhancers(applyMiddleware(thunk))\r\n);\r\nexport default store;\r\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport \"react-hot-loader\";\nimport { hot } from \"react-hot-loader/root\";\nimport Router from \"./router/index\";\nimport store from \"./redux/store\";\nimport \"./assets/style/reset.css\";\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <Router />\n    </Provider>\n  );\n};\n\nexport default hot(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}