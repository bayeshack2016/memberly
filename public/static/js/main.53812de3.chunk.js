(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{282:function(e,t){var a=document.URL.split("#")[0];e.exports={devHost:"http://localhost:3001",prodHost:a.substring(0,a.length-1)}},427:function(e){e.exports=JSON.parse('{"a":"1.8"}')},436:function(e,t,a){a(884),e.exports=a(882)},550:function(e,t,a){},562:function(e,t,a){},563:function(e,t,a){},592:function(e,t,a){},668:function(e,t,a){},683:function(e,t,a){},684:function(e,t,a){},726:function(e,t,a){},727:function(e,t,a){},728:function(e,t,a){},729:function(e,t,a){},730:function(e,t,a){},733:function(e,t,a){},734:function(e,t,a){},735:function(e,t,a){},736:function(e,t,a){},737:function(e,t,a){},738:function(e,t,a){},742:function(e,t){},744:function(e,t){},776:function(e,t){},777:function(e,t){},842:function(e,t,a){},843:function(e,t,a){},849:function(e,t,a){},875:function(e,t){},880:function(e,t,a){},881:function(e,t,a){},884:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),o=a(13),i=a(30),s=a(88),u=(a(225),a(121)),m=(a(67),a(20)),d=a(3),p=(a(226),a(89)),f=(a(228),a(79)),y=(a(127),a(46)),h=(a(92),a(44)),E=a(904),g=a(905),b=a(906),v=a(907),N=a(908),x=function(e){return{type:"HANDLE_USER_INFO",payload:e}},O=a(11),w=h.a.confirm,j=u.a.Header,I=y.a.Meta,k={handleCollapse:function(e){return{type:"HANLDE_COLLAPSE",payload:e}},handleUserInfo:x},D=Object(o.b)((function(e){return{isCollapsed:e.sidebar.isCollapsed,ordersByMonth:e.monthData.ordersByMonth,order:e.form.order,user:e.form.user}}),k)(Object(s.g)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),s=Object(d.a)(o,2),u=s[0],m=s[1],h=Object(n.useState)(null),x=Object(d.a)(h,2),k=x[0],D=x[1];Object(n.useEffect)((function(){O.isMobile&&e.handleCollapse(!0)}),[]),Object(n.useEffect)((function(){if(e.order){var t=new Date,a=[];e.order.reverse().forEach((function(e){e.year===t.getFullYear()&&e.month===t.getMonth()+1&&a.push(e)})),D(a);var n=a.length<(parseInt(localStorage.getItem("ordersNumber"))||0)?0:localStorage.getItem("ordersNumber")||0;m(a.length-n)}}),[e.order]);var S=function(){localStorage.removeItem("jwt"),e.history.push("/")},P=function(){c(!l)};return r.a.createElement(j,{theme:"light"},e.isCollapsed?r.a.createElement(g.a,{onClick:function(){e.handleCollapse(!e.isCollapsed)}}):r.a.createElement(b.a,{onClick:function(){e.handleCollapse(!e.isCollapsed)}}),r.a.createElement(v.a,{onClick:function(){w({title:"\u9000\u51fa",icon:r.a.createElement(E.a,null),content:"\u662f\u5426\u9000\u51fa\u767b\u5f55?",okText:"\u9000\u51fa",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){S()},onCancel:function(){console.log("Cancel")}})}}),r.a.createElement("div",{className:"header-number",onClick:P},e.order?r.a.createElement("span",{className:"header-number-icon"},r.a.createElement(f.a,{count:u})):null,r.a.createElement(N.a,null)),r.a.createElement(i.b,{to:"/account"},r.a.createElement("div",{className:"avatar"},e.user.email)),l&&k?r.a.createElement(y.a,{actions:[r.a.createElement("div",{onClick:function(){m(0),localStorage.setItem("ordersNumber",k.length)}},"\u5168\u90e8\u6807\u8bb0\u5df2\u8bfb")],className:"header-message-box",onMouseLeave:function(){P()}},r.a.createElement(I,{title:"\u672c\u6708\u4ea4\u6613\u63d0\u9192",description:r.a.createElement("div",{className:"header-message-box-content-container"},r.a.createElement(p.a,{size:"small",bordered:!1,dataSource:k&&k.map((function(e){return"".concat(e.email," \u4e8e ").concat(e.date," ").concat(e.time," \u8d2d\u4e70 ").concat(e.productName).concat(e.levelName,"\uff0c\u6d88\u8d39").concat(e.price,"\u5143")})),renderItem:function(e){return r.a.createElement(p.a.Item,null,e)},className:"header-message-box-content"}))})):null)}))),S=(a(181),a(34)),P=a(891),B=a(892),_=a(893),C=a(894),L=a(895),A=a(896),T=a(897),M=a(898),F=u.a.Sider,R={handleUserInfo:x},Y=Object(o.b)((function(e){return{isCollapsed:e.sidebar.isCollapsed}}),R)(Object(s.g)((function(e){var t=e.isCollapsed,a=e.history.location.pathname,n="/".concat(a.split("/")[1]);return r.a.createElement(F,{trigger:null,collapsible:!0,collapsed:t,width:"218px",style:{height:"100%",boxShadow:"0px 0px 6px rgba(0,0,0,0.09)",zIndex:"10"},theme:"light"},r.a.createElement("div",{className:"logo",style:{width:"100%",height:"92px"}},r.a.createElement("img",{src:"../assets/logo.svg",alt:"",style:{width:"40px",margin:"30px 10px 20px 24px",float:"left"}}),t?null:r.a.createElement("span",{style:{fontSize:"23px",color:"rgba(72,72,72,1)",float:"left",marginTop:"40px",fontWeight:"500"}},"Coodo Pay")),r.a.createElement(S.a,{theme:"light",mode:"inline",defaultOpenKeys:[n],defaultSelectedKeys:[a],selectedKeys:[a]},r.a.createElement(S.a.Item,{key:"/productList"},r.a.createElement(i.b,{to:"/productList"},r.a.createElement(P.a,null),r.a.createElement("span",{className:"nav-text"},"\u5546\u54c1\u7ba1\u7406"))),r.a.createElement(S.a.Item,{key:"/order"},r.a.createElement(i.b,{to:"/order"},r.a.createElement(B.a,null),r.a.createElement("span",{className:"nav-text"},"\u8ba2\u5355\u7ba1\u7406"))),r.a.createElement(S.a.Item,{key:"/disaccount"},r.a.createElement(i.b,{to:"/disaccount"},r.a.createElement(_.a,null),r.a.createElement("span",{className:"nav-text"},"\u6298\u6263\u7ba1\u7406"))),r.a.createElement(S.a.Item,{key:"/customer"},r.a.createElement(i.b,{to:"/customer"},r.a.createElement(C.a,null),r.a.createElement("span",{className:"nav-text"},"\u7528\u6237\u7ba1\u7406"))),r.a.createElement(S.a.Item,{key:"/payment"},r.a.createElement(i.b,{to:"/payment"},r.a.createElement(L.a,null),r.a.createElement("span",{className:"nav-text"},"\u652f\u4ed8\u8bbe\u7f6e"))),r.a.createElement(S.a.Item,{key:"/mail"},r.a.createElement(i.b,{to:"/mail"},r.a.createElement(A.a,null),r.a.createElement("span",{className:"nav-text"},"\u90ae\u7bb1\u8bbe\u7f6e"))),r.a.createElement(S.a.Item,{key:"/theme"},r.a.createElement(i.b,{to:"/theme"},r.a.createElement(T.a,null),r.a.createElement("span",{className:"nav-text"},"\u4e3b\u9898\u8bbe\u7f6e"))),r.a.createElement(S.a.Item,{key:"/dashboard"},r.a.createElement(i.b,{to:"/dashboard"},r.a.createElement(M.a,null),r.a.createElement("span",{className:"nav-text"},"\u7edf\u8ba1\u6570\u636e")))))}))),q=a(15),H=a.n(q),V=a(29),z=(a(151),a(35)),W=(a(548),a(150)),U=a(146),K=a.n(U),G=(a(550),a(8)),J=a(406),Q=a(407),X=a(433),$=a(408),Z=a(434);function ee(e,t,a){var n,r,l,c,o,i=function i(){var s=+new Date-c;s<t&&s>0?n=setTimeout(i,t-s):(n=null,a||(o=e.apply(l,r),n||(l=r=null)))};return function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];l=this,c=+new Date;var m=a&&!n;return n||(n=setTimeout(i,t)),m&&(o=e.apply(l,s),l=s=null),o}}var te=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(X.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={chart:null},a}return Object(Z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee(this.initChart.bind(this),500)(),window.addEventListener("resize",(function(){return e.resize()}))}},{key:"componentWillReceiveProps",value:function(e){e.isCollapsed!==this.props.isCollapsed&&this.resize(),e.currentRange!==this.props.currentRange&&this.initChart()}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"resize",value:function(){var e=this.state.chart;e&&ee(e.resize.bind(this),300)()}},{key:"initChart",value:function(){var e=this;this.el&&this.setState({chart:window.echarts.init(this.el,"macarons")},(function(){e.state.chart.setOption(e.props.chartData,!0)}))}},{key:"dispose",value:function(){var e=this;this.state.chart&&(window.removeEventListener("resize",(function(){return e.resize()})),this.setState({chart:null}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.height,l=t.width,c=t.style;return r.a.createElement("div",{className:a,ref:function(t){return e.el=t},style:Object(G.a)({},c,{height:n,width:l})})}}]),t}(n.Component),ae=Object(o.b)((function(e){return{isCollapsed:e.sidebar.isCollapsed}}),{})(te),ne={backgroundColor:"#fff",tooltip:{trigger:"axis",axisPointer:{type:"line"},padding:[5,10]},grid:{top:0,left:"0",right:"0",bottom:"0",containLabel:!1},yAxis:[{show:!1,type:"value",name:"(%)",axisTick:{show:!1},axisLabel:{margin:0,textStyle:{fontSize:0}}}]},re=function(e){return r.a.createElement(ae,Object.assign({chartData:Object(G.a)({},ne,{series:[{type:"line",smooth:!0,symbol:"circle",symbolSize:0,showSymbol:!0,lineStyle:{normal:{width:0}},areaStyle:{normal:{color:"#975FE4",opacity:1}},itemStyle:{normal:{color:"#975FE4",borderWidth:12}},data:e.visitsByPeriod}],xAxis:[{show:!1,type:"category",boundaryGap:!1,data:e.period,axisLabel:{margin:0,textStyle:{fontSize:0}}}]}),height:"50px",style:{padding:0}},e))},le={backgroundColor:"#fff",tooltip:{trigger:"axis"},grid:{top:0,left:0,right:0,bottom:0,containLabel:!1},yAxis:[{type:"value",show:!1,axisLabel:{formatter:"{value} mm"}}]},ce=function(e){return r.a.createElement(ae,{chartData:Object(G.a)({},le,{series:[{type:"bar",data:e.ordersByPeriod,itemStyle:{normal:{color:"#40a9ff",label:{show:!1,position:"top",formatter:"{c}"}}},barWidth:8}],xAxis:[{type:"category",show:!1,data:e.period}]}),height:"50px",style:{padding:0}})},oe=a(900),ie=a(901),se={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:O.isMobile?5:24}},ue=Object(o.b)((function(e){return{salesByPeriod:e.periodData.salesByPeriod,visitsByPeriod:e.periodData.visitsByPeriod,ordersByPeriod:e.periodData.ordersByPeriod,allSales:e.periodData.allSales,allVisits:e.periodData.allVisits,allOrders:e.periodData.allOrders,period:e.periodData.period,allProducts:e.product.allProducts,alipay:e.form.alipay,wechatPay:e.form.wechatPay,paypal:e.form.paypal,email:e.form.email,setting:e.product.setting}}),null)((function(e){console.log(e,"props");var t=function(e){for(var t=[],a=0;a<e.length-1;a++)t.push(Math.abs(e[a+1]-e[a]));return t},a=function(e){var t=0;return e.forEach((function(e){t+=e})),t},n=e.salesByPeriod[14]-e.salesByPeriod[7],l=e.salesByPeriod[7]-e.salesByPeriod[0];return r.a.createElement(m.a,{justify:"center",gutter:24,type:"flex"},r.a.createElement(z.a,se,r.a.createElement(y.a,null,r.a.createElement(W.a,{title:"\u9500\u552e\u989d",value:e.allSales}),r.a.createElement(W.a,{title:"\u5468\u540c\u6bd4",value:parseInt((l-n)/n*100)||0,valueStyle:l/n>1?{color:"#cf1322"}:{color:"#3f8600"},prefix:l/n>1?r.a.createElement(oe.a,null):r.a.createElement(ie.a,null),suffix:"%"}),r.a.createElement(W.a,{title:"\u65e5\u540c\u6bd4",className:"header-day-stats",value:e.salesByPeriod[13]-e.salesByPeriod[12]===0?100:100*parseInt((e.salesByPeriod[14]+e.salesByPeriod[12]-2*e.salesByPeriod[13])/(e.salesByPeriod[13]-e.salesByPeriod[12]))||0,valueStyle:(e.salesByPeriod[14]-e.salesByPeriod[13])/(e.salesByPeriod[13]-e.salesByPeriod[12])>1?{color:"#cf1322"}:{color:"#3f8600"},prefix:(e.salesByPeriod[14]-e.salesByPeriod[13])/(e.salesByPeriod[13]-e.salesByPeriod[12])>1?r.a.createElement(oe.a,null):r.a.createElement(ie.a,null),suffix:"%"}),r.a.createElement("p",{className:"card-footer"},"\u4eca\u65e5\u9500\u552e\u989d"," ","\uffe5".concat(K()(e.salesByPeriod[e.salesByPeriod.length-1]-(e.salesByPeriod[e.salesByPeriod.length-2]||0)||0).format("0,0"))))),r.a.createElement(z.a,se,r.a.createElement(y.a,null,r.a.createElement(W.a,{title:"\u8bbf\u95ee\u91cf",value:e.allVisits}),0===a(t(e.visitsByPeriod))?r.a.createElement("div",{className:"header-chart-no-data"},"\u6ca1\u6709\u8fc7\u53bb14\u5929\u7684\u8bbf\u95ee\u6570\u636e",r.a.createElement("div",{className:"card-line"})):r.a.createElement(re,{visitsByPeriod:t(e.visitsByPeriod),period:e.period}),r.a.createElement("p",{className:"card-footer"},"\u4eca\u65e5\u8bbf\u95ee\u91cf"," ","".concat(K()(e.visitsByPeriod[e.visitsByPeriod.length-1]-(e.visitsByPeriod[e.visitsByPeriod.length-2]||0)||0).format("0,0"))))),r.a.createElement(z.a,se,r.a.createElement(y.a,null,r.a.createElement(W.a,{title:"\u8ba2\u5355\u6570",value:e.allOrders}),0===a(t(e.ordersByPeriod))?r.a.createElement("div",{className:"header-chart-no-data"},"\u6ca1\u6709\u8fc7\u53bb14\u5929\u7684\u8ba2\u5355\u6570\u636e",r.a.createElement("div",{className:"card-line"})):r.a.createElement(ce,{ordersByPeriod:t(e.ordersByPeriod),period:e.period}),r.a.createElement("p",{className:"card-footer"},"\u4eca\u65e5\u8ba2\u5355\u6570"," ","".concat(K()(e.ordersByPeriod[e.ordersByPeriod.length-1]-(e.ordersByPeriod[e.ordersByPeriod.length-2]||0)||0).format("0,0"))))),r.a.createElement(z.a,se,r.a.createElement(y.a,null,r.a.createElement("p",{style:{opacity:"0.7"}},"\u8fd0\u884c\u72b6\u6001"),r.a.createElement("p",{style:{fontSize:"30px",color:""}},e.allProducts.length>0?"\u4ea4\u6613\u4e2d":"\u6682\u65e0\u4e0a\u67b6"),r.a.createElement("p",{style:{fontSize:"15px",color:"#13C2C2",marginTop:"10px"}}," "===e.alipay.appId&&" "===e.wechatPay.accountID&&" "===e.paypal.clientId?"\u6682\u672a\u914d\u7f6e\u652f\u4ed8\u4fe1\u606f":" "===e.setting.defaultMail?"\u6682\u672a\u914d\u7f6e\u90ae\u7bb1\u4fe1\u606f":"\u4e00\u5207\u90fd\u5df2\u914d\u7f6e\u5b8c\u6210"),r.a.createElement("div",{className:"card-line"}),r.a.createElement("p",{className:"card-footer"},r.a.createElement("a",{href:"https://www.jianshu.com/p/13e3ed3f7079",target:"_blank",rel:"noopener noreferrer"},"\u4e86\u89e3\u66f4\u591a")))))})),me=(a(229),a(99)),de=(a(562),a(56)),pe=a.n(de),fe=function(){for(var e=[],t=1;t<=12;t++)e.push("".concat(t,"\u6708"));return e},ye=function(){for(var e=pe()().daysInMonth(),t=[],a=1;a<=e;a++)t.push("".concat(a,"\u53f7"));return t},he=function(){for(var e=[],t=1;t<=7;t++)e.push("\u5468".concat(Ee(t)));return e},Ee=function(e){var t="";switch(e){case 1:t="\u4e00";break;case 2:t="\u4e8c";break;case 3:t="\u4e09";break;case 4:t="\u56db";break;case 5:t="\u4e94";break;case 6:t="\u516d";break;case 7:t="\u65e5"}return t},ge=function(e){return[{type:"category",show:!0,data:"year"===e?fe():"month"===e?ye():he()}]},be=function(e,t,a){return[{name:"sales"===e?"\u9500\u552e\u989d":"visits"===e?"\u8bbf\u95ee\u91cf":"\u8ba2\u5355\u6570",type:"bar",data:a,itemStyle:{normal:{color:"#58AFFF",label:{show:!1,position:"top",formatter:"{c}"}}},barWidth:"week"===t?40:"month"===t?15:"year"===t?30:null}]},ve={backgroundColor:"#fff",tooltip:{trigger:"axis"},grid:{top:"2%",left:"0%",right:"0.5%",bottom:"0%",containLabel:!0,show:!1},yAxis:[{type:"value",show:!0,axisLabel:{formatter:"{value}"}}]};function Ne(e,t,a){return Object(G.a)({},ve,{xAxis:ge(t),series:be(e,t,a)})}function xe(e,t){var a=[];e.forEach((function(e,t){a.push({key:t,value:e})}));var n=a.sort((function(e,t){return t.value-e.value})),r=[];n.forEach((function(e){r.push(e.key)}));var l=[];return r.forEach((function(a){l.push({title:"year"===t?fe()[a]:"week"===t?he()[a]:ye()[a],total:e[a]})})),l.splice(0,7)}a(563);var Oe=function(e){var t="year"===e.currentRange?e.rankingListData.year:"month"===e.currentRange?e.rankingListData.month:e.rankingListData.week;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{type:"flex"},r.a.createElement(z.a,{xl:16,lg:12,md:12,sm:24,xs:24},r.a.createElement("div",{className:"salesBar"},"year"===e.currentRange?r.a.createElement(ae,{chartData:Ne(e.catergory,e.currentRange,e.dataByYear),height:"300px",currentRange:e.currentRange}):"month"===e.currentRange?r.a.createElement(ae,{chartData:Ne(e.catergory,e.currentRange,e.dataByMonth),height:"300px",currentRange:e.currentRange}):"week"===e.currentRange?r.a.createElement(ae,{chartData:Ne(e.catergory,e.currentRange,e.dataByWeek),height:"300px",currentRange:e.currentRange}):null)),r.a.createElement(z.a,{xl:8,lg:12,md:12,sm:24,xs:24},r.a.createElement("div",{className:"salesRank",style:O.isMobile?{display:"none"}:{}},r.a.createElement("h4",{className:"rankingTitle"},"sales"===e.catergory?"\u9500\u552e\u989d\u6392\u884c":"visits"===e.catergory?"\u8bbf\u95ee\u91cf\u6392\u884c":"\u8ba2\u5355\u6570\u6392\u884c"),r.a.createElement("ul",{className:"rankingList"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{className:"rankingItemNumber ".concat(t<3?"active":"")},t+1),r.a.createElement("span",{className:"rankingItemTitle",title:e.title},e.title),r.a.createElement("span",{className:"rankingItemValue"},K()(e.total).format("0,0")))})))))))},we=me.a.TabPane,je=Object(o.b)((function(e){return{salesByYear:e.yearData.salesByYear,visitsByYear:e.yearData.visitsByYear,ordersByYear:e.yearData.ordersByYear,salesByMonth:e.monthData.salesByMonth,visitsByMonth:e.monthData.visitsByMonth,ordersByMonth:e.monthData.ordersByMonth,salesByWeek:e.weekData.salesByWeek,visitsByWeek:e.weekData.visitsByWeek,ordersByWeek:e.weekData.ordersByWeek}}),{})((function(e){var t=Object(n.useState)("year"),a=Object(d.a)(t,2),l=a[0],c=a[1],o=function(e){c(e)};return r.a.createElement(y.a,{bordered:!1,bodyStyle:{padding:0}},r.a.createElement("div",{className:"salesCard"},r.a.createElement(me.a,{tabBarExtraContent:r.a.createElement("div",{className:"salesExtraWrap"},r.a.createElement("div",{className:"salesExtra"},r.a.createElement("a",{className:"week"===l?"currentDate":"",style:{fontSize:"15px"},onClick:function(){return o("week")}},"\u672c\u5468"),r.a.createElement("a",{className:"month"===l?"currentDate":"",style:{fontSize:"15px"},onClick:function(){return o("month")}},"\u672c\u6708"),r.a.createElement("a",{className:"year"===l?"currentDate":"",style:{fontSize:"15px"},onClick:function(){return o("year")}},"\u672c\u5e74"))),size:"large",tabBarStyle:{marginBottom:24},style:{height:"400px !important"}},r.a.createElement(we,{tab:"\u9500\u552e\u989d",key:"sales"},r.a.createElement(Oe,{dataByYear:e.salesByYear,dataByMonth:e.salesByMonth,dataByWeek:e.salesByWeek,catergory:"sales",currentRange:l,rankingListData:{year:xe(e.salesByYear,l),month:xe(e.salesByMonth,l),week:xe(e.salesByWeek,l)}})),r.a.createElement(we,{tab:"\u8bbf\u95ee\u91cf",key:"visits"},r.a.createElement(Oe,{dataByYear:e.visitsByYear,dataByMonth:e.visitsByMonth,dataByWeek:e.visitsByWeek,catergory:"visits",currentRange:l,rankingListData:{year:xe(e.visitsByYear,l),month:xe(e.visitsByMonth,l),week:xe(e.visitsByWeek,l)}})),r.a.createElement(we,{tab:"\u8ba2\u5355\u6570",key:"orders"},r.a.createElement(Oe,{dataByYear:e.ordersByYear,dataByMonth:e.ordersByMonth,dataByWeek:e.ordersByWeek,catergory:"orders",currentRange:l,rankingListData:{year:xe(e.ordersByYear,l),month:xe(e.ordersByMonth,l),week:xe(e.ordersByWeek,l)}})))))})),Ie=(a(173),a(105)),ke=function(){return r.a.createElement("div",{style:{paddingTop:100,textAlign:"center"}},r.a.createElement(Ie.a,{size:"large"}))},De=(a(39),a(5)),Se=a(118),Pe=a.n(Se),Be=a(282),_e=0;console.log("production","process.env.NODE_ENV");var Ce=Pe.a.create({baseURL:"".concat(Be.prodHost,"/api"),timeout:15e3,retry:4,retryDelay:1e3});Ce.interceptors.request.use((function(e){var t=localStorage.getItem("jwt");return e.headers={Authorization:"Bearer ".concat(t)},e}),(function(e){return De.a.error(e.response.data.message),Promise.reject(e)})),Ce.interceptors.response.use((function(e){var t=e.headers.authorization;return t&&localStorage.setItem("tokenName",t),e}),(function(e){if(e.response){var t=e.response.status;if(!t)return void De.a.error("\u83b7\u53d6\u6570\u636e\u51fa\u9519");if(401===t||405===t){if(1===_e)return;localStorage.removeItem("jwt"),De.a.warning("\u8bf7\u91cd\u65b0\u767b\u5f55"),_e++,window.location.reload()}}else De.a.error("\u83b7\u53d6\u6570\u636e\u8d85\u65f6");return Promise.reject(e)}));var Le=Ce;function Ae(e){return{type:"HANDLE_SALES_BY_MONTH",payload:e}}function Te(e){return{type:"HANDLE_VISITS_BY_MONTH",payload:e}}function Me(e){return{type:"HANDLE_ORDERS_BY_MONTH",payload:e}}function Fe(e){return{type:"HANDLE_SALES_BY_YEAR",payload:e}}function Re(e){return{type:"HANDLE_VISITS_BY_YEAR",payload:e}}function Ye(e){return{type:"HANDLE_ORDERS_BY_YEAR",payload:e}}function qe(e){return{type:"HANDLE_SALES_BY_PERIOD",payload:e}}function He(e){return{type:"HANDLE_VISITS_BY_PERIOD",payload:e}}function Ve(e){return{type:"HANDLE_ORDERS_BY_PERIOD",payload:e}}function ze(e){return{type:"HANDLE_ALL_SALES",payload:e}}function We(e){return{type:"HANDLE_ALL_VISITS",payload:e}}function Ue(e){return{type:"HANDLE_ALL_ORDERS",payload:e}}function Ke(e){return{type:"HANDLE_PERIOD",payload:e}}var Ge={handleFetchByPeriod:function(e){return function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n,r,l,c,o,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n=[],r=[],l=[],e.next=6,Le("/historyData");case 6:for(c=e.sent,o=c.data,i=0;i<o.length;i++)l.push("".concat(o[i].month,"-").concat(o[i].day)),a.push(parseInt(o[i].historySales)),n.push(parseInt(o[i].historyVisits)),r.push(parseInt(o[i].historyOrders));t(Ke(l.splice(1,l.length))),t(qe(a)),t(He(n)),t(Ve(r)),t(ze(a[a.length-1]||"0")),t(We(n[n.length-1]||"0")),t(Ue(r[r.length-1]||"0"));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},handleFetchByYear:function(e){return function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n,r,l,c,o,i,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n=[],r=[],l=new Date,e.next=6,Le.get("/todayData?year=".concat(l.getFullYear()));case 6:for(c=e.sent,o=c.data,i=function(e){var t=[];o.forEach((function(a){a.month===e&&t.push(a)}));var l=0,c=0,i=0;t&&(t.forEach((function(e){l+=parseFloat(e.sales)})),t.forEach((function(e){c+=parseFloat(e.visits)})),t.forEach((function(e){i+=parseFloat(e.orders)}))),a.push(parseInt(l)),n.push(parseInt(c)),r.push(parseInt(i))},s=1;s<=12;s++)i(s);t(Fe(a)),t(Re(n)),t(Ye(r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},handleFetchByMonth:function(){return function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n,r,l,c,o,i,s,u;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n=[],r=[],l=pe()().daysInMonth(),c=new Date,e.next=7,Le({method:"get",url:"/todayData?year=".concat(c.getFullYear(),"&&month=").concat(c.getMonth()+1)});case 7:for(o=e.sent,i=o.data,s=function(e){var t=i.filter((function(t){return t.day===e})),l=0!==t.length?t[0].sales:0,c=0!==t.length?t[0].visits:0,o=0!==t.length?t[0].orders:0;a.push(parseInt(l)),n.push(parseInt(c)),r.push(parseInt(o))},u=1;u<=l;u++)s(u);t(Ae(a)),t(Te(n)),t(Me(r));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},handleFetchByWeek:function(e){return function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n,r,l,c,o,i,s,u,m,d;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n=[],r=[],l=pe()().daysInMonth(),c=new Date,o=(c.getDay()+6)%7,i=c.getDate(),e.next=9,Le({method:"get",url:"/todayData?year=".concat(c.getFullYear(),"&&month=").concat(c.getMonth()+1)});case 9:for(s=e.sent,u=s.data,m=function(e){var t=u.filter((function(t){return t.day===e})),l=0!==t.length?t[0].sales:0,c=0!==t.length?t[0].visits:0,o=0!==t.length?t[0].orders:0;a.push(parseInt(l)),n.push(parseInt(c)),r.push(parseInt(o))},d=1;d<=l;d++)m(d);t({type:"HANDLE_SALES_BY_WEEK",payload:a.slice(i-o-1,i)}),t({type:"HANDLE_VISITS_BY_WEEK",payload:n.slice(i-o-1,i)}),t({type:"HANDLE_ORDERS_BY_WEEK",payload:r.slice(i-o-1,i)});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Je=Object(o.b)((function(e){return{salesByPeriod:e.periodData.salesByPeriod,visitsByPeriod:e.periodData.visitsByPeriod,ordersByPeriod:e.periodData.ordersByPeriod,allSales:e.periodData.allSales,allVisits:e.periodData.allVisits,allOrders:e.periodData.allOrders,period:e.periodData.period,salesByYear:e.yearData.salesByYear,visitsByYear:e.yearData.visitsByYear,ordersByYear:e.yearData.ordersByYear,salesByMonth:e.monthData.salesByMonth,visitsByMonth:e.monthData.visitsByMonth,ordersByMonth:e.monthData.ordersByMonth,salesByWeek:e.weekData.salesByWeek,visitsByWeek:e.weekData.visitsByWeek,ordersByWeek:e.weekData.ordersByWeek,alipay:e.form.alipay,wechatPay:e.form.wechatPay,paypal:e.form.paypal,email:e.form.email}}),Ge)((function(e){var t=Object(n.useState)(!(e.salesByPeriod&&e.visitsByPeriod&&e.ordersByPeriod&&e.allSales&&e.allVisits&&e.allOrders&&e.salesByYear&&e.visitsByYear&&e.ordersByYear&&e.salesByMonth&&e.visitsByMonth&&e.ordersByMonth&&e.salesByWeek&&e.visitsByWeek&&e.ordersByWeek&&e.period&&e.alipay&&e.wechatPay&&e.paypal&&e.email)),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){c(!(e.salesByPeriod&&e.visitsByPeriod&&e.ordersByPeriod&&e.allSales&&e.allVisits&&e.allOrders&&e.salesByYear&&e.visitsByYear&&e.ordersByYear&&e.salesByMonth&&e.visitsByMonth&&e.ordersByMonth&&e.salesByWeek&&e.visitsByWeek&&e.ordersByWeek&&e.period&&e.alipay&&e.wechatPay&&e.paypal&&e.email&&window.echarts&&window.echarts.init))}),[e]),Object(n.useEffect)((function(){!function(e){var t=document.createElement("script");t.src=e,t.type="text/javascript",t.async=!0,document.head.appendChild(t)}("/lib/echarts.min.js"),e.handleFetchByPeriod(),e.handleFetchByYear(),e.handleFetchByMonth(),e.handleFetchByWeek()}),[]),r.a.createElement("div",null,l?r.a.createElement(ke,null):r.a.createElement("div",{className:"dahboard-container",style:O.isMobile?{padding:"5px"}:{padding:"20px"}},r.a.createElement(ue,null),r.a.createElement(je,null)))})),Qe=a(124),Xe=(a(36),a(6)),$e=(a(587),a(291)),Ze=(a(589),a(431)),et=a(890),tt=(a(592),function(e){return{type:"HANLDE_PRODUCT_INFO",payload:e}}),at=function(){return function(){var e=Object(V.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Le.get("/product/all").then((function(e){var a=e.data||[];t({type:"HANLDE_ALL_PRODUCTS",payload:a})})).catch((function(e){if(e.response){var t=e.response.status;if(!t)return void De.a.error("\u83b7\u53d6\u6570\u636e\u51fa\u9519");403===t?De.a.warning("\u8bf7\u91cd\u65b0\u767b\u5f55"):De.a.error("\u83b7\u53d6\u5546\u54c1\u4fe1\u606f\u5931\u8d25")}else De.a.error("\u83b7\u53d6\u6570\u636e\u8d85\u65f6")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},nt=function(){return function(){var e=Object(V.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.get("/setting/");case 2:a=e.sent,n=a.data||null,t({type:"HANLDE_SETTING",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},rt=function(e){return{type:"HANDLE_FORM_DATA",payload:e}},lt=function(e){return{type:"HANDLE_VERIFY_DIALOG",payload:e}},ct=function(){return function(){var e=Object(V.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.get("/order/all?year=".concat((new Date).getFullYear()));case 2:a=e.sent,t({type:"HANDLE_ORDER",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ot=function(){return function(){var e=Object(V.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.get("/disaccount/all");case 2:a=e.sent,t({type:"HANDLE_DISACCOUNT",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},it=function(){return function(e){Pe.a.all([Le("/alipay"),Le("/wechatPay"),Le("/paypal"),Le("/email"),Le("/user"),Le("/customer")]).then((function(t){e({type:"HANDLE_ALIPAY",payload:t[0].data}),e(function(e){return{type:"HANDLE_WECHAT_PAY",payload:e}}(t[1].data)),e(function(e){return{type:"HANDLE_PAYPAL",payload:e}}(t[2].data)),e(function(e){return{type:"HANDLE_EMAIL",payload:e}}(t[3].data)),e(function(e){return{type:"HANDLE_USER",payload:e}}(t[4].data)),e(function(e){return{type:"HANDLE_CUSTOMER",payload:e}}(t[5].data))})).catch((function(e){if(e.response){var t=e.response.status;if(!t)return void De.a.error("\u83b7\u53d6\u6570\u636e\u51fa\u9519");403===t?De.a.warning("\u8eab\u4efd\u51ed\u8bc1\u5931\u6548"):De.a.error("\u83b7\u53d6\u6570\u636e\u5931\u8d25")}else De.a.error("\u83b7\u53d6\u6570\u636e\u8d85\u65f6")}))}},st=(a(73),a(4)),ut=(a(53),a(9)),mt={labelCol:{span:6},wrapperCol:{span:14}},dt={wrapperCol:{xs:{span:16,offset:0},sm:{span:16,offset:10}}},pt={handleForm:rt,handleVerify:function(e){return{type:"HANDLE_VERIFY",payload:e}},handleVerifyDialog:lt},ft=Object(o.b)((function(e){return{isShowDialog:e.form.isShowDialog,isVerified:e.form.isVerified}}),pt)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){e.handleForm(null)}),[]);var o=function(){e.handleVerifyDialog(!1)};return r.a.createElement(h.a,{visible:e.isShowDialog,title:"\u6211\u4eec\u9700\u8981\u9a8c\u8bc1\u4f60\u7684\u8eab\u4efd",onCancel:o,footer:[r.a.createElement(Xe.a,{key:"submit",type:"primary",onClick:o},"\u53d6\u6d88")]},r.a.createElement(st.a,Object.assign({},mt,{onFinish:function(t){c(!0),Le.post("/user/verify",t).then((function(){e.handleVerify(!0),e.handleVerifyDialog(!1),De.a.success("\u9a8c\u8bc1\u6210\u529f\uff0c\u8bf7\u7ee7\u7eed\u4e4b\u524d\u7684\u64cd\u4f5c"),c(!1)})).catch((function(e){De.a.error("\u9a8c\u8bc1\u5931\u8d25"),c(!1)}))}}),r.a.createElement(st.a.Item,{label:"\u5b89\u5168\u95ee\u98981",name:"answer1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"})),r.a.createElement(st.a.Item,{label:"\u5b89\u5168\u95ee\u98982",name:"answer2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"})),r.a.createElement(st.a.Item,dt,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",loading:l},"\u9a8c\u8bc1\u56de\u7b54"))))})),yt=function(e){return r.a.createElement("div",{className:"product-page-header"},r.a.createElement("div",{className:"pageHeaderContent",style:{padding:"20px"}},r.a.createElement("div",{style:{fontSize:"20px",fontWeight:"500",marginTop:"10px",color:"#595959"}},e.title),r.a.createElement("p",{style:{lineHeight:"35px",fontSize:"15px",opacity:"0.8"}},e.desc)))},ht=a(899),Et=(a(668),function(e){var t=Object(n.useState)(e.url?e.url:null),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1],m=function(){var t=Object(V.a)(H.a.mark((function t(a){var n,r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u(!0),a.preventDefault(),n=a.target.files[0],console.log(n,"file"),(r=new FormData).append("file",n),r.append("id",e.productId),Le.post("/upload",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){De.a.success("\u66f4\u6362Logo\u6210\u529f"),u(!1),c(window.webkitURL.createObjectURL(n))})).catch((function(e){De.a.error(e.response.data.message),u(!1)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"logo-container"},r.a.createElement("input",{type:"file",name:"logo",id:"logo",onChange:function(e){m(e)},className:"logo-upload",accept:"image/png, image/jpeg, image/gif, image/jpg, image/bmp"}),l?r.a.createElement("img",{src:l,alt:"",className:"logo-img"}):r.a.createElement("div",null,s?r.a.createElement(ht.a,null):r.a.createElement(et.a,null),r.a.createElement("div",{className:"logo-text"},"\u4e0a\u4f20")))}),gt=h.a.confirm,bt=Ze.a.Paragraph,vt={handleFetchAllProduct:at,handleForm:rt,handleVerifyDialog:lt},Nt=Object(o.b)((function(e){return{allProducts:e.product.allProducts,alipay:e.form.alipay,wechatPay:e.form.wechatPay,paypal:e.form.paypal,email:e.form.email,isVerified:e.form.isVerified}}),vt)(Object(s.g)((function(e){Object(n.useEffect)((function(){e.handleForm(null)}),[]);var t=function(e,t){var a="open".concat(Date.now()),n=r.a.createElement(Xe.a,{type:"primary",size:"small",onClick:function(){return $e.a.close(a)}},"\u786e\u8ba4");$e.a.open({message:e,description:t,btn:n,key:a})},a=function(){" "===e.alipay.appId&&" "===e.wechatPay.accountID&&" "===e.paypal.clientId?(t("\u6682\u672a\u914d\u7f6e\u652f\u4ed8\u4fe1\u606f","\u7528\u6237\u5c06\u4e0d\u80fd\u8d2d\u4e70\u60a8\u7684\u5546\u54c1"),e.history.push("/productAdd")):" "===e.email.mailPassword?(t("\u6682\u672a\u914d\u7f6e\u90ae\u7bb1\u4fe1\u606f","\u7528\u6237\u5c06\u4e0d\u80fd\u6536\u5230\u8ba2\u5355\u90ae\u4ef6\u548c\u91cd\u7f6e\u5bc6\u7801\u90ae\u4ef6"),e.history.push("/productAdd")):e.history.push("/productAdd")};return r.a.createElement("div",{className:"product-page-container"},r.a.createElement(yt,{title:"\u5546\u54c1\u8bbe\u7f6e",desc:"\u5728\u8fd9\u91cc\u6dfb\u52a0\u548c\u7f16\u8f91\u60a8\u7684\u5546\u54c1"}),r.a.createElement(ft,null),r.a.createElement("div",{className:"cardList",style:O.isMobile?{margin:"5px"}:{margin:"20px"}},r.a.createElement(p.a,{rowKey:"id",grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:[{}].concat(Object(Qe.a)(e.allProducts)),renderItem:function(t,n){return t&&t._id?r.a.createElement(p.a.Item,{key:t._id},r.a.createElement(y.a,{hoverable:!0,className:"card",actions:[r.a.createElement(i.b,{to:"/productAdd/".concat(n),key:"edit"},"\u7f16\u8f91"),r.a.createElement("a",{key:"delete",onClick:function(){!function(t){if(e.isVerified){var a=e.allProducts,n=e.handleFetchAllProduct;gt({title:"\u662f\u5426\u5220\u9664\u6b64\u5546\u54c1",icon:r.a.createElement(E.a,null),content:"\u5220\u9664\u4e4b\u540e\uff0c\u5546\u54c1\u7684\u8d2d\u4e70\u94fe\u63a5\u5c06\u4f1a\u5931\u6548\uff0c\u4e4b\u524d\u6240\u6709\u7684\u9500\u552e\u6570\u636e\u4ecd\u4f1a\u4fdd\u7559",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){return Le.post("/product/delete/".concat(a[t-1]._id)).then((function(e){De.a.success("\u5220\u9664\u6210\u529f"),n()})).catch((function(){De.a.error("\u5220\u9664\u5931\u8d25")}))},onCancel:function(){}})}else e.handleVerifyDialog(!0)}(n)}},"\u5220\u9664"),r.a.createElement(i.b,{to:"/product/".concat(e.allProducts[n-1].productId),key:"check",target:"_blank"},"\u67e5\u770b")]},r.a.createElement(y.a.Meta,{avatar:r.a.createElement(Et,{productId:t._id,url:t.logo}),title:r.a.createElement("a",{href:"/#"},t.productName),description:r.a.createElement(bt,{className:"item",ellipsis:{rows:3}},t.productInfo)}))):r.a.createElement(p.a.Item,null,r.a.createElement(Xe.a,{type:"dashed",className:"newButton",style:{fontSize:"15px",height:"200px"},onClick:a},r.a.createElement(et.a,null)," \u65b0\u589e\u5546\u54c1"))}})))}))),xt=(a(330),a(148)),Ot=a(889),wt=(a(244),a(123)),jt=(a(156),a(33)),It=(a(331),a(149)),kt=(a(227),a(71));function Dt(e){return Object.assign(e,{contact:"string"===typeof e.contact?e.contact:e.contact.join("\n"),levelName1:e.levelName[0],levelName2:e.levelName[1],levelName3:e.levelName[2],levelName4:e.levelName[3],levelDesc1:e.levelDesc[0]?e.levelDesc[0].join("\n"):null,levelDesc2:e.levelDesc[1]?e.levelDesc[1].join("\n"):null,levelDesc3:e.levelDesc[2]?e.levelDesc[2].join("\n"):null,levelDesc4:e.levelDesc[3]?e.levelDesc[3].join("\n"):null,levelPrice1:{price1:e.levelPrice[0].price,unit1:e.levelPrice[0].unit},levelPrice2:e.levelPrice[1]?{price2:e.levelPrice[1].price,unit2:e.levelPrice[1].unit}:null,levelPrice3:e.levelPrice[2]?{price3:e.levelPrice[2].price,unit3:e.levelPrice[2].unit}:null,levelPrice4:e.levelPrice[3]?{price4:e.levelPrice[3].price,unit4:e.levelPrice[3].unit}:null,levelLimit1:e.levelLimit[0],levelLimit2:e.levelLimit[1],levelLimit3:e.levelLimit[2],levelLimit4:e.levelLimit[3],levelNote1:e.levelNote[0],levelNote2:e.levelNote[1],levelNote3:e.levelNote[2],levelNote4:e.levelNote[3]})}function St(e,t){return Object.assign({productName:e.productName,productType:e.productType,callbackUrl:e.callbackUrl||"\u672a\u914d\u7f6e",allowBalance:e.allowBalance||"no",productInfo:e.productInfo,memberLevel:parseInt(e.memberLevel),onSale:e.onSale,theme:e.theme||"default",productId:parseInt(t)||1,contact:e.contact.split("\n")},{levelName:[e.levelName1,void 0!==e.levelName2?e.levelName2:null,void 0!==e.levelName3?e.levelName3:null,void 0!==e.levelName4?e.levelName4:null],levelPrice:[{price:e.levelPrice1.price1,unit:e.levelPrice1.unit1},void 0!==e.levelPrice2?{price:e.levelPrice2.price2,unit:e.levelPrice2.unit2}:null,void 0!==e.levelPrice3?{price:e.levelPrice3.price3,unit:e.levelPrice3.unit3}:null,void 0!==e.levelPrice4?{price:e.levelPrice4.price4,unit:e.levelPrice4.unit4}:null],levelDesc:[e.levelDesc1.split("\n"),void 0!==e.levelDesc2?e.levelDesc2.split("\n"):null,void 0!==e.levelDesc3?e.levelDesc3.split("\n"):null,void 0!==e.levelDesc4?e.levelDesc4.split("\n"):null],levelLimit:[e.levelLimit1,void 0!==e.levelLimit2?e.levelLimit2:null,void 0!==e.levelLimit3?e.levelLimit3:null,void 0!==e.levelLimit4?e.levelLimit4:null],levelNote:[e.levelNote1,void 0!==e.levelNote2?e.levelNote2:null,void 0!==e.levelNote3?e.levelNote3:null,void 0!==e.levelNote4?e.levelNote4:null]})}var Pt,Bt=kt.a.Option,_t={handleForm:rt},Ct=Object(o.b)((function(e){return{formData:e.form.formData,allProducts:e.product.allProducts}}),_t)((function(e){var t=Object(n.useState)(e.formData?e.formData.memberLevel:0),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("yes"),i=Object(d.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)("yes"),p=Object(d.a)(m,2),f=p[0],y=p[1],h=Object(n.useState)(e.formData?e.formData:null),E=Object(d.a)(h,2),g=E[0],b=E[1],v=Object(n.useState)(e.formData?e.formData.productType:1),N=Object(d.a)(v,2),x=N[0],w=N[1],j=r.a.createRef();Object(n.useEffect)((function(){var t=document.location.toString().split("/"),a=t[t.length-1];isNaN(parseInt(a))||(j.current.setFieldsValue(Dt(e.allProducts[a-1])),b(Dt(e.allProducts[a-1])),c(e.allProducts[a-1].memberLevel),w(e.allProducts[a-1].productType))}),[]);return r.a.createElement("div",{className:"shadow-radius",style:{marginTop:"50px"}},r.a.createElement(st.a,Object.assign({},{labelCol:{sm:{span:8}},wrapperCol:{sm:{span:8}}},{onFinish:function(t){e.handleFormData(t),e.handleForm(t),e.handleNext(),b(t)},initialValues:g||null,ref:j}),r.a.createElement(st.a.Item,{label:"\u5546\u54c1\u7c7b\u578b",name:"productType"},r.a.createElement(jt.a.Group,null,r.a.createElement(jt.a.Button,{value:1,onClick:function(){w(1)}},"1\u53f7\u7c7b\u578b"),r.a.createElement(jt.a.Button,{value:2,onClick:function(){w(2)}},"2\u53f7\u7c7b\u578b"),r.a.createElement(jt.a.Button,{value:3,onClick:function(){w(3)}},"3\u53f7\u7c7b\u578b"),!O.isMobile&&r.a.createElement(wt.a,{title:"\u6211\u8981\u5982\u4f55\u9009\u62e9\u5546\u54c1\u7c7b\u578b\uff1f"},r.a.createElement("a",{href:"https://github.com/troyeguo/coodo-pay#\u5f00\u53d1\u7406\u5ff5",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",lineHeight:"20px"}},"\u9700\u8981\u5e2e\u52a9\uff1f")))),r.a.createElement(st.a.Item,{label:"\u5546\u54c1\u540d\u79f0",name:"productName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"})),r.a.createElement(st.a.Item,{name:"productInfo",label:"\u5546\u54c1\u4ecb\u7ecd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u4ecb\u7ecd"}]},r.a.createElement(ut.a.TextArea,{placeholder:"\u8bf7\u7528\u4e0d\u8d85\u8fc720\u4e2a\u5b57\u4ecb\u7ecd\u4e00\u4e0b\u8fd9\u4e2a\u5546\u54c1",autoSize:{minRows:3,maxRows:5}})),r.a.createElement(st.a.Item,{label:"\u4f1a\u5458\u7b49\u7ea7\u6570\u91cf",name:"memberLevel",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f1a\u5458\u7b49\u7ea7\u6570\u91cf"}]},r.a.createElement(kt.a,{placeholder:"\u8bf7\u9009\u62e9\u4f1a\u5458\u7b49\u7ea7\u6570\u91cf",onChange:function(e){c(parseInt(e))}},r.a.createElement(Bt,{value:"1"},"1"),r.a.createElement(Bt,{value:"2"},"2"),r.a.createElement(Bt,{value:"3"},"3"),r.a.createElement(Bt,{value:"4"},"4"))),function(){for(var e=[],t=1;t<=l;t++)e.push(t);return e.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(st.a.Item,{name:"levelName".concat(e),label:"\u7b49\u7ea7".concat(e,"\u540d\u79f0"),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7b49\u7ea7".concat(e,"\u540d\u79f0")}]},r.a.createElement(ut.a,{placeholder:"\u793a\u4f8b\uff1a\u9ad8\u7ea7\u7248\uff0c\u5e74\u8d39\u4f1a\u5458\uff0c\u4f01\u4e1a\u7248"})),r.a.createElement(st.a.Item,{label:"\u7b49\u7ea7".concat(e,"\u5b9a\u4ef7")},r.a.createElement(ut.a.Group,{compact:!0},r.a.createElement(st.a.Item,{name:["levelPrice".concat(e),"price".concat(e)],noStyle:!0,rules:[{type:"number",message:"\u8bf7\u8f93\u5165\u6570\u5b57"},{required:!0,message:"\u8bf7\u8f93\u5165\u7b49\u7ea7".concat(e,"\u5b9a\u4ef7")}]},r.a.createElement(It.a,{min:0,step:1,style:{width:"calc(100% - 100px)"},placeholder:"\u8bf7\u8f93\u5165\u7b49\u7ea7".concat(e,"\u5b9a\u4ef7")})),r.a.createElement(st.a.Item,{name:["levelPrice".concat(e),"unit".concat(e)],noStyle:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7b49\u7ea7".concat(e,"\u5b9a\u4ef7\u5355\u4f4d")}]},r.a.createElement(kt.a,{style:{width:100},placeholder:"\u9009\u62e9\u5355\u4f4d"},r.a.createElement(Bt,{value:"\u6bcf\u6708"},"\u6bcf\u6708"),r.a.createElement(Bt,{value:"\u6bcf3\u4e2a\u6708"},"\u6bcf3\u4e2a\u6708"),r.a.createElement(Bt,{value:"\u6bcf6\u4e2a\u6708"},"\u6bcf6\u4e2a\u6708"),r.a.createElement(Bt,{value:"\u6bcf\u5e74"},"\u6bcf\u5e74"),r.a.createElement(Bt,{value:"\u7ec8\u8eab"},"\u7ec8\u8eab"))))),r.a.createElement(st.a.Item,{name:"levelDesc".concat(e),label:"\u7b49\u7ea7".concat(e,"\u7279\u6743\u63cf\u8ff0"),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f1a\u5458\u7279\u6743\u63cf\u8ff0"}]},r.a.createElement(ut.a.TextArea,{id:"desc",placeholder:"\u5199\u5b8c\u4e00\u6761\u4e4b\u540e\u8bf7\u6362\u884c",autoSize:{minRows:3,maxRows:5}})),r.a.createElement(st.a.Item,{label:"\u7b49\u7ea7".concat(e,"\u9650\u8d2d\u6570\u91cf"),name:"levelLimit".concat(e)},r.a.createElement(It.a,{style:{width:"100%"},min:0,step:1,placeholder:"\u4e0d\u9650\u8d2d\u8bf7\u7559\u7a7a"})),r.a.createElement(st.a.Item,{name:"levelNote".concat(e),label:"\u7b49\u7ea7".concat(e,"\u5907\u6ce8")},r.a.createElement(ut.a.TextArea,{id:"note",placeholder:"\u6ca1\u6709\u8bf7\u7559\u7a7a",autoSize:{minRows:3,maxRows:5}})))}))}(),2===x?r.a.createElement(st.a.Item,{label:"\u8ba2\u5355\u56de\u8c03\u5730\u5740",name:"callbackUrl",rules:[{type:"url",required:1!==x,message:"\u8bf7\u8f93\u5165\u8ba2\u5355\u56de\u8c03\u5730\u5740"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u56de\u8c03\u5730\u5740"})):null,3===x?r.a.createElement(st.a.Item,{label:"\u4f7f\u7528\u4f59\u989d\u652f\u4ed8",name:"allowBalance",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u5141\u8bb8\u4f7f\u7528\u4f59\u989d\u652f\u4ed8"}]},r.a.createElement(jt.a.Group,{onChange:function(e){y(e.target.value)},value:f},r.a.createElement(jt.a,{value:"yes"},"\u5141\u8bb8"),r.a.createElement(jt.a,{value:"no"},"\u4e0d\u5141\u8bb8"))):null,r.a.createElement(st.a.Item,{label:"\u662f\u5426\u5728\u552e",name:"onSale",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u5728\u552e"}]},r.a.createElement(jt.a.Group,{onChange:function(e){u(e.target.value)},value:s},r.a.createElement(jt.a,{value:"yes"},"\u5728\u552e"),r.a.createElement(jt.a,{value:"no"},"\u505c\u552e"))),r.a.createElement(st.a.Item,{name:"contact",label:"\u8054\u7cfb\u65b9\u5f0f",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"}]},r.a.createElement(ut.a.TextArea,{id:"contact",placeholder:"\u5b98\u65b9\u7f51\u7ad9\u3001\u5fae\u535a\u3001\u516c\u4f17\u53f7\u3001\u90ae\u7bb1\u7b49\uff0c\u5199\u5b8c\u4e00\u6761\u4e4b\u540e\u8bf7\u6362\u884c",autoSize:{minRows:3,maxRows:5}})),r.a.createElement(st.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:11}}},r.a.createElement(Xe.a,{type:"primary",htmlType:"submit"},"\u4e0b\u4e00\u6b65"))))})),Lt=(a(248),a(43)),At=function(e){var t=e.formData;return r.a.createElement("div",{className:"add-step-two",style:O.isMobile?{padding:"5px"}:{padding:"50px 150px"}},r.a.createElement(Lt.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Lt.a.Item,{label:"\u5546\u54c1\u540d\u79f0"},t.productName),r.a.createElement(Lt.a.Item,{label:"\u5546\u54c1\u4ecb\u7ecd",span:2},t.productInfo),function(e,t){for(var a=St(t,null),n=a.levelName,l=a.levelPrice,c=a.levelDesc,o=a.levelLimit,i=a.levelNote,s=[],u=1;u<=e;u++)s.push(u);return s.map((function(e){return r.a.createElement(Lt.a.Item,{label:"\u7b49\u7ea7".concat(e,"\u65b9\u6848"),span:3,key:e},"\u7b49\u7ea7",e,"\u540d\u79f0: ",n[e-1],r.a.createElement("br",null),"\u7b49\u7ea7",e,"\u4ef7\u683c:"," ","".concat(l[e-1].price,"\u5143/").concat(l[e-1].unit),r.a.createElement("br",null),"\u7b49\u7ea7",e,"\u7279\u6743\u63cf\u8ff0:",r.a.createElement("br",null),c[e-1].map((function(e,t){return r.a.createElement("div",{key:t},e)})),r.a.createElement("br",null),"\u7b49\u7ea7",e,"\u9650\u8d2d\u6570\u91cf: ",o[e-1],r.a.createElement("br",null),"\u7b49\u7ea7",e,"\u5907\u6ce8: ",i[e-1],r.a.createElement("br",null))}))}(t.memberLevel,t),2===t.productType?r.a.createElement(Lt.a.Item,{label:"\u652f\u4ed8\u56de\u8c03\u5730\u5740",span:4},t.callbackUrl):null,3===t.productType?r.a.createElement(Lt.a.Item,{label:"\u652f\u6301\u4f59\u989d\u652f\u4ed8",span:4},"yes"===t.allowBalance?"\u5141\u8bb8":"\u4e0d\u5141\u8bb8"):null,r.a.createElement(Lt.a.Item,{label:"\u662f\u5426\u5728\u552e"},"\u5728\u552e"),r.a.createElement(Lt.a.Item,{label:"\u8054\u7cfb\u65b9\u5f0f"},t.contact.split("\n").map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(m.a,{justify:"center",style:{marginTop:"40px"}},r.a.createElement(Xe.a,{onClick:e.handlePrev,style:{marginRight:"30px"}},"\u4e0a\u4e00\u6b65"),r.a.createElement(Xe.a,{type:"primary",onClick:e.handleNext},"\u63d0\u4ea4")))},Tt=(a(134),a(65)),Mt=a(332),Ft={handleFetchAllProduct:at},Rt=Object(o.b)((function(e){return{formData:e.form.formData,allProducts:e.product.allProducts}}),Ft)((function(e){var t=Object(n.useState)("add"),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),s=Object(d.a)(o,2),u=s[0],m=s[1];Object(n.useEffect)((function(){var t=document.location.toString().split("/"),a=t[t.length-1];isNaN(parseInt(a))||(c("edit"),m(e.allProducts[a-1]._id))}),[]);var p="".concat(window.location.protocol,"//").concat(window.location.host,"#/product/").concat("edit"===l?function(t){return e.allProducts.filter((function(e){return e._id===t}))[0].productId}(u):(e.allProducts[e.allProducts.length-1]?e.allProducts[e.allProducts.length-1].productId:0)+1),f=r.a.createElement("div",{className:"information"},r.a.createElement(Lt.a,{column:1},r.a.createElement(Lt.a.Item,{label:"\u5546\u54c1\u540d\u79f0"},e.formData.productName),r.a.createElement(Lt.a.Item,{label:"\u5546\u54c1\u63cf\u8ff0"},e.formData.productInfo),r.a.createElement(Lt.a.Item,{label:"\u5546\u54c1\u94fe\u63a5"},r.a.createElement("a",{href:p,target:"_blank",rel:"noopener noreferrer"},p),r.a.createElement(Xe.a,{onClick:function(){Mt(p),De.a.success("\u590d\u5236\u94fe\u63a5\u5230\u526a\u5207\u677f")},style:{marginLeft:"20px"}},"\u70b9\u51fb\u590d\u5236")))),y=r.a.createElement("div",null,r.a.createElement(i.b,{to:"/productList"},r.a.createElement(Xe.a,{type:"primary",onClick:function(){e.handleFetchAllProduct()}},"\u8fd4\u56de\u5546\u54c1\u5217\u8868")));return r.a.createElement(Tt.a,{status:"success",title:"\u6dfb\u52a0\u6210\u529f",subTitle:"",extra:y,className:"result",style:{marginTop:"20px",userSelect:"text"}},f)})),Yt=(a(683),function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),l=a[0],c=a[1];return 0===e.currentStep?r.a.createElement(Ct,{handleNext:e.next,handleFormData:function(e){c(e)}.bind(void 0)}):1===e.currentStep?r.a.createElement(At,{handleNext:e.next,handlePrev:e.prev,formData:l}):r.a.createElement(Rt,null)}),qt=(a(684),xt.a.Step),Ht={handleFetchAllProduct:at},Vt=Object(o.b)((function(e){return{formData:e.form.formData,allProducts:e.product.allProducts}}),Ht)((function(e){var t=Object(n.useState)(0),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("add"),s=Object(d.a)(o,2),u=s[0],p=s[1],f=Object(n.useState)(null),h=Object(d.a)(f,2),E=h[0],g=h[1];Object(n.useEffect)((function(){var t=document.location.toString().split("/"),a=t[t.length-1];isNaN(parseInt(a))||(p("edit"),g(e.allProducts[a-1]._id))}),[]);var b=function(t){return e.allProducts.filter((function(e){return e._id===t}))[0].productId};return r.a.createElement("div",{className:"product-add-page"},r.a.createElement(i.b,{to:"/productList"},r.a.createElement("span",{className:"product-add-return",onClick:function(){e.handleFetchAllProduct()}},r.a.createElement(Ot.a,null),"\xa0 \u8fd4\u56de\u5546\u54c1\u5217\u8868")),r.a.createElement("div",{className:"product-add-header"},r.a.createElement("p",{style:{fontSize:"20px",fontWeight:"500",marginTop:"30px"}},"add"===u?" \u6dfb\u52a0\u5546\u54c1":"\u7f16\u8f91\u5546\u54c1"),r.a.createElement("p",{style:{lineHeight:"50px",fontSize:"15px"}},"\u7f16\u8f91\u6216\u6dfb\u52a0\u60a8\u7684\u5546\u54c1"),r.a.createElement("div",{className:"extraImg"},r.a.createElement("img",{alt:"\u8fd9\u662f\u4e00\u4e2a\u6807\u9898",src:"https://gw.alipayobjects.com/zos/rmsportal/RzwpdLnhmvDJToTdfDPe.png"}))),r.a.createElement(y.a,{bordered:!1,style:O.isMobile?{margin:"5px"}:{margin:"20px"}},r.a.createElement(m.a,{justify:"center"},r.a.createElement(xt.a,{current:l},r.a.createElement(qt,{key:"1",title:"\u586b\u5199\u5546\u54c1\u4fe1\u606f"}),r.a.createElement(qt,{key:"2",title:"\u786e\u8ba4\u5546\u54c1\u4fe1\u606f"}),r.a.createElement(qt,{key:"3",title:"\u5b8c\u6210"}))),r.a.createElement(Yt,{currentStep:l,next:function(){"add"===u?0===l?c(l+1):Le.post("/product",St(e.formData,0!==e.allProducts.length?e.allProducts[e.allProducts.length-1].productId+1:1)).then((function(e){c(l+1)})).catch((function(e){De.a.error("\u6dfb\u52a0\u5931\u8d25")})):0===l?c(l+1):Le.post("/product/update/".concat(E),St(e.formData,b(E))).then((function(e){c(l+1)})).catch((function(e){De.a.error("\u6dfb\u52a0\u5931\u8d25")}))},prev:function(){c(l-1)}})))})),zt=(a(279),a(144)),Wt=(a(199),a(107)),Ut=ut.a.Search,Kt={handleFetchOrder:ct},Gt=Object(o.b)((function(e){return{order:e.form.order}}),Kt)((function(e){var t=Object(n.useState)(e.order),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!0),i=Object(d.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),y=p[0],h=p[1],E=Object(n.useState)(-1),g=Object(d.a)(E,2),b=g[0],v=g[1],N=Object(n.useState)([]),x=Object(d.a)(N,2),w=x[0],j=x[1];Object(n.useEffect)((function(){e.order&&(u(!1),c(e.order))}),[e.order]);var I=function(){var t=Object(V.a)(H.a.mark((function t(a,n,r){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(!0),v(n),Le.post("/refund/".concat(r.payment),{orderId:a}).then((function(t){h(!1),De.a.success("\u9000\u6b3e\u6210\u529f"),e.handleFetchOrder(),v(-1)})).catch((function(e){h(!1),v(-1),console.log(e),De.a.error("\u9000\u6b3e\u5931\u8d25")}));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),k={selectedRowKeys:w,onChange:function(e){j(e)}},D=[{title:"\u9000\u6b3e\u64cd\u4f5c",dataIndex:"orderId",key:"orderId",width:100,render:function(e,t,a){return r.a.createElement(Xe.a,{type:"primary",onClick:function(){I(t.orderId,a,t)},size:"small",loading:b===a&&y,disabled:"\u5df2\u652f\u4ed8"!==t.paymentStatus},"\u9000\u6b3e")}},{title:"\u8ba2\u5355\u53f7",dataIndex:"orderId",key:"orderId",width:180},{title:"\u5546\u54c1\u540d\u79f0",key:"productName",dataIndex:"productName",width:150},{title:"\u5546\u54c1\u7b49\u7ea7",key:"levelName",dataIndex:"levelName",width:100},{title:"\u652f\u4ed8\u72b6\u6001",key:"paymentStatus",dataIndex:"paymentStatus",width:120,render:function(e){return"\u5df2\u652f\u4ed8"===e?r.a.createElement(f.a,{status:"success",text:e}):"\u5df2\u9000\u6b3e"===e?r.a.createElement(f.a,{status:"error",text:e}):r.a.createElement(f.a,{status:"warning",text:e})}},{title:"\u5151\u6362\u7801",key:"code",dataIndex:"code",width:220},{title:"\u6fc0\u6d3b\u72b6\u6001",key:"activation",dataIndex:"activation",width:140,render:function(e){return e>0?r.a.createElement(f.a,{status:"success",text:"\u5df2\u6fc0\u6d3b"}):r.a.createElement(f.a,{status:"warning",text:"\u672a\u6fc0\u6d3b"})}},{title:"\u6fc0\u6d3b\u6b21\u6570",key:"activation",dataIndex:"activation",width:100,render:function(e){return r.a.createElement("p",{style:{textAlign:"center"}},e.length)}},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"date",key:"date",width:140},{title:"\u4ef7\u683c",dataIndex:"price",key:"price",width:100,render:function(e){return r.a.createElement("span",null,e,"\u5143")}},{title:"\u652f\u4ed8\u65b9\u5f0f",dataIndex:"payment",key:"payment",width:100,render:function(e){return"alipay"===e?r.a.createElement("span",null,"\u652f\u4ed8\u5b9d"):r.a.createElement("span",null,"PayPal")}},{title:"\u6298\u6263\u7801",key:"disaccount",dataIndex:"disaccount",width:200,render:function(e){return e?r.a.createElement("span",null,e):r.a.createElement("span",null,"\u672a\u4f7f\u7528")}},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email",width:250}],S=new Date;return r.a.createElement("div",{className:"shadow-radius"},r.a.createElement(yt,{title:"\u8ba2\u5355\u7ba1\u7406",desc:"\u7ba1\u7406\u4ee5\u5f80\u6240\u6709\u7684\u8ba2\u5355\u548c\u5151\u6362\u7801"}),r.a.createElement("div",{style:O.isMobile?{backgroundColor:"white",zIndex:10}:{backgroundColor:"white",margin:"20px 20px 0 20px"}},r.a.createElement(Ut,{placeholder:"\u641c\u7d22\u8ba2\u5355\u53f7\u3001Email",enterButton:"\u641c\u7d22",style:O.isMobile?{width:240,margin:"25px 10px 5px 10px",height:"20px",fontSize:"25px"}:{width:300,margin:"25px 10px 5px 10px",height:"20px",fontSize:"25px"},onSearch:function(t){!function(t){var a=[];e.order.forEach((function(e){e.email!==t&&e.orderId!==t||a.push(e)})),c(a)}(t)}}),r.a.createElement(Wt.a,{defaultValue:pe()("".concat(S.toLocaleDateString()),"YYYY-MM-DD"),format:"YYYY-MM-DD",onChange:function(t){t&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[];e.order.forEach((function(e){e.year===t.year&&e.month===t.month&&e.day===t.day&&a.push(e)})),c(a)}({year:t._d.getFullYear(),month:t._d.getMonth()+1,day:t._d.getDate()})},style:{width:240,margin:"25px 10px 5px"}}),r.a.createElement(Xe.a,{onClick:function(){c(e.order),document.querySelector(".ant-input").value=""},style:O.isMobile?{margin:"5px 10px",color:"#40A9FF !important"}:{margin:"25px 10px",color:"#40A9FF !important"}},"\u91cd\u7f6e")),r.a.createElement("div",{className:"order-page-body",style:O.isMobile?{backgroundColor:"white",margin:"5px"}:{backgroundColor:"white",margin:"0px 20px"}},r.a.createElement(zt.a,{columns:D,dataSource:l,rowKey:function(e){return e},rowSelection:k,style:{userSelect:"text"},scroll:{x:800},loading:s})))})),Jt=(a(722),a(432)),Qt=a(332),Xt=kt.a.Option,$t={labelCol:{span:6},wrapperCol:{span:14}},Zt={wrapperCol:{xs:{span:16,offset:0},sm:{span:16,offset:10}}},ea={handleFetchDisaccount:ot},ta=Object(o.b)((function(e){return{allProducts:e.product.allProducts,allDisaccount:e.form.allDisaccount}}),ea)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("one_time"),i=Object(d.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(null),p=Object(d.a)(m,2),f=p[0],y=p[1];Object(n.useEffect)((function(){e.title&&u("\u7f16\u8f91"===e.title?e.disaccountInfo.disaccountType:"one_time")}),[e.title]);var E=function(){e.setShowCreate(!1)},g=function(){var t=Object(V.a)(H.a.mark((function t(a){var n,r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(!0),"\u521b\u5efa"!==e.title||"reusable"!==a.disaccountType){t.next=8;break}for(r in n=[],e.allDisaccount)n.push(r.code);if(!(n.indexOf(a.code)>-1)){t.next=8;break}return c(!1),De.a.warn("\u8be5\u6298\u6263\u7801\u5df2\u5b58\u5728"),t.abrupt("return");case 8:Le.post("\u7f16\u8f91"===e.title?"/disaccount/update/".concat(e.disaccountInfo._id):"one_time"===a.disaccountType?"/disaccount/one_time":"/disaccount/reusable",Object(G.a)({},a,{productName:a.product[0],levelName:"all"===a.product[0]?"all":a.product[1],validUntil:a.validUntil?a.validUntil._d.getTime():99999999999999,code:a.code?a.code:Math.random().toString(36).substr(4,8).toUpperCase()+Math.random().toString(36).substr(4,8).toUpperCase(),number:a.number?a.number:9999})).then((function(t){if("one_time"===a.disaccountType&&Array.isArray(t.data)){e.handleFetchDisaccount();for(var n=[],r=0;r<t.data.length;r++)n.push(t.data[r].code+"\n");y(n.join(""))}else e.handleFetchDisaccount(),y(t.data.code);De.a.success(e.title+"\u6210\u529f"),c(!1)})).catch((function(e){console.log(e,"error"),De.a.error("\u521b\u5efa\u5931\u8d25"),c(!1)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return f?r.a.createElement(h.a,{visible:e.isShowCreate,title:"\u521b\u5efa\u6298\u6263",onCancel:E,footer:[],style:{width:"200px"},afterClose:function(){y(null)}},r.a.createElement(ut.a.TextArea,{rows:8,value:f}),r.a.createElement(Xe.a,{type:"primary",onClick:function(){Qt(f),De.a.success("\u5df2\u590d\u5236\u5230\u526a\u5207\u677f"),y(null),e.setShowCreate(!1)},style:{marginTop:15},block:!0},"\u590d\u5236")):r.a.createElement(h.a,{visible:e.isShowCreate,title:e.title+"\u6298\u6263",onCancel:E,footer:[],afterClose:function(){y(null)}},r.a.createElement(st.a,Object.assign({},$t,{onFinish:g,initialValues:"\u7f16\u8f91"===e.title?Object(G.a)({},e.disaccountInfo,{validUntil:pe()(e.disaccountInfo.validUntil),product:[e.disaccountInfo.productName,e.disaccountInfo.levelName]}):{}}),r.a.createElement(st.a.Item,{label:"\u6298\u6263\u7c7b\u578b",name:"disaccountType",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u578b"}]},r.a.createElement(jt.a.Group,{disabled:"\u7f16\u8f91"===e.title},r.a.createElement(jt.a.Button,{value:"one_time",onClick:function(){u("one_time")}},"\u4e00\u6b21\u6027"),r.a.createElement(jt.a.Button,{value:"reusable",onClick:function(){u("reusable")}},"\u53ef\u91cd\u590d"))),r.a.createElement(st.a.Item,{label:"\u9002\u7528\u8303\u56f4",name:"product",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9002\u7528\u8303\u56f4"}]},r.a.createElement(Jt.a,{options:[{value:"all",label:"\u5168\u90e8\u5546\u54c1"}].concat(Object(Qe.a)(e.allProducts.map((function(e){return{value:e.productName,label:e.productName,children:[{value:"all",label:"\u5168\u90e8\u7b49\u7ea7"}].concat(Object(Qe.a)(e.levelName.map((function(e){return{value:e,label:e}}))))}}))))})),r.a.createElement(st.a.Item,{label:"\u6298\u6263\u989d\u5ea6"},r.a.createElement(ut.a.Group,{compact:!0},r.a.createElement(st.a.Item,{name:"amountType",noStyle:!0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6298\u6263\u7c7b\u578b"}]},r.a.createElement(kt.a,{placeholder:"\u6298\u6263\u7c7b\u578b"},r.a.createElement(Xt,{value:"price"},"\u4ef7\u683c\u7acb\u51cf"),r.a.createElement(Xt,{value:"percentage"},"\u603b\u4ef7\u767e\u5206\u6bd4"))),r.a.createElement(st.a.Item,{name:"amount",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6298\u6263\u989d\u5ea6"}],noStyle:!0},r.a.createElement(It.a,null)))),r.a.createElement(st.a.Item,{label:"reusable"===s?"\u53ef\u7528\u6b21\u6570":"\u6298\u6263\u7801\u6570\u91cf",min:1,step:1,name:"number",rules:[{required:"reusable"!==s,message:"\u8bf7\u8f93\u5165\u6298\u6263\u6570\u91cf"}]},r.a.createElement(It.a,{placeholder:"reusable"===s?"\u4e0d\u586b\u5219\u65e0\u6b21\u6570\u9650\u5236":"",style:{width:"100%"},disabled:"\u7f16\u8f91"===e.title&&"one_time"===e.disaccountInfo.disaccountType})),"reusable"===s?r.a.createElement(st.a.Item,{label:"\u81ea\u5b9a\u4e49\u6298\u6263\u7801",name:"code"},r.a.createElement(ut.a,{placeholder:"\u4e0d\u586b\u5219\u7531\u7cfb\u7edf\u751f\u6210"})):null,r.a.createElement(st.a.Item,{label:"\u6709\u6548\u671f\u81f3",name:"validUntil"},r.a.createElement(Wt.a,{placeholder:"\u4e0d\u586b\u5219\u65e0\u65f6\u95f4\u9650\u5236"})),r.a.createElement(st.a.Item,Zt,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",loading:l},"\u63d0\u4ea4"))))})),aa=ut.a.Search,na={handleFetchDisaccount:ot},ra=Object(o.b)((function(e){return{disaccount:e.form.disaccount}}),na)((function(e){var t=Object(n.useState)(e.disaccount),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!0),i=Object(d.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),y=p[0],h=p[1],E=Object(n.useState)(-1),g=Object(d.a)(E,2),b=g[0],v=g[1],N=Object(n.useState)("\u521b\u5efa"),x=Object(d.a)(N,2),w=x[0],j=x[1],I=Object(n.useState)(null),k=Object(d.a)(I,2),D=k[0],S=k[1],P=Object(n.useState)([]),B=Object(d.a)(P,2),_=B[0],C=B[1],L=Object(n.useState)(!1),A=Object(d.a)(L,2),T=A[0],M=A[1];Object(n.useEffect)((function(){e.disaccount&&(u(!1),c(e.disaccount))}),[e.disaccount]);var F=function(){var t=Object(V.a)(H.a.mark((function t(a,n,r){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(!0),v(n),Le.post("/disaccount/delete/".concat(r._id)).then((function(t){h(!1),De.a.success("\u5220\u9664\u6210\u529f"),e.handleFetchDisaccount(),v(-1)})).catch((function(e){h(!1),v(-1),De.a.error("\u5220\u9664\u5931\u8d25")}));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),R={selectedRowKeys:_,onChange:function(e){C(e)}},Y=[{dataIndex:"code",key:"code",width:80,render:function(e,t,a){return r.a.createElement(Xe.a,{onClick:function(){j("\u7f16\u8f91"),S(t),M(!0)},size:"small"},"\u7f16\u8f91")}},{dataIndex:"code",key:"code",width:80,render:function(e,t,a){return r.a.createElement(Xe.a,{type:"primary",onClick:function(){F(t.code,a,t)},size:"small",loading:b===a&&y},"\u5220\u9664")}},{title:"\u6298\u6263\u7801",key:"code",dataIndex:"code",width:200},{title:"\u5546\u54c1\u540d\u79f0",key:"productName",dataIndex:"productName",width:120,render:function(e){return r.a.createElement("p",null,"all"===e?"\u5168\u90e8\u5546\u54c1":e)}},{title:"\u7b49\u7ea7\u540d\u79f0",key:"levelName",dataIndex:"levelName",width:100,render:function(e){return r.a.createElement("p",null,"all"===e?"\u5168\u90e8\u7b49\u7ea7":e)}},{title:"\u4f7f\u7528\u72b6\u6001",key:"activation",dataIndex:"activation",width:100,render:function(e){return e.length>0?r.a.createElement(f.a,{status:"success",text:"\u5df2\u6fc0\u6d3b"}):r.a.createElement(f.a,{status:"warning",text:"\u672a\u6fc0\u6d3b"})}},{title:"\u5df2\u7528\u6b21\u6570",key:"activation",dataIndex:"activation",width:100,render:function(e){return r.a.createElement("p",{style:{textAlign:"center"}},e.length)}},{title:"\u53ef\u7528\u6b21\u6570",key:"number",dataIndex:"number",width:100,render:function(e){return r.a.createElement("p",{style:{textAlign:"center"}},e)}},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"time",key:"time",width:140,render:function(e){return new Date(parseInt(e)).toLocaleDateString()}},{title:"\u5931\u6548\u65e5\u671f",dataIndex:"validUntil",key:"validUntil",width:140,render:function(e){return new Date(e).toLocaleDateString()}},{title:"\u6298\u6263",dataIndex:"amount",key:"amount",width:100,render:function(e,t,a){return r.a.createElement("span",null,t.amount,"price"===t.amountType?"\u5143":"%")}},{title:"\u6298\u6263\u7c7b\u578b",dataIndex:"disaccountType",key:"disaccountType",width:100,render:function(e){return"one_time"===e?r.a.createElement("span",null,"\u4e00\u6b21\u6027"):r.a.createElement("span",null,"\u53ef\u91cd\u590d")}}],q=new Date;return r.a.createElement("div",{className:"shadow-radius"},T&&r.a.createElement(ta,{isShowCreate:T,setShowCreate:M,title:w,disaccountInfo:D,setEditDisaccount:S}),r.a.createElement(yt,{title:"\u6298\u6263\u7ba1\u7406",desc:"\u7ba1\u7406\u4ee5\u5f80\u6240\u6709\u7684\u6298\u6263\u7801"}),r.a.createElement("div",{style:O.isMobile?{backgroundColor:"white",height:"170px",margin:"5px",zIndex:10}:{backgroundColor:"white",margin:"20px 20px 0 20px"}},r.a.createElement(aa,{placeholder:"\u641c\u7d22\u6298\u6263\u7801",enterButton:"\u641c\u7d22",style:O.isMobile?{width:240,margin:"25px 10px 5px 10px",height:"20px",fontSize:"25px"}:{width:300,margin:"25px 10px 5px 10px",height:"20px",fontSize:"25px"},onSearch:function(t){!function(t){var a=[];e.disaccount.forEach((function(e){e.code===t&&a.push(e)})),c(a)}(t)}}),r.a.createElement(Wt.a,{defaultValue:pe()("".concat(q.toLocaleDateString()),"YYYY-MM-DD"),format:"YYYY-MM-DD",onChange:function(t){t&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[];e.disaccount.forEach((function(e){e.year===t.year&&e.month===t.month&&e.day===t.day&&a.push(e)})),c(a)}({year:t._d.getFullYear(),month:t._d.getMonth()+1,day:t._d.getDate()})},style:{width:240,margin:"25px 10px 5px"}}),r.a.createElement(Xe.a,{onClick:function(){c(e.disaccount),document.querySelector(".ant-input").value=""},style:O.isMobile?{margin:"5px 10px",color:"#40A9FF !important"}:{margin:"25px 10px",color:"#40A9FF !important"}},"\u91cd\u7f6e"),r.a.createElement(Xe.a,{onClick:function(){M(!0),j("\u521b\u5efa")},type:"primary",style:O.isMobile?{margin:"5px 10px"}:{margin:"25px 20px"}},"\u521b\u5efa\u6298\u6263")),r.a.createElement("div",{className:"disaccount-page-body",style:O.isMobile?{backgroundColor:"white",margin:"5px"}:{backgroundColor:"white",margin:"0px 20px"}},r.a.createElement(zt.a,{columns:Y,dataSource:l&&Object(Qe.a)(l).reverse(),rowKey:function(e){return e},rowSelection:R,style:{userSelect:"text"},scroll:{x:800},loading:s})))})),la=a(902),ca=a(888),oa=(a(726),Object(la.a)({scriptUrl:"//at.alicdn.com/t/font_1701775_nrcqx2lm5ri.js"})),ia={handleFetchForm:it,handleVerifyDialog:lt},sa=Object(o.b)((function(e){return{isVerified:e.form.isVerified}}),ia)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=r.a.createRef();Object(n.useEffect)((function(){o.current.setFieldsValue(null)}),[]);return r.a.createElement("div",{className:"alipay-container",style:{position:"relative"}},r.a.createElement(ft,null),r.a.createElement(m.a,{justify:"center",style:{marginTop:"20px"}},"alipay"===e.mode?r.a.createElement(ca.a,{className:"alipay-icon"}):r.a.createElement(oa,{type:"icon-social-paypal",className:"paypal-icon"}),r.a.createElement("p",{className:"alipay-title"},e.title)),r.a.createElement(st.a,Object.assign({},{labelCol:{xs:{span:5,offset:0},sm:{span:5,offset:3}},wrapperCol:{xs:{span:8,offset:0},sm:{span:12,offset:0}}},{onFinish:function(t){if(c(!0),!e.isVerified)return e.handleVerifyDialog(!0),void c(!1);Le.post("/".concat(e.mode,"/").concat(e.formData._id),Object(G.a)({},t)).then((function(){De.a.success("\u4fdd\u5b58\u6210\u529f"),c(!1),e.handleFetchForm()})).catch((function(e){c(!1),De.a.error(e.response.data.message)}))},ref:o,name:"control-ref",style:{marginTop:"40px"}}),"alipay"===e.mode?r.a.createElement("div",null,r.a.createElement(st.a.Item,{label:"\u5e94\u7528ID",name:"appId",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7533\u8bf7\u7684\u5e94\u7528ID"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7533\u8bf7\u7684\u5e94\u7528ID"})),r.a.createElement(st.a.Item,{name:"publicKey",label:"\u652f\u4ed8\u5b9d\u516c\u5319",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5b9d\u516c\u5319"}]},r.a.createElement(ut.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5b9d\u516c\u5319\uff08\u6ce8\u610f\u4e0d\u662f\u5e94\u7528\u516c\u5319\uff09",autoSize:{minRows:3,maxRows:5}})),r.a.createElement(st.a.Item,{name:"secretKey",label:"\u5e94\u7528\u79c1\u5319",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e94\u7528\u79c1\u5319"}]},r.a.createElement(ut.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165RSA2(SHA256)\u79c1\u5319",autoSize:{minRows:3,maxRows:5}})),r.a.createElement(st.a.Item,{label:"\u670d\u52a1\u5668\u57df\u540d",name:"notifyUrl",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u670d\u52a1\u5668\u57df\u540d"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u670d\u52a1\u5668\u57df\u540d\uff0c\u8bf7\u5e26\u4e0ahttp\u6216https"}))):r.a.createElement("div",null,r.a.createElement(st.a.Item,{label:"ClientID",name:"clientId",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7533\u8bf7\u7684ClientID"}]},r.a.createElement(ut.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7533\u8bf7\u7684ClientID",autoSize:{minRows:3,maxRows:5}})),r.a.createElement(st.a.Item,{label:"Secret",name:"secret",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7533\u8bf7\u7684Secret"}]},r.a.createElement(ut.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7533\u8bf7\u7684Secret",autoSize:{minRows:3,maxRows:5}}))),r.a.createElement(st.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(Xe.a,{onClick:function(){e.isVerified?o.current.setFieldsValue(e.formData):e.handleVerifyDialog(!0)},style:{marginRight:"10px"}},"\u663e\u793a\u8868\u5355\u6570\u636e"),r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",loading:l},"\u4fdd\u5b58"))))})),ua=(a(727),S.a.Item),ma={alipay:"\u652f\u4ed8\u5b9d",paypal:"Paypal"},da=Object(o.b)((function(e){return{alipay:e.form.alipay,wechatPay:e.form.wechatPay,paypal:e.form.paypal}}),{})((function(e){var t=Object(n.useState)("inline"),a=Object(d.a)(t,2),l=a[0],c=(a[1],Object(n.useState)("alipay")),o=Object(d.a)(c,2),i=o[0],s=o[1];Object(n.useEffect)((function(){return window.addEventListener("resize",u),u(),window.removeEventListener("resize",u)}),[]);var u=function(){};return r.a.createElement("div",{className:"product-page-container",style:{position:"relative"}},r.a.createElement(yt,{title:"\u652f\u4ed8\u8bbe\u7f6e",desc:"\u5728\u8fd9\u91cc\u6dfb\u52a0\u4f60\u7684\u6536\u6b3e\u8d26\u6237"}),r.a.createElement("div",{className:"main",style:O.isMobile?{margin:"5px"}:{margin:"20px"}},r.a.createElement("div",{className:"leftMenu",style:O.isMobile?{width:"100%"}:{}},r.a.createElement(S.a,{mode:l,selectedKeys:[i],onClick:function(e){return function(e){s(e)}(e.key)},className:"payment-page",style:{marginTop:"10px"}},Object.keys(ma).map((function(e){return r.a.createElement(ua,{key:e},ma[e])})))),r.a.createElement("div",{className:"right",style:O.isMobile?{padding:0}:{}},function(){switch(i){case"alipay":return r.a.createElement(sa,{formData:e.alipay,mode:"alipay",name:"\u652f\u4ed8\u5b9d",title:"\u6dfb\u52a0\u652f\u4ed8\u5b9d\u5f53\u9762\u4ed8"});case"paypal":return r.a.createElement(sa,{formData:e.paypal,mode:"paypal",name:"PayPal",title:"\u6dfb\u52a0PayPal"})}return null}())))})),pa=(a(728),a(729),Object(la.a)({scriptUrl:"//at.alicdn.com/t/font_1701775_nrcqx2lm5ri.js"})),fa={handleFetchForm:it,handleVerifyDialog:lt,handleFetchSetting:nt},ya=Object(o.b)((function(e){return{isVerified:e.form.isVerified,setting:e.product.setting}}),fa)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=e.email,i=r.a.createRef();Object(n.useEffect)((function(){e.isVerified&&i.current.setFieldsValue(o)}),[e.mailName]);return r.a.createElement("div",{className:"mail-page-container"},r.a.createElement(m.a,{justify:"center",style:{marginTop:"20px"}},r.a.createElement(pa,{type:e.iconName,className:"paypal-icon"}),r.a.createElement("p",{className:"paypal-title"},"\u6dfb\u52a0 ".concat(e.mailTitle,"\u90ae\u7bb1"))),r.a.createElement(ft,null),r.a.createElement("div",{style:{backgroundColor:"white"},className:"mail-page-setting"},r.a.createElement(st.a,Object.assign({},{labelCol:{xs:{span:5,offset:0},sm:{span:5,offset:3}},wrapperCol:{xs:{span:8,offset:0},sm:{span:12,offset:0}}},{ref:i,name:"control-ref",onFinish:function(t){if(c(!0),!e.isVerified)return e.handleVerifyDialog(!0),void c(!1);1===t.defaultMail&&Le.post("/setting/".concat(e.setting._id),Object(G.a)({},e.setting,{defaultMail:e.mailName})).then((function(){e.handleFetchSetting()})).catch((function(){De.a.error("\u4fee\u6539\u9ed8\u8ba4\u90ae\u7bb1\u5931\u8d25")})),Le.post("/email/".concat(o._id),Object(G.a)({},t,{mailName:e.mailName})).then((function(){De.a.success("\u4fdd\u5b58\u6210\u529f"),e.handleFetchForm(),c(!1)})).catch((function(){De.a.error("\u4fdd\u5b58\u90ae\u7bb1\u5931\u8d25"),c(!1)}))},initialValues:e.isVerified&&o?Object(G.a)({},o,{defaultMail:1}):{defaultMail:1},style:{marginTop:"40px"}}),r.a.createElement(st.a.Item,{label:"".concat(e.mailTitle,"\u90ae\u7bb1\u5730\u5740"),name:"mailAddress",rules:[{required:!0,message:"\u8bf7\u8f93\u5165".concat(e.mailTitle,"\u90ae\u7bb1\u5730\u5740")}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165".concat(e.mailTitle,"\u90ae\u7bb1\u5730\u5740")})),r.a.createElement(st.a.Item,{label:"".concat(e.mailTitle,"\u90ae\u7bb1\u6388\u6743\u7801"),name:"mailPassword",rules:[{required:!0,message:"\u8bf7\u8f93\u5165".concat(e.mailTitle,"\u90ae\u7bb1\u6388\u6743\u7801")}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165".concat(e.mailTitle,"\u90ae\u7bb1\u6388\u6743\u7801")})),r.a.createElement(st.a.Item,{label:"\u53d1\u4ef6\u4eba\u6635\u79f0",name:"sendName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u53d1\u4ef6\u4eba\u6635\u79f0"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u53d1\u4ef6\u4eba\u6635\u79f0"})),r.a.createElement(st.a.Item,{label:"\u8bbe\u4e3a\u9ed8\u8ba4",name:"defaultMail",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u8bbe\u4e3a\u9ed8\u8ba4\u90ae\u7bb1"}]},r.a.createElement(jt.a.Group,null,r.a.createElement(jt.a,{value:1},"\u662f"),r.a.createElement(jt.a,{value:2},"\u5426"))),r.a.createElement(st.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(Xe.a,{onClick:function(){e.isVerified?i.current.setFieldsValue(o):e.handleVerifyDialog(!0)}},"\u663e\u793a\u8868\u5355\u6570\u636e"),r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",loading:l,style:{marginLeft:"10px"}},"\u4fdd\u5b58")))))})),ha=S.a.Item,Ea={qqMail:"QQ \u90ae\u7bb1",neteaseMail:"163 \u90ae\u7bb1"},ga=Object(o.b)((function(e){return{email:e.form.email,isVerified:e.form.isVerified}}),{})((function(e){var t=Object(n.useState)("inline"),a=Object(d.a)(t,2),l=a[0],c=(a[1],Object(n.useState)("qqMail")),o=Object(d.a)(c,2),i=o[0],s=o[1];Object(n.useEffect)((function(){return window.addEventListener("resize",u),u(),window.removeEventListener("resize",u)}));var u=function(){};return r.a.createElement("div",{className:"shadow-radius"},r.a.createElement(yt,{title:"\u90ae\u7bb1\u8bbe\u7f6e",desc:"\u5728\u8fd9\u91cc\u586b\u5199\u60a8\u7528\u4e8e\u53d1\u9001\u8ba2\u5355\u7684\u90ae\u7bb1"}),r.a.createElement("div",{className:"main",style:O.isMobile?{margin:"5px"}:{margin:"20px"}},r.a.createElement("div",{className:"leftMenu",style:O.isMobile?{width:"100%"}:{}},r.a.createElement(S.a,{mode:l,selectedKeys:[i],onClick:function(e){return function(e){s(e)}(e.key)},className:"payment-page",style:{marginTop:"10px"}},Object.keys(Ea).map((function(e){return r.a.createElement(ha,{key:e},Ea[e])})))),r.a.createElement("div",{className:"right",style:O.isMobile?{padding:0}:{}},function(){switch(i){case"qqMail":return r.a.createElement(ya,{mailName:"qq",mailTitle:"QQ",iconName:"icon-QQyouxiango",mailLink:"https://service.mail.qq.com/cgi-bin/help?subtype=1&&no=1001256&&id=28",email:e.email.filter((function(e){return"qq"===e.mailName}))[0]});case"neteaseMail":return r.a.createElement(ya,{mailName:"163",mailTitle:"163",iconName:"icon-wangyi",mailLink:"http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2cda80145a1742516",email:e.email.filter((function(e){return"163"===e.mailName}))[0]});case"gmail":return r.a.createElement(ya,{mailName:"gmail",mailTitle:"Gmail",iconName:"icon-Gmail",mailLink:"https://codeburst.io/sending-an-email-using-nodemailer-gmail-7cfa0712a799",email:e.email.filter((function(e){return"gmail"===e.mailName}))[0]})}return null}())))})),ba=(a(730),a(887)),va=Object(o.b)((function(e){return{setting:e.product.setting}}),{})(Object(s.g)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(-1),i=Object(d.a)(o,2),s=i[0],u=i[1],m=r.a.createElement(p.a,{rowKey:"id",grid:{gutter:24,xl:4,lg:3,md:3,sm:2,xs:1},dataSource:[{id:"default",title:"\u9ed8\u8ba4\u4e3b\u9898",cover:"/assets/theme/default_demo.svg",href:"",subDescription:"\u6ca1\u6709\u4f60\uff0c\u826f\u8fb0\u7f8e\u666f\u66f4\u4e0e\u4f55\u4eba\u8bf4\uff01"},{id:"tech",title:"\u79d1\u6280\u4e3b\u9898",cover:"/assets/theme/tech_demo.svg",href:"",subDescription:"\u57ce\u9547\u4e2d\u6709\u90a3\u4e48\u591a\u7684\u9152\u9986\uff0c\u5979\u5374\u504f\u504f\u8d70\u8fdb\u4e86\u6211\u7684\u9152\u9986"},{id:"nostalgic",title:"\u590d\u53e4\u4e3b\u9898",cover:"/assets/theme/nostalgic_demo.svg",href:"",subDescription:"\u4eba\u751f\u5c31\u50cf\u4e00\u76d2\u5de7\u514b\u529b\uff0c\u4f60\u6c38\u8fdc\u4e0d\u77e5\u9053\u4e0b\u4e00\u9897\u662f\u4ec0\u4e48\u5473\u9053\u3002"},{id:"blur",title:"\u6bdb\u73bb\u7483\u4e3b\u9898",cover:"/assets/theme/blur_demo.svg",href:"",subDescription:"\u6211\u628a\u4f60\u7684\u886c\u886b\u653e\u8fdb\u6211\u7684\u886c\u886b\u91cc\uff0c\u4ee5\u4e3a\u8fd9\u6837\u5c31\u53ef\u4ee5\u4fdd\u62a4\u4f60\u4e86"},{id:"black_yellow",title:"\u9ec4\u9ed1\u4e3b\u9898",cover:"/assets/theme/black_yellow_demo.svg",href:"",subDescription:"\u5f53\u6211\u7ad9\u5728\u7011\u5e03\u524d\uff0c\u89c9\u5f97\u975e\u5e38\u7684\u96be\u8fc7\uff0c\u6211\u603b\u89c9\u5f97\uff0c\u5e94\u8be5\u662f\u4e24\u4e2a\u4eba\u7ad9\u5728\u8fd9\u91cc"},{id:"blue_white",title:"\u84dd\u767d\u4e3b\u9898",cover:"/assets/theme/blue_white_demo.svg",href:"",subDescription:"\u4e00\u76f4\u4ee5\u4e3a\u6211\u8ddf\u4ed6\u4e0d\u4e00\u6837\uff0c\u539f\u6765\u5bc2\u5bde\u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u4eba\u90fd\u4e00\u6837"},{id:"blue_gray",title:"\u7070\u84dd\u4e3b\u9898",cover:"/assets/theme/blue_gray_demo.svg",href:"",subDescription:"\u4eba\u751f\u548c\u7535\u5f71\u4e0d\u4e00\u6837\uff0c\u4eba\u751f\u8f9b\u82e6\u591a\u4e86"},{id:"purple_yellow",title:"\u9ec4\u7d2b\u4e3b\u9898",cover:"/assets/theme/purple_yellow_demo.svg",href:"",subDescription:"\u4eba\u751f\u672c\u5c31\u662f\u82e6\u8fd8\u662f\u53ea\u6709\u7ae5\u5e74\u82e6\uff1f\u751f\u547d\u5c31\u662f\u5982\u6b64"},{id:"black_blue",title:"\u9ed1\u84dd\u4e3b\u9898",cover:"/assets/theme/black_blue_demo.svg",href:"",subDescription:"\u4e00\u4e2a\u65f6\u4ee3\u7ed3\u675f\u4e86\uff0c\u5c5e\u4e8e\u90a3\u4e2a\u65f6\u4ee3\u7684\u4e00\u5207\u90fd\u4e0d\u590d\u5b58\u5728"},{id:"dark_blue",title:"\u6697\u84dd\u4e3b\u9898",cover:"/assets/theme/dark_blue_demo.svg",href:"",subDescription:"\u6211\u4e00\u4e2a\u4eba\u53ea\u80fd\u5168\u529b\u4ee5\u8d74\uff0c\u7b49\u5f85\u547d\u8fd0\u53bb\u63ed\u6653\u7b54\u6848"}],renderItem:function(t,a){return r.a.createElement(p.a.Item,null,r.a.createElement(y.a,{className:"theme-card",hoverable:!0,cover:r.a.createElement("img",{alt:t.title,src:t.cover,className:"theme-card-cover"}),actions:[r.a.createElement("div",{key:"apply",onClick:function(){!function(t,a){c(!0),u(a),Le.post("/setting/".concat(e.setting._id),Object(G.a)({},e.setting,{themeOption:t})).then((function(){c(!1),u(-1),De.a.success("\u5e94\u7528\u6210\u529f\uff0c\u5feb\u53bb\u5546\u54c1\u9875\u67e5\u770b\u6548\u679c\u5427")})).catch((function(){c(!1),u(-1),De.a.error("\u5e94\u7528\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")}))}(t.id,a)}},l&&a===s?r.a.createElement(ht.a,null):r.a.createElement(ba.a,null),"\xa0 \u5e94\u7528\u4e3b\u9898")]},r.a.createElement(y.a.Meta,{title:t.title,description:t.subDescription})))}});return r.a.createElement("div",{className:"product-page-container",style:{position:"relative"}},r.a.createElement(yt,{title:"\u4e3b\u9898\u8bbe\u7f6e",desc:"\u5728\u8fd9\u91cc\u9009\u62e9\u5546\u54c1\u9875\u7684\u4e3b\u9898"}),r.a.createElement("div",{className:"coverCardList",style:O.isMobile?{margin:"5px"}:{margin:"20px"}},r.a.createElement("div",{className:"cardList",style:O.isMobile?{margin:"5px"}:{margin:"20px 0px"}},m)))}))),Na=a(427),xa=S.a.Item,Oa={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},wa={labelCol:{sm:{span:8}},wrapperCol:{sm:{span:12,offset:0}}},ja={info:"\u8d26\u6237\u4fe1\u606f",changeEmail:"\u66f4\u6539\u90ae\u7bb1",changePassword:"\u66f4\u6539\u5bc6\u7801"},Ia=Object(o.b)((function(e){return{user:e.form.user,setting:e.product.setting}}),{})(Object(s.g)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("info"),i=Object(d.a)(o,2),s=i[0],u=i[1],m=function(t){c(!0),Le.post("/user/update/".concat(e.user._id),t).then((function(){De.a.success("\u4fdd\u5b58\u6210\u529f"),c(!1)})).catch((function(){De.a.error("\u4fdd\u5b58\u5931\u8d25"),c(!1)}))},p=function(){var e=Object(V.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Pe.a.get("https://api.github.com/repos/troyeguo/coodo-pay/releases/latest");case 3:200===(t=e.sent).status?parseInt(t.data.name)>parseInt(Na.a)?h.a.info({title:"\u68c0\u67e5\u5230\u65b0\u7248\u672c",content:r.a.createElement("div",null,r.a.createElement("p",null,"\u5feb\u53bb Github \u66f4\u65b0\u5427\uff01")),onOk:function(){c(!1)}}):(De.a.success("\u6682\u65e0\u7248\u672c\u66f4\u65b0"),c(!1)):(De.a.error("\u68c0\u67e5\u66f4\u65b0\u5931\u8d25"),c(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"product-page-container",style:{position:"relative"}},r.a.createElement(yt,{title:"\u8d26\u6237\u4fe1\u606f",desc:"\u4fee\u6539\u8d26\u6237\u7684\u90ae\u7bb1\u3001\u5bc6\u7801\uff0c\u68c0\u67e5\u66f4\u65b0"}),r.a.createElement("div",{className:"main",style:O.isMobile?{margin:"5px",height:"100%",position:"relative"}:{margin:"20px",height:"100%",position:"relative"}},r.a.createElement("div",{className:"leftMenu",style:O.isMobile?{width:"100%"}:{}},r.a.createElement(S.a,{mode:"inline",selectedKeys:[s],onClick:function(e){return function(e){u(e)}(e.key)},className:"payment-page",style:{marginTop:"10px"}},Object.keys(ja).map((function(e){return r.a.createElement(xa,{key:e},ja[e])})))),r.a.createElement("div",{className:"right",style:O.isMobile?{padding:0}:{marginLeft:"50px"}},function(){switch(s){case"info":return r.a.createElement(Lt.a,{title:"\u8d26\u6237\u4fe1\u606f",style:{padding:20}},r.a.createElement(Lt.a.Item,{label:"\u90ae\u7bb1"},e.user.email),r.a.createElement(Lt.a.Item,{label:"\u6ce8\u518c\u65e5\u671f"},e.user.date),r.a.createElement(Lt.a.Item,{label:"\u5f53\u524d\u7248\u672c"},e.setting.version),r.a.createElement(Lt.a.Item,{label:"\u68c0\u67e5\u66f4\u65b0"},r.a.createElement(Xe.a,{type:"primary",onClick:p,loading:l},"\u68c0\u67e5\u66f4\u65b0"),r.a.createElement("a",{href:"https://github.com/troyeguo/coodo-pay",target:"_blank",rel:"noopener noreferrer"},"\xa0\xa0\xa0\u66f4\u65b0\u5730\u5740")));case"changeEmail":return r.a.createElement(st.a,Object.assign({},wa,{onFinish:m,initialValues:e.formData?e.formData:null,style:{marginTop:"40px"}}),r.a.createElement(st.a.Item,{label:"\u65b0\u90ae\u7bb1",name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"})),r.a.createElement(st.a.Item,{label:"\u5b89\u5168\u95ee\u98981",name:"answer1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"})),r.a.createElement(st.a.Item,{label:"\u5b89\u5168\u95ee\u98982",name:"answer2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"})),r.a.createElement(st.a.Item,Oa,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",loading:l},"\u4fdd\u5b58")));case"changePassword":return r.a.createElement(st.a,Object.assign({},wa,{onFinish:m,initialValues:e.formData?e.formData:null,style:{marginTop:"40px"}}),r.a.createElement(st.a.Item,{label:"\u65b0\u5bc6\u7801",name:"password",rules:[{min:8,message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e8\u4f4d"},{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},r.a.createElement(ut.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),r.a.createElement(st.a.Item,{label:"\u5b89\u5168\u95ee\u98981",name:"answer1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"})),r.a.createElement(st.a.Item,{label:"\u5b89\u5168\u95ee\u98982",name:"answer2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"})),r.a.createElement(st.a.Item,Oa,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",loading:l},"\u4fdd\u5b58")))}return null}())))}))),ka=(a(731),a(290)),Da=(a(733),ut.a.Search),Sa=ka.a.Panel,Pa=Object(o.b)((function(e){return{customer:e.form.customer}}),{})((function(e){var t=Object(n.useState)(e.customer),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!0),i=Object(d.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),f=p[0],y=p[1];Object(n.useEffect)((function(){e.customer&&(u(!1),c(e.customer))}),[e.customer]);var h={selectedRowKeys:f,onChange:function(e){y(e)}},E=[{title:"\u7528\u6237\u6635\u79f0",key:"nickname",dataIndex:"nickname",width:150},{title:"\u90ae\u7bb1",key:"email",dataIndex:"email",width:200},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"date",key:"date",width:140},{title:"\u7528\u6237\u4f59\u989d",dataIndex:"balance",key:"balance",width:100,render:function(e){return r.a.createElement("span",null,e||0,"\u5143")}},{title:"\u8d2d\u4e70\u8bb0\u5f55",dataIndex:"orders",key:"orders",width:700,render:function(e){return e&&e.length>0?r.a.createElement(ka.a,{style:{position:"relative",bottom:"13px"}},r.a.createElement(Sa,{header:"\u6240\u6709\u8bb0\u5f55"},e.map((function(e){return r.a.createElement("p",null,"\u65e5\u671f\uff1a",e.date,"\xa0 \u5546\u54c1\u540d\u79f0\uff1a",e.productName,"\xa0 \u5546\u54c1\u7b49\u7ea7\uff1a",e.levelName,"\xa0 \u4ef7\u683c\uff1a",e.price,"\u5143 \xa0 \u8ba2\u5355\u7f16\u53f7\uff1a",e.orderId,"\xa0")})))):"\u65e0"}}],g=new Date;return r.a.createElement("div",{className:"shadow-radius"},r.a.createElement(yt,{title:"\u7528\u6237\u7ba1\u7406",desc:"\u7ba1\u7406\u6240\u6709\u7684\u7528\u6237"}),r.a.createElement("div",{style:O.isMobile?{backgroundColor:"white",zIndex:10}:{backgroundColor:"white",margin:"20px 20px 0 20px"}},r.a.createElement(Da,{placeholder:"\u641c\u7d22\u6635\u79f0\u3001\u90ae\u7bb1",enterButton:"\u641c\u7d22",style:O.isMobile?{width:240,margin:"25px 10px 5px 10px",height:"20px",fontSize:"25px"}:{width:300,margin:"25px 10px 5px 10px",height:"20px",fontSize:"25px"},onSearch:function(t){!function(t){var a=[];e.customer.forEach((function(e){e.email!==t&&e.nickname!==t||a.push(e)})),c(a)}(t)}}),r.a.createElement(Wt.a,{defaultValue:pe()("".concat(g.toLocaleDateString()),"YYYY-MM-DD"),format:"YYYY-MM-DD",onChange:function(t){t&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[];e.customer.forEach((function(e){e.year===t.year&&e.month===t.month&&e.day===t.day&&a.push(e)})),c(a)}({year:t._d.getFullYear(),month:t._d.getMonth()+1,day:t._d.getDate()})},style:{width:240,margin:"25px 10px 5px"}}),r.a.createElement(Xe.a,{onClick:function(){c(e.customer),document.querySelector(".ant-input").value=""},style:O.isMobile?{margin:"5px 10px",color:"#40A9FF !important"}:{margin:"25px 10px",color:"#40A9FF !important"}},"\u91cd\u7f6e")),r.a.createElement("div",{className:"order-page-body",style:O.isMobile?{backgroundColor:"white",margin:"5px"}:{backgroundColor:"white",margin:"0px 20px"}},r.a.createElement(zt.a,{columns:E,dataSource:l,rowKey:function(e){return e},rowSelection:h,style:{userSelect:"text"},scroll:{x:800},loading:s})))})),Ba=Object(s.g)((function(e){return r.a.createElement(Tt.a,{status:"404",title:"404",subTitle:"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728",extra:r.a.createElement(Xe.a,{type:"primary",onClick:function(){e.history.push("/productList")}},"\u8fd4\u56de\u9996\u9875")})})),_a=Object(s.g)((function(e){return r.a.createElement(Tt.a,{status:"500",title:"500",subTitle:"\u62b1\u6b49\uff0c\u670d\u52a1\u5668\u9519\u8bef",extra:r.a.createElement(Xe.a,{type:"primary",onClick:function(){e.history.push("/productList")}},"\u8fd4\u56de\u9996\u9875")})})),Ca=[{path:"/dashboard",component:Je},{path:"/productList",component:Nt},{path:"/productAdd",component:Vt},{path:"/order",component:Gt},{path:"/disaccount",component:ra},{path:"/customer",component:Pa},{path:"/payment",component:da},{path:"/mail",component:ga},{path:"/theme",component:va},{path:"/account",component:Ia},{path:"/error/404",component:Ba},{path:"/error/500",component:_a}],La=Object(s.g)(Object(o.b)((function(e){return{setting:e.product.setting}}))((function(e){(function(){var t=Object(V.a)(H.a.mark((function t(){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("yes"!==(a=e.setting).isFirst){t.next=4;break}return t.next=4,Le.post("/setting/".concat(a._id),{isFirst:"no"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()();var t=new Date;return r.a.createElement("div",{className:"content-container",style:{height:"calc(100% - 61px)"}},r.a.createElement(s.d,null,Ca.map((function(e){return r.a.createElement(s.b,{render:function(){return r.a.createElement(e.component,null)},key:e.path,path:e.path})})),r.a.createElement(s.a,{from:"/",exact:!0,to:"/productList"}),r.a.createElement(s.a,{to:"/error/404"})),r.a.createElement("div",{className:"default-footer"},"Supported by",r.a.createElement("a",{href:"https://github.com/troyeguo/coodo-pay",target:"_blank",rel:"noopener noreferrer"}," ","Coodo Pay"),", Copyright \xa9 ",t.getFullYear(),r.a.createElement("a",{href:"https://github.com/troyeguo",target:"_blank",rel:"noopener noreferrer"}," ","App by Troye")))}))),Aa=(a(734),{handleFetchForm:it,handleFetchSetting:nt,handleFetchOrder:ct,handleFetchAllProduct:at,handleFetchDisaccount:ot}),Ta=Object(o.b)((function(e){return{allProducts:e.product.allProducts,user:e.form.user,setting:e.product.setting,order:e.form.order}}),Aa)((function(e){var t=Object(n.useState)(!0),a=Object(d.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){e.handleFetchAllProduct(),e.handleFetchDisaccount(),e.handleFetchForm(),e.handleFetchSetting()}),[]),Object(n.useEffect)((function(){e.handleFetchOrder()}),[l]),Object(n.useEffect)((function(){c(!(e.allProducts&&e.setting&&e.user))}),[e.allProducts,e.setting,e.user]);return r.a.createElement("div",{className:"admin-container",style:{height:"100%"}},l?r.a.createElement("div",{className:"fetching-data-mask"},r.a.createElement("img",{src:"/assets/theme/default.svg",alt:"",className:"login-mask-image"}),r.a.createElement(m.a,{justify:"center",className:"login-mask-title",style:{fontWeight:"bold"}},"Coodo Pay"),r.a.createElement(m.a,{justify:"center",className:"login-mask-subtitle"},r.a.createElement("span",null,"\ud83d\udc4f")," \u6b22\u8fce\u4f7f\u7528\u53ef\u9053\u652f\u4ed8"),r.a.createElement(ke,null),r.a.createElement(m.a,{justify:"center",style:{lineHeight:"40px"}},"\u6b63\u5728\u4e3a\u60a8\u52a0\u8f7d\u6570\u636e"),r.a.createElement(m.a,{className:"login-title",justify:"center"},r.a.createElement("div",{style:{width:"150px"}},r.a.createElement("img",{src:"../assets/logo.svg",alt:"",className:"login-logo",style:{width:"30px",marginTop:"30px"}}),r.a.createElement("span",{className:"login-mask-text"},"Coodo Pay"))),r.a.createElement(m.a,{justify:"center"})):r.a.createElement(u.a,{style:{height:"100%"}},r.a.createElement(Y,null),r.a.createElement(u.a,null,r.a.createElement(D,null),r.a.createElement(La,null))))})),Ma=(a(333),a(125)),Fa=(a(735),a(910)),Ra=a(909),Ya=st.a.Item,qa={handleUserInfo:x,handleFetchSetting:nt},Ha=Object(o.b)((function(e){return{user:e.form.user,setting:e.product.setting}}),qa)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)(!1),f=Object(d.a)(p,2),y=f[0],E=f[1];Object(n.useEffect)((function(){e.handleFetchSetting(),Le.get("/setting").then((function(e){"yes"===e.data.isFirst&&E(!0)}))}),[]);var g=function(e){c(e)};return r.a.createElement("div",{className:"login-container"},r.a.createElement(h.a,{title:"\u6ce8\u518c\u7528\u6237",visible:y,onOk:function(){E(!1),e.history.push("/install")},onCancel:function(){E(!1)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},r.a.createElement("p",null,"\u8fd9\u4f3c\u4e4e\u662f\u60a8\u7b2c\u4e00\u6b21\u4f7f\u7528 Coodo Pay\uff0c\u662f\u5426\u5f00\u59cb\u6ce8\u518c\u60a8\u7684\u7ba1\u7406\u5458\u8d26\u6237")),r.a.createElement("img",{src:"assets/login.svg",alt:"",className:"login-image"}),r.a.createElement(m.a,{className:"login-title",justify:"center"},r.a.createElement("div",{style:{width:"400px"}},r.a.createElement("img",{src:"../assets/logo.svg",alt:"",className:"login-logo",style:{width:"50px",marginTop:"70px",marginLeft:"70px"}}),r.a.createElement("span",{className:"login-logo-text"},"Coodo Pay"))),r.a.createElement(m.a,{span:12,justify:"center",className:"login-subtitle"},"\u4e00\u4e2a\u57fa\u4e8e React \u548c Koa2 \u5f00\u53d1\u7684\u5728\u7ebf\u652f\u4ed8\u7cfb\u7edf"),r.a.createElement(m.a,{justify:"center",span:8},r.a.createElement("div",{className:"login-form"},r.a.createElement(st.a,{className:"login-form",initialValues:document.URL.indexOf("960960.xyz")>-1?{email:"admin@960960.xyz",password:"12345678",remember:!0}:{remember:!0},onFinish:function(t){u(!0),l?Le.post("/user/forget",t).then((function(){De.a.success("\u4fee\u6539\u6210\u529f\uff0c\u8bf7\u4f7f\u7528\u65b0\u5bc6\u7801\u767b\u5f55"),u(!1)})).catch((function(e){De.a.error(e.response.data.message),u(!1)})):Le.post("/user/login",t).then((function(t){localStorage.setItem("jwt",t.data),e.history.push("/productList"),De.a.success("\u767b\u5f55\u6210\u529f"),u(!1)})).catch((function(e){De.a.error("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"),u(!1)}))}},l?r.a.createElement("div",null,r.a.createElement(Ya,{name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1\uff01"}],style:{marginBottom:"10px"}},r.a.createElement(ut.a,{placeholder:"\u90ae\u7bb1",className:"login-input",prefix:r.a.createElement(Fa.a,null)})),r.a.createElement(Ya,{name:"answer1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"}],style:{marginBottom:"10px"}},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d",className:"login-input"})),r.a.createElement(Ya,{name:"answer2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"}],style:{marginBottom:"10px"}},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57",className:"login-input"})),r.a.createElement(Ya,{name:"password",rules:[{min:8,message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e8\u4f4d"},{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}],style:{marginBottom:"10px"}},r.a.createElement(ut.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",className:"login-input",prefix:r.a.createElement(Ra.a,null)}))):r.a.createElement("div",null,r.a.createElement(Ya,{name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1\uff01"}]},r.a.createElement(ut.a,{placeholder:"\u90ae\u7bb1",className:"login-input",prefix:r.a.createElement(Fa.a,null)})),r.a.createElement(Ya,{name:"password",rules:[{min:8,message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e8\u4f4d"},{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}],style:{marginBottom:"10px"}},r.a.createElement(ut.a.Password,{placeholder:"\u5bc6\u7801",prefix:r.a.createElement(Ra.a,null),className:"login-input"})),r.a.createElement(m.a,{justify:"space-between"},r.a.createElement(z.a,{style:{height:"35px"}},r.a.createElement(st.a.Item,{name:"remember",valuePropName:"checked"},r.a.createElement(Ma.a,null,"\u8bb0\u4f4f\u5bc6\u7801"))),r.a.createElement(z.a,{style:{height:"30px",lineHeight:"35px",color:"#40a9ff",cursor:"pointer"},onClick:function(){g(!0)}},"\u5fd8\u8bb0\u5bc6\u7801"))),r.a.createElement(Ya,null,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:s,style:{marginTop:"10px"}},l?"\u63d0\u4ea4":"\u767b\u5f55"),l?r.a.createElement(Xe.a,{size:"large",style:{marginTop:"10px"},onClick:function(){g(!1)}},"\u8fd4\u56de"):null)))))})),Va=(a(736),a(737),function(e){return r.a.createElement("div",{className:"contact-container"},r.a.createElement("div",{className:"contact-talk"},"\u8054\u7cfb\u6211\u4eec"),e.productInfo.contact.map((function(e,t){return r.a.createElement("div",{className:"contact-info",key:t},e)})),r.a.createElement("img",{src:"/assets/contact-header.png",alt:"",className:"contact-header"}),r.a.createElement("img",{src:"/assets/contact-footer.png",alt:"",className:"contact-footer"}))}),za=(a(738),a(81)),Wa=a.n(za),Ua=function(e){var t=Wa.a.enc.Utf8.parse("46cc793c53dc451b"),a=Wa.a.enc.Utf8.parse(e);return Wa.a.AES.encrypt(a,t,{mode:Wa.a.mode.ECB,padding:Wa.a.pad.Pkcs7}).toString()},Ka=me.a.TabPane,Ga=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),i=Object(d.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(null),p=Object(d.a)(m,2),f=p[0],y=p[1],E=Object(n.useState)(!1),g=Object(d.a)(E,2),b=g[0],v=g[1],N=Object(n.useState)(1),x=Object(d.a)(N,2),O=(x[0],x[1]),w=function(){var e=Object(V.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),void 0!==f.orderId?Le("/order/query?orderId=".concat(f.orderId)).then((function(e){u(e.data),v(!1),j()})).catch((function(e){v(!1),De.a.warning(e.response.data.message)})):Le("/order/query?email=".concat(f.email,"&&password=").concat(f.password)).then((function(e){u(e.data),j(),v(!1)})).catch((function(e){De.a.warning(e.response.data.message),v(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){c(!0)},I=function(e){c(!1),u(null)},k=function(e){y(e)};return Object(n.useEffect)((function(){f&&w()}),[f]),r.a.createElement("div",{className:"query-container"},l?r.a.createElement(h.a,{title:"\u8ba2\u5355\u4fe1\u606f",visible:l,onOk:I,onCancel:function(e){c(!1),u(null)},style:{userSelect:"text"},footer:[r.a.createElement(Xe.a,{key:"confirm",type:"primary",onClick:I},"\u786e\u8ba4")]},r.a.createElement("p",null,"\u8ba2\u5355\u53f7\uff1a",s.orderId),r.a.createElement("p",null,"\u8d2d\u4e70\u65e5\u671f\uff1a",s.date),r.a.createElement("p",null,"\u5546\u54c1\u4fe1\u606f\uff1a",s.productName,s.levelName),r.a.createElement("p",null,"\u91d1\u989d\uff1a",s.price),r.a.createElement("p",null,"\u5151\u6362\u7801\uff1a",s.code)):null,r.a.createElement("p",{className:"query-alert"},"\u4ec5\u80fd\u67e5\u8be2\u6700\u8fd1\u4e00\u6b21\u8d2d\u4e70\u8bb0\u5f55"),r.a.createElement(me.a,{defaultActiveKey:"1",className:"query-box-container",onChange:function(e){O(parseInt(e))}},r.a.createElement(Ka,{tab:"\u672c\u673a\u67e5\u8be2",key:"1",className:"query-by-local"},r.a.createElement(Xe.a,{type:"primary",onClick:function(){localStorage.getItem("orderInfo")?(u(JSON.parse(function(e){var t=Wa.a.enc.Utf8.parse("46cc793c53dc451b"),a=Wa.a.AES.decrypt(e,t,{mode:Wa.a.mode.ECB,padding:Wa.a.pad.Pkcs7});return Wa.a.enc.Utf8.stringify(a).toString()}(localStorage.getItem("orderInfo")))),c(!0)):De.a.warning("\u672a\u67e5\u8be2\u5230\u8ba2\u5355\u4fe1\u606f")},size:"medium",loading:b},"\u83b7\u53d6\u8ba2\u5355\u4fe1\u606f"),r.a.createElement("div",null,"\u672c\u65b9\u6cd5\u4ec5\u5bf9\u4e0b\u5355\u7684\u6d4f\u89c8\u5668\u6709\u6548")),r.a.createElement(Ka,{tab:"\u8ba2\u5355\u53f7\u67e5\u8be2",key:"2"},r.a.createElement(st.a,{onFinish:k},r.a.createElement(st.a.Item,{name:"orderId",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7",className:"query-input-box",style:{borderRadius:"5px"}})),r.a.createElement(st.a.Item,null,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",size:"medium",style:{marginTop:"10px"},loading:b},"\u83b7\u53d6\u8ba2\u5355\u4fe1\u606f")))),r.a.createElement(Ka,{tab:"\u90ae\u7bb1\u67e5\u8be2",key:"3"},r.a.createElement(st.a,{onFinish:k},r.a.createElement(st.a.Item,{name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u67e5\u8be2\u90ae\u7bb1"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u67e5\u8be2\u90ae\u7bb1",className:"query-input-mail",style:{borderRadius:"5px"}})),r.a.createElement(st.a.Item,{name:"password",rules:[{min:8,message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e8\u4f4d"},{required:!0,message:"\u8bf7\u8f93\u5165\u67e5\u8be2\u5bc6\u7801"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u67e5\u8be2\u5bc6\u7801",className:"query-input-mail",style:{borderRadius:"5px"}})),r.a.createElement(st.a.Item,null,r.a.createElement(Xe.a,{className:"",type:"primary",htmlType:"submit",size:"medium",style:{marginTop:"10px"},loading:b},"\u83b7\u53d6\u8ba2\u5355\u4fe1\u606f"))))))},Ja=function(e){for(var t=[],a=0;a<e.productInfo.memberLevel;a++)t.push({levelName:e.productInfo.levelName[a],levelPrice:e.productInfo.levelPrice[a],levelDesc:e.productInfo.levelDesc[a],levelLimit:e.productInfo.levelLimit[a],levelNote:e.productInfo.levelNote[a]});return t.map((function(t,a){return r.a.createElement("div",{className:"default-level-container level-theme".concat(a),key:a},t.levelLimit?r.a.createElement("div",{className:"default-remain"},r.a.createElement("span",{className:"default-remain-amount"},t.levelLimit),r.a.createElement("span",{className:"default-remain-text"},"\u5269\u4f59",r.a.createElement("br",null),"\u540d\u989d"),r.a.createElement("img",{className:"default-remain-bg",src:"/assets/remain.svg",alt:""})):null,t.note?r.a.createElement("div",{className:"default-remain"},r.a.createElement("span",null,t.note)):null,r.a.createElement("ul",null,r.a.createElement("li",{className:"default-theme-level-name"},t.levelName),r.a.createElement("li",{className:"default-theme-level-price"},r.a.createElement("span",{style:{fontSize:"25px",opacity:"0.6"}},"\uffe5"),r.a.createElement("span",{style:{fontSize:"50px"}},t.levelPrice.price),r.a.createElement("span",{style:{fontSize:"20px"}},"/",t.levelPrice.unit)),r.a.createElement("li",{className:"default-theme-level-note"},t.levelNote),r.a.createElement("li",{className:"default-theme-level-desc"},r.a.createElement("ul",null,t.levelDesc.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",null,e),r.a.createElement(ba.a,{className:"level-desc-check",style:{float:"right",lineHeight:"30px"}}))})))),r.a.createElement("li",{className:"default-theme-level-payment",onClick:function(){(t.levelLimit=0)?De.a.warning("\u8be5\u5546\u54c1\u5df2\u552e\u7f44"):e.handleDialog(!0,t)}},"\u9009\u62e9\u65b9\u6848")))}))},Qa=a(903),Xa=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1];Object(n.useEffect)((function(){var t="/assets/css/".concat(e.theme,".css");m(t),document.title=h.productName+"   "+h.productInfo;var a=document.querySelector("link[rel~='icon']");h.logo&&(a.href=h.logo)}),[]);var m=function(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)},p=function(e){c(e)},f=function(e){u(e)},y=new Date,h=e.productInfo;return r.a.createElement("div",{className:"default-theme-container"},l||s?r.a.createElement(Qa.a,{className:"contact-close",onClick:function(){p(!1),f(!1)}}):null,l?r.a.createElement(Va,{productInfo:h}):null,s?r.a.createElement(Ga,null):null,r.a.createElement("div",{style:l?{position:"fixed",width:"calc(100% - 17px)"}:{}},r.a.createElement("div",{className:"contact-container-mask",style:l||s||e.showDialog?{}:{display:"none"}}),("default"===e.theme||"tech"===e.theme||"nostagic"===e.theme||"blur"===e.theme||"blue_white"===e.theme)&&r.a.createElement("img",{src:"/assets/theme/".concat(e.theme,".svg"),alt:"",className:"default-bg"}),r.a.createElement("div",{className:"default-header"},h.logo?r.a.createElement("img",{src:h.logo,alt:"",className:"default-header-logo"}):null,r.a.createElement("span",{className:"default-header-name"},h.productName),r.a.createElement("span",{className:"default-header-info"},h.productInfo),r.a.createElement("span",{className:"default-header-contact",onClick:function(){p(!0)}},"\u8054\u7cfb\u6211\u4eec"),r.a.createElement("span",{className:"default-header-query",onClick:function(){f(!0)}},"\u67e5\u8be2\u8ba2\u5355")),r.a.createElement("p",{className:"default-choose-title"},"\u9009\u62e9\u60a8\u9700\u8981\u7684\u4f1a\u5458\u65b9\u6848"),r.a.createElement("div",{className:"default-body"},r.a.createElement(Ja,{handleDialog:e.handleDialog,productInfo:h})),r.a.createElement("div",{className:"default-footer"},"Supported by",r.a.createElement("a",{href:"https://github.com/troyeguo/coodo-pay",target:"_blank",rel:"noopener noreferrer"}," ","Coodo Pay"),", Copyright \xa9 ",y.getFullYear(),r.a.createElement("a",{href:"https://github.com/troyeguo",target:"_blank",rel:"noopener noreferrer"}," ","App by Troye"))))},$a=(a(842),function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],u=i[1],m=function(e){c(e)},p=function(e){u(e)},f=e.productInfo,y=new Date;return Object(n.useEffect)((function(){!function(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)}("/assets/css/".concat(e.theme,".css")),document.title=f.productName+"   "+f.productInfo;var t=document.querySelector("link[rel~='icon']");f.logo&&(t.href=f.logo)}),[]),r.a.createElement("div",{className:"mobile-page-container"},l||s?r.a.createElement(Qa.a,{className:"contact-close",onClick:function(){m(!1),p(!1)}}):null,("default"===e.theme||"tech"===e.theme||"nostagic"===e.theme||"blur"===e.theme||"blue_white"===e.theme)&&r.a.createElement("img",{src:"/assets/theme/".concat(e.theme,".svg"),alt:"",className:"mobile-bg"}),r.a.createElement("div",{className:"contact-container-mask",style:l||s||e.showDialog?{}:{display:"none"}}),l?r.a.createElement(Va,{productInfo:f}):null,s?r.a.createElement(Ga,null):null,r.a.createElement("div",{className:"mobile-page-header",style:{marginTop:10}},r.a.createElement("div",{className:"mobile-header-logo-container"},f.logo?r.a.createElement("img",{src:f.logo,alt:"",className:"mobile-header-logo"}):null,r.a.createElement("span",{className:"mobile-header-name"},f.productName)),r.a.createElement("p",{className:"mobile-header-info"},f.productInfo)),r.a.createElement("div",{className:"mobile-page-body-container"},r.a.createElement("div",{className:"mobile-page-body",style:{width:"calc(50vw - 140px + ".concat(280*f.memberLevel,"px)")}},r.a.createElement(Ja,{handleDialog:e.handleDialog,productInfo:f}))),r.a.createElement("div",{className:"mobile-page-footer"},r.a.createElement("div",{className:"mobile-page-contact"},r.a.createElement("span",{className:"mobile-footer-contact",onClick:function(){m(!0)}},"\u8054\u7cfb\u6211\u4eec"),"\xa0\xa0\xa0\xa0",r.a.createElement("span",{className:"mobile-footer-query",onClick:function(){p(!0)}},"\u67e5\u8be2\u8ba2\u5355")),r.a.createElement("div",{className:"mobile-page-copyright"},r.a.createElement("p",null,r.a.createElement("span",null,"Supported by"),r.a.createElement("a",{href:"https://github.com/troyeguo/coodo-pay",target:"_blank",rel:"noopener noreferrer"}," ","Coodo Pay")),r.a.createElement("p",null,"Copyright \xa9 ",y.getFullYear(),r.a.createElement("a",{href:"https://github.com/troyeguo",target:"_blank",rel:"noopener noreferrer"}," ","App by Troye")))))}),Za=(a(843),a(428)),en=a.n(Za),tn=(a(849),a(429)),an=a.n(tn),nn=a(282),rn="".concat(nn.prodHost),ln=an()(rn,{transports:["websocket"]}),cn=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1];return r.a.createElement(h.a,{title:"\u9a8c\u8bc1\u6298\u6263\u7801",style:{top:5},visible:e.isModalVisible,onOk:function(){return e.setModalVisible(!1)},onCancel:function(){return e.setModalVisible(!1)},footer:[r.a.createElement(Xe.a,{onClick:function(){return e.setModalVisible(!1)}},"\u53d6\u6d88")]},r.a.createElement(st.a,{onFinish:function(t){c(!0),Le.post("/disaccount/query",Object(G.a)({code:t.code},e.order)).then((function(a){e.setDisaccount({price:a.data,code:t.code}),c(!1),De.a.success("\u9a8c\u8bc1\u6210\u529f"),e.setModalVisible(!1)})).catch((function(e){De.a.warning(e.response.data.message),c(!1),console.log(e,"error")}))},layout:O.isMobile?"horizontal":"inline",style:O.isMobile?{}:{marginLeft:"60px"}},r.a.createElement(st.a.Item,{label:"\u6298\u6263\u7801",name:"code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6298\u6263\u7801"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u6298\u6263\u7801",style:O.isMobile?{}:{borderRadius:"5px",width:"200px"}})),r.a.createElement(st.a.Item,null,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",loading:l},"\u9a8c\u8bc1")),","))},on=300,sn=r.a.createElement(ht.a,{style:{fontSize:24},spin:!0}),un=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),i=Object(d.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)(null),f=Object(d.a)(p,2),y=f[0],h=f[1],E=Object(n.useState)(null),g=Object(d.a)(E,2),b=g[0],v=g[1],N=Object(n.useState)(null),x=Object(d.a)(N,2),w=x[0],j=x[1],I=Object(n.useState)(!1),k=Object(d.a)(I,2),D=k[0],S=k[1],P=Object(n.useState)(!1),B=Object(d.a)(P,2),_=B[0],C=B[1],L=Object(n.useState)(on),A=Object(d.a)(L,2),T=A[0],M=A[1],F=Object(n.useState)(!1),R=Object(d.a)(F,2),Y=R[0],q=R[1],W=Object(n.useState)(null),U=Object(d.a)(W,2),K=U[0],J=U[1],Q=Object(G.a)({},e.chooseLevel),X=K?K.price:Q.levelPrice.price;Object(n.useEffect)((function(){return fetch("https://api.exchangeratesapi.io/latest?base=USD").then((function(e){return e.json()})).then((function(e){C(e.rates.CNY)})),Le.get("/checkPayment").then((function(e){j(e.data.alipayId),v(e.data.paypalId)})),clearInterval(Pt)}),[]),Object(n.useEffect)((function(){if(b&&" "!==b){var e=document.createElement("script");e.src="https://www.paypal.com/sdk/js?client-id=".concat(b,"&currency=USD"),document.body.appendChild(e)}}),[b]);var $=function(){var e=Object(V.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Date.now().toString()+Math.floor(9e3*Math.random()+1e3),u(Object(G.a)({},t,{orderId:a})),ln.on("payment checked",function(){var e=Object(V.a)(H.a.mark((function e(t){var n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le("/order/fetch/".concat(a));case 2:n=e.sent,r=n.data,"\u652f\u4ed8\u6210\u529f"===t&&(h(r),De.a.success("\u652f\u4ed8\u6210\u529f"),localStorage.setItem("orderInfo",Ua(JSON.stringify(r)))),"\u8ba2\u5355\u5f02\u5e38"===t&&(De.a.error("\u652f\u4ed8\u5f02\u5e38"),h(r),S(!0),localStorage.setItem("orderInfo",Ua(JSON.stringify(r)))),"\u8ba2\u5355\u8d85\u65f6"===t&&(De.a.error("\u652f\u4ed8\u5f02\u5e38"),h(r),S(!0),localStorage.setItem("orderInfo",Ua(JSON.stringify(r))));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){Le.post("/order/".concat(s.payment),Object(G.a)({},s,{price:X,productId:e.productInfo.productId,productName:e.productInfo.productName,productType:e.productInfo.productType,levelName:Q.levelName,disaccount:K?K.code:"\u672a\u4f7f\u7528"})).then((function(e){"balance"!==s.payment&&(c(e.data),Pt=setInterval((function(){on--,M(on),0===on&&clearInterval(Pt)}),1e3))})).catch((function(e){e.response&&De.a.error(e.response.data.message),u(null)}))};Object(n.useEffect)((function(){s&&("alipay"===s.payment||"balance"===s.payment?Z():window.paypal.Buttons({createOrder:function(e,t){return Z(),t.order.create({purchase_units:[{amount:{value:X<.1?"0.01":(X/_).toFixed(2)}}]})},onApprove:function(e,t){return t.order.capture().then((function(e){De.a.success("\u786e\u8ba4\u8ba2\u5355\u4fe1\u606f\u4e2d\uff0c\u8bf7\u7a0d\u5019"),Le.post("/paypal/callback",{orderId:s.orderId,captureId:e.purchase_units[0].payments.captures[0].id}).then((function(e){})).catch((function(e){De.a.error("\u4ea4\u6613\u5931\u8d25")}))}))},style:{color:"blue",shape:"pill",label:"pay",height:40}}).render("#paypal-button-container"))}),[s]);return r.a.createElement("div",{className:"product-payment-container"},r.a.createElement(cn,{isModalVisible:Y,setModalVisible:q,useDisaccount:K,setDisaccount:J,order:{productName:e.productInfo.productName,levelName:Q.levelName,price:Q.levelPrice.price}}),r.a.createElement(Qa.a,{className:"product-payment-close",onClick:function(){on=300,clearInterval(Pt),e.handleDialog(!1,null)}}),r.a.createElement(m.a,{justify:"center",className:"product-payment-title"},"\u521b\u5efa\u8ba2\u5355"),r.a.createElement(m.a,{justify:"center",className:"product-payment-message"},1===e.productInfo.productType?"\u652f\u4ed8\u5b8c\u6210\u540e\uff0c\u60a8\u5c06\u83b7\u5f97\u4e00\u4e2a".concat(Q.levelName,"\u4f1a\u5458\u7684\u5151\u6362\u7801\uff0c\u90ae\u7bb1\u5bc6\u7801\u4ec5\u7528\u4e8e\u67e5\u8be2\u5151\u6362\u7801\uff0c\u5982\u679c\u60a8\u6709\u4efb\u4f55\u8ba2\u5355\u95ee\u9898\uff0c\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u8054\u7cfb\u6211\u4eec\uff0c\u4e0e\u6211\u4eec\u53d6\u5f97\u8054\u7cfb"):"\u8bf7\u8f93\u5165\u60a8\u7684".concat(e.productInfo.productName,"\u90ae\u7bb1\u548c\u5bc6\u7801\uff0c\u652f\u4ed8\u5b8c\u6210\u540e\uff0c\u60a8\u7684\u8d26\u6237\u5c31\u4f1a\u81ea\u52a8\u83b7\u5f97").concat(Q.levelName,"\u4f1a\u5458\uff0c\u5982\u679c\u60a8\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u8054\u7cfb\u6211\u4eec\uff0c\u4e0e\u6211\u4eec\u53d6\u5f97\u8054\u7cfb")),y?D?r.a.createElement(Tt.a,{status:"error",title:"\u8d2d\u4e70\u5931\u8d25",subTitle:"\u8ba2\u5355\u51fa\u73b0\u5f02\u5e38\uff0c\u8bf7\u5c3d\u5feb\u4e0e\u6280\u672f\u4eba\u5458\u53d6\u5f97\u8054\u7cfb\uff0c\u4ee5\u4e0b\u662f\u60a8\u7684\u8ba2\u5355\u4fe1\u606f",extra:[r.a.createElement("div",{className:"product-payment-results-detail",key:"orderInfo"},r.a.createElement("p",null,"\u8ba2\u5355\u53f7\uff1a",y.orderId),r.a.createElement("p",null,"\u8d2d\u4e70\u65e5\u671f\uff1a",y.date),r.a.createElement("p",null,"\u5546\u54c1\u4fe1\u606f\uff1a",y.productName,y.levelName),r.a.createElement("p",null,"\u91d1\u989d\uff1a",y.price,"\u5143"),r.a.createElement("p",null,"\u90ae\u7bb1\uff1a",y.email))],className:"product-payment-results"}):r.a.createElement(Tt.a,{status:"success",title:"\u8d2d\u4e70\u6210\u529f",extra:[r.a.createElement("div",{className:"product-payment-results-detail",key:"orderInfo"},r.a.createElement("p",null,"\u8ba2\u5355\u53f7\uff1a",y.orderId),r.a.createElement("p",null,"\u8d2d\u4e70\u65e5\u671f\uff1a",y.date),r.a.createElement("p",null,"\u5546\u54c1\u4fe1\u606f\uff1a",y.productName,y.levelName),r.a.createElement("p",null,"\u91d1\u989d\uff1a",y.price,"\u5143"),r.a.createElement("p",null,"\u5151\u6362\u7801\uff1a",y.code))],className:"product-payment-results"}):r.a.createElement(m.a,{justify:"center"},O.isMobile&&s?null:r.a.createElement(z.a,null,r.a.createElement(m.a,{justify:"center",style:{marginTop:"20px"}},r.a.createElement("span",{className:"product-payment-member"},"\u8d2d\u4e70",Q.levelName,"\u4f1a\u5458"),r.a.createElement("span",{className:"product-payment-price"},X,"\u5143")),r.a.createElement(m.a,null,r.a.createElement(z.a,null,r.a.createElement(st.a,Object.assign({},{labelCol:{sm:{span:6}},wrapperCol:{sm:{span:16,offset:1}}},{onFinish:$}),r.a.createElement(st.a.Item,{label:"\u67e5\u8be2\u90ae\u7bb1",name:"email",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u683c\u5f0f"},{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]},r.a.createElement(ut.a,{placeholder:1===e.productInfo.productType?"\u7528\u4e8e\u63a5\u6536".concat(e.productInfo.productName,"\u5151\u6362\u7801"):"\u8bf7\u8f93\u5165\u60a8\u7684".concat(e.productInfo.productName,"\u8d26\u53f7")})),r.a.createElement(st.a.Item,{name:"password",label:"\u67e5\u8be2\u5bc6\u7801",rules:[{min:8,message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e8\u4f4d"},{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},r.a.createElement(ut.a,{placeholder:1===e.productInfo.productType?"\u7528\u4e8e\u67e5\u8be2".concat(e.productInfo.productName,"\u5151\u6362\u7801"):"\u8bf7\u8f93\u5165\u60a8\u7684".concat(e.productInfo.productName,"\u5bc6\u7801")})),r.a.createElement(st.a.Item,{label:"\u652f\u4ed8\u65b9\u5f0f",name:"payment",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f"}]},r.a.createElement(jt.a.Group,{defaultValue:"alipay"},r.a.createElement(jt.a,{value:"alipay",disabled:!w||" "===w},r.a.createElement("span",{className:"paypal-text"},"\u652f\u4ed8\u5b9d")),r.a.createElement(jt.a,{value:"paypal",disabled:!b||" "===b},r.a.createElement("span",{className:"paypal-text"},"PayPal")),r.a.createElement(jt.a,{value:"balance",disabled:"yes"!==e.productInfo.allowBalance},r.a.createElement("span",{className:"paypal-text"},"\u4f59\u989d")))),r.a.createElement(st.a.Item,null,r.a.createElement(Xe.a,{className:"product-payment-next-button",type:"primary",htmlType:"submit"},"\u4e0b\u4e00\u6b65"),r.a.createElement("p",{className:"disaccount-option",onClick:function(){q(!0)}},"\u4f7f\u7528\u6298\u6263\u7801")))))),s&&"no"===e.productInfo.allowBalance&&r.a.createElement(z.a,null,"alipay"===s.payment?r.a.createElement("div",{className:"product-payment-qrcode-container"},r.a.createElement("div",{className:"product-payment-qrcode"},l?r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(en.a,{value:l,size:150,fgColor:"#000000",className:"product-payment-qrcode-image"})):r.a.createElement(Ie.a,{indicator:sn,tip:"  \u4e8c\u7ef4\u7801\u751f\u6210\u4e2d...",className:"product-payment-qrcode-spin"})),r.a.createElement("div",{className:"product-payment-qrcode-text"},O.isMobile?"\u70b9\u51fb\u4e8c\u7ef4\u7801\u8df3\u8f6c\u652f\u4ed8":"\u4f7f\u7528\u652f\u4ed8\u5b9d \u626b\u4e00\u626b"),l&&T>-1&&r.a.createElement("p",{className:"payment-countdown"},"\u652f\u4ed8\u5012\u8ba1\u65f6\uff1a","0"+Math.floor(T/60)+":",T%60>9?T%60:"0"+T%60)):r.a.createElement("div",{className:"product-payment-paypal"},r.a.createElement("div",{id:"paypal-button-container"})))))},mn={handleFetchProductInfo:function(e){return function(){var t=Object(V.a)(H.a.mark((function t(a){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Le.get("/product/".concat(e)).then((function(e){var t=e.data;a(tt(t))})).catch((function(){a(tt(404)),De.a.error("\u5546\u54c1\u4fe1\u606f\u4e0d\u5b58\u5728")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},handleFetchSetting:nt},dn=Object(o.b)((function(e){return{productInfo:e.product.productInfo,setting:e.product.setting,paypal:e.form.paypal}}),mn)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),i=Object(d.a)(o,2),u=i[0],m=i[1];Object(n.useEffect)((function(){var t=document.location.toString().split("/").pop();e.handleFetchProductInfo(t),e.handleFetchSetting()}),[]);var p=function(e,t){c(e),m(t)},f=e.productInfo,y=e.setting;return y&&f?404===f?r.a.createElement(s.a,{to:"/error/404"}):r.a.createElement("div",{className:"product-theme-container"},l?r.a.createElement(un,{productInfo:f,chooseLevel:u,handleDialog:p,showDialog:l,paypal:e.paypal}):null,O.isMobile?r.a.createElement($a,{productInfo:f,handleDialog:p,showDialog:l,theme:y.themeOption}):r.a.createElement(Xa,{productInfo:f,handleDialog:p,showDialog:l,theme:y.themeOption}),r.a.createElement("img",{src:"/assets/contact-header.png",alt:"",style:{display:"none"}}),r.a.createElement("img",{src:"/assets/contact-footer.png",alt:"",style:{display:"none"}})):r.a.createElement(ke,null)})),pn=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=function(){e.handleCurrent("collectInfo")},i=function(){c(!1)};return r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/theme/tech.svg",alt:"",className:"welcome-bg"}),r.a.createElement(m.a,{justify:"center",className:"welcome-title"},"\u6b22\u8fce\u4f7f\u7528 Coodo Pay"),r.a.createElement(m.a,{justify:"center",className:"welcome-subtitle"},"\u4e00\u4e2a\u57fa\u4e8e React \u548c Koa2 \u5f00\u53d1\u7684\u5728\u7ebf\u652f\u4ed8\u7cfb\u7edf"),r.a.createElement(m.a,{justify:"center",className:"welcome-info"},"\u56e0\u4e3a\u8fd9\u662f\u60a8\u7b2c\u4e00\u6b21\u4f7f\u7528 Coodo Pay\uff0c",r.a.createElement("br",null),"\u6211\u4eec\u9700\u8981\u5411\u60a8\u6536\u96c6\u548c\u786e\u8ba4\u4e00\u4e9b\u4fe1\u606f\uff0c\u8fd9\u53ea\u9700\u8981\u82b1\u8d39\u51e0\u5206\u949f"),r.a.createElement(m.a,{justify:"center",className:"welcome-button"},r.a.createElement(Xe.a,{type:"primary",onClick:function(){c(!0)},size:"large"},"\u597d\u7684\uff0c\u5f00\u59cb\u5427")),r.a.createElement(h.a,{visible:l,title:"\u5f00\u59cb\u4e4b\u524d",onOk:o,onCancel:i,footer:[r.a.createElement(Xe.a,{key:"back",onClick:i},"\u7b97\u4e86\u5427"),r.a.createElement(Xe.a,{key:"submit",type:"primary",onClick:o},"\u7ee7\u7eed")]},r.a.createElement("p",null,"Coodo Pay \u662f\u4e00\u4e2a\u514d\u8d39\u5f00\u6e90\u7684\u4e2a\u4eba\u9879\u76ee\uff0c\u521d\u8877\u662f\u4e3a\u72ec\u7acb\u5f00\u53d1\u8005\u63d0\u4f9b\u4e00\u5957\u4f1a\u5458\u652f\u4ed8\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u672c\u9879\u76ee\u4e25\u7981\u4e00\u5207\u6deb\u79fd\u3001\u6d89\u8d4c\u3001\u653f\u6cbb\u3001\u9493\u9c7c\u3001\u8bc8\u9a97\u3001\u7406\u8d22\u3001\u501f\u8d37\u3001\u5c01\u5efa\u8ff7\u4fe1\u7b49\u975e\u6cd5\u7f51\u7ad9\u4f7f\u7528\uff0c\u70b9\u51fb\u7ee7\u7eed\u8868\u660e\u60a8\u540c\u610f\u4ee5\u4e0a\u6761\u6b3e")))},fn=a(214),yn=xt.a.Step,hn={wrapperCol:{xs:{span:24,offset:12},sm:{span:16,offset:11}}},En={wrapperCol:{xs:{span:24,offset:12},sm:{span:16,offset:5}}},gn={labelCol:{sm:{span:6,offset:0}},wrapperCol:{sm:{span:16,offset:0}}},bn={labelCol:{sm:{span:0,offset:1}},wrapperCol:{sm:{span:20,offset:2}}},vn=function(e){var t=Object(n.useState)(0),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),s=Object(d.a)(o,2),u=s[0],p=s[1],f=function(e){e.password===e.passwordAgain?p(Object(G.a)({},u,{},e)):De.a.warning("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4")},y=function(){c(l+1)};Object(n.useEffect)((function(){u&&(1===l?Le.post("/user",u).then((function(){y()})).catch((function(){De.a.error("\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})):y())}),[u]);var h=[{title:"\u5b8c\u5584\u4e2a\u4eba\u4fe1\u606f",content:r.a.createElement(st.a,Object.assign({onFinish:f,initialValues:u||null,style:{marginTop:"40px"},defaultValue:u},gn),r.a.createElement(st.a.Item,{label:"\u90ae\u7bb1",name:"email",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u683c\u5f0f"},{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"})),r.a.createElement(st.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{min:8,message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e8\u4f4d"},{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},r.a.createElement(ut.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),r.a.createElement(st.a.Item,{label:"\u518d\u6b21\u8f93\u5165",name:"passwordAgain",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}]},r.a.createElement(ut.a.Password,{placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"})),r.a.createElement(st.a.Item,hn,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit"},"\u4e0b\u4e00\u6b65")))},{title:"\u8bbe\u7f6e\u5b89\u5168\u95ee\u9898",content:r.a.createElement(st.a,Object.assign({onFinish:f,initialValues:u||null,style:{marginTop:"40px"}},bn),r.a.createElement(st.a.Item,{label:"\u5bc6\u5319",name:"secret",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u5319"}]},r.a.createElement(ut.a,{placeholder:"\u7528\u4e8e\u52a0\u5bc6\u60a8\u7684\u91cd\u8981\u6570\u636e"})),r.a.createElement(st.a.Item,{label:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d",name:"answer1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u597d\u7684\u670b\u53cb\u7684\u59d3\u540d"})),r.a.createElement(st.a.Item,{label:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57",name:"answer2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"}]},r.a.createElement(ut.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u6700\u7231\u7684\u7535\u5f71\u7684\u540d\u5b57"})),r.a.createElement(st.a.Item,En,r.a.createElement(Xe.a,{type:"primary",htmlType:"submit",className:"collect-finish"},"\u5b8c\u6210\u6ce8\u518c")),r.a.createElement(Xe.a,{onClick:function(){c(l-1)},className:"collect-prev"},"\u4e0a\u4e00\u6b65"))},{title:"\u5b8c\u6210\u6ce8\u518c",content:r.a.createElement(Tt.a,{status:"success",title:"\u91cd\u542f\u670d\u52a1\u5668",subTitle:"\u7cfb\u7edf\u6b63\u5728\u91cd\u542f\u670d\u52a1\u5668\u4f7f\u8bbe\u7f6e\u751f\u6548\uff0c\u5982\u679c\u60a8\u662f\u5728\u672c\u5730\u542f\u52a8\u7684\uff0c\u8bf7\u624b\u52a8\u91cd\u542f\u670d\u52a1\u5668",extra:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},r.a.createElement(Xe.a,{type:"primary",size:"large"},"\u524d\u5f80\u767b\u5f55"))),className:"result",style:{marginTop:"20px"}})}];return r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/theme/tech.svg",alt:"",className:"welcome-bg"}),r.a.createElement(m.a,{justify:"center",className:"collect-steps-container"},r.a.createElement(xt.a,{current:l,className:"collect-steps"},h.map((function(e){return r.a.createElement(yn,{key:e.title,title:e.title})}))),r.a.createElement("div",Object(fn.a)({className:"steps-content"},"className","collect-steps-box"),h[l].content)))},Nn=(a(880),Object(o.b)((function(e){return{setting:e.product.setting}}),{})((function(e){var t=Object(n.useState)("welcome"),a=Object(d.a)(t,2),l=a[0],c=a[1],o=function(e){c(e)},i=e.setting;return r.a.createElement("div",null,i?"yes"===i.isFirst?"welcome"===l?r.a.createElement(pn,{handleCurrent:o}):r.a.createElement(vn,{handleCurrent:o}):r.a.createElement(s.a,{to:"/login"}):r.a.createElement(Tt.a,{status:"warning",title:"\u6570\u636e\u5e93\u914d\u7f6e\u51fa\u9519",extra:r.a.createElement(Xe.a,{type:"primary",key:"console"},r.a.createElement("a",{href:"https://www.yuque.com/docs/share/5d0fd4df-7de6-424c-a389-6e187e764966?#%20\u300aCoodo%20Pay%20\u642d\u5efa\u6559\u7a0b\uff08\u5b9d\u5854\u9762\u677f\u7bc7\uff09\u300b",target:"_blank",rel:"noopener noreferrer"},"\u6211\u9700\u8981\u5e2e\u52a9"))}))}))),xn=a(435),On=Object(s.g)((function(e){var t=e.component,a=Object(xn.a)(e,["component"]),n=!!localStorage.getItem("jwt");return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))})),wn=function(){return r.a.createElement(i.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{component:Nn,exact:!0,path:"/install"}),r.a.createElement(s.b,{component:Ha,exact:!0,path:"/login"}),r.a.createElement(s.b,{component:dn,path:"/product"}),r.a.createElement(s.b,{component:Ba,path:"/error/404"}),r.a.createElement(s.b,{component:_a,path:"/error/500"}),r.a.createElement(On,{path:"/",component:Ta})))},jn=a(108),In=a(430),kn={userInfo:null},Dn={isCollapsed:!1},Sn={salesByWeek:null,visitsByWeek:null,ordersByWeek:null};var Pn={salesByMonth:null,visitsByMonth:null,ordersByMonth:null};var Bn={salesByYear:null,visitsByYear:null,ordersByYear:null};var _n={salesByPeriod:null,visitsByPeriod:null,ordersByPeriod:null,allSales:null,allVisits:null,allOrders:null,period:null};var Cn={productInfo:null,allProducts:null,setting:null},Ln={formData:null,alipay:null,wechatPay:null,paypal:null,email:null,user:null,isVerified:!1,isShowDialog:!1,order:null,disaccount:null,customer:null},An=Object(jn.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_USER_INFO":return Object(G.a)({},e,{userInfo:t.payload});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANLDE_COLLAPSE":return Object(G.a)({},e,{isCollapsed:t.payload});default:return e}},weekData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SALES_BY_WEEK":return Object(G.a)({},e,{salesByWeek:t.payload});case"HANDLE_VISITS_BY_WEEK":return Object(G.a)({},e,{visitsByWeek:t.payload});case"HANDLE_ORDERS_BY_WEEK":return Object(G.a)({},e,{ordersByWeek:t.payload});default:return e}},monthData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SALES_BY_MONTH":return Object(G.a)({},e,{salesByMonth:t.payload});case"HANDLE_VISITS_BY_MONTH":return Object(G.a)({},e,{visitsByMonth:t.payload});case"HANDLE_ORDERS_BY_MONTH":return Object(G.a)({},e,{ordersByMonth:t.payload});default:return e}},yearData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SALES_BY_YEAR":return Object(G.a)({},e,{salesByYear:t.payload});case"HANDLE_VISITS_BY_YEAR":return Object(G.a)({},e,{visitsByYear:t.payload});case"HANDLE_ORDERS_BY_YEAR":return Object(G.a)({},e,{ordersByYear:t.payload});default:return e}},periodData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SALES_BY_PERIOD":return Object(G.a)({},e,{salesByPeriod:t.payload});case"HANDLE_VISITS_BY_PERIOD":return Object(G.a)({},e,{visitsByPeriod:t.payload});case"HANDLE_ORDERS_BY_PERIOD":return Object(G.a)({},e,{ordersByPeriod:t.payload});case"HANDLE_ALL_SALES":return Object(G.a)({},e,{allSales:t.payload});case"HANDLE_ALL_VISITS":return Object(G.a)({},e,{allVisits:t.payload});case"HANDLE_ALL_ORDERS":return Object(G.a)({},e,{allOrders:t.payload});case"HANDLE_PERIOD":return Object(G.a)({},e,{period:t.payload});default:return e}},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_FORM_DATA":return Object(G.a)({},e,{formData:t.payload});case"HANDLE_ALIPAY":return Object(G.a)({},e,{alipay:t.payload});case"HANDLE_WECHAT_PAY":return Object(G.a)({},e,{wechatPay:t.payload});case"HANDLE_PAYPAL":return Object(G.a)({},e,{paypal:t.payload});case"HANDLE_EMAIL":return Object(G.a)({},e,{email:t.payload});case"HANDLE_USER":return Object(G.a)({},e,{user:t.payload});case"HANDLE_CUSTOMER":return Object(G.a)({},e,{customer:t.payload});case"HANDLE_VERIFY":return Object(G.a)({},e,{isVerified:t.payload});case"HANDLE_ORDER":return Object(G.a)({},e,{order:t.payload});case"HANDLE_DISACCOUNT":return Object(G.a)({},e,{disaccount:t.payload});case"HANDLE_VERIFY_DIALOG":return Object(G.a)({},e,{isShowDialog:t.payload});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANLDE_PRODUCT_INFO":return Object(G.a)({},e,{productInfo:t.payload});case"HANLDE_ALL_PRODUCTS":return Object(G.a)({},e,{allProducts:t.payload});case"HANLDE_SETTING":return Object(G.a)({},e,{setting:t.payload});default:return e}}}),Tn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||jn.d,Mn=Object(jn.e)(An,Tn(Object(jn.a)(In.a))),Fn=(a(881),function(){return r.a.createElement(o.a,{store:Mn},r.a.createElement(wn,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Fn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[436,1,2]]]);
//# sourceMappingURL=main.53812de3.chunk.js.map